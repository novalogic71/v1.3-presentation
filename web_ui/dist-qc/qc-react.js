(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ng={exports:{}},gc={},Ag={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),Ow=Symbol.for("react.portal"),Iw=Symbol.for("react.fragment"),Pw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Dw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),Fw=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),Vw=Symbol.for("react.memo"),zw=Symbol.for("react.lazy"),op=Symbol.iterator;function Bw(t){return t===null||typeof t!="object"?null:(t=op&&t[op]||t["@@iterator"],typeof t=="function"?t:null)}var Mg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rg=Object.assign,Og={};function Ui(t,e,n){this.props=t,this.context=e,this.refs=Og,this.updater=n||Mg}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ui.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ig(){}Ig.prototype=Ui.prototype;function sh(t,e,n){this.props=t,this.context=e,this.refs=Og,this.updater=n||Mg}var ih=sh.prototype=new Ig;ih.constructor=sh;Rg(ih,Ui.prototype);ih.isPureReactComponent=!0;var ap=Array.isArray,Pg=Object.prototype.hasOwnProperty,oh={current:null},$g={key:!0,ref:!0,__self:!0,__source:!0};function Dg(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Pg.call(e,r)&&!$g.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ca,type:t,key:i,ref:o,props:s,_owner:oh.current}}function Ww(t,e){return{$$typeof:ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ah(t){return typeof t=="object"&&t!==null&&t.$$typeof===ca}function Uw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lp=/\/+/g;function iu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Uw(""+t.key):e.toString(36)}function rl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ca:case Ow:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+iu(o,0):r,ap(s)?(n="",t!=null&&(n=t.replace(lp,"$&/")+"/"),rl(s,e,n,"",function(c){return c})):s!=null&&(ah(s)&&(s=Ww(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ap(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+iu(i,a);o+=rl(i,e,n,l,s)}else if(l=Bw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+iu(i,a++),o+=rl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Da(t,e,n){if(t==null)return t;var r=[],s=0;return rl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function qw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},sl={transition:null},Hw={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:sl,ReactCurrentOwner:oh};function jg(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Da,forEach:function(t,e,n){Da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Da(t,function(){e++}),e},toArray:function(t){return Da(t,function(e){return e})||[]},only:function(t){if(!ah(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ui;ve.Fragment=Iw;ve.Profiler=$w;ve.PureComponent=sh;ve.StrictMode=Pw;ve.Suspense=Lw;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;ve.act=jg;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=oh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Pg.call(e,l)&&!$g.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ca,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:jw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dw,_context:t},t.Consumer=t};ve.createElement=Dg;ve.createFactory=function(t){var e=Dg.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:Fw,render:t}};ve.isValidElement=ah;ve.lazy=function(t){return{$$typeof:zw,_payload:{_status:-1,_result:t},_init:qw}};ve.memo=function(t,e){return{$$typeof:Vw,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=sl.transition;sl.transition={};try{t()}finally{sl.transition=e}};ve.unstable_act=jg;ve.useCallback=function(t,e){return Yt.current.useCallback(t,e)};ve.useContext=function(t){return Yt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Yt.current.useEffect(t,e)};ve.useId=function(){return Yt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Yt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};ve.useRef=function(t){return Yt.current.useRef(t)};ve.useState=function(t){return Yt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Yt.current.useTransition()};ve.version="18.3.1";Ag.exports=ve;var T=Ag.exports;const he=Rw(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw=T,Zw=Symbol.for("react.element"),Xw=Symbol.for("react.fragment"),Yw=Object.prototype.hasOwnProperty,Qw=Gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kw={key:!0,ref:!0,__self:!0,__source:!0};function Fg(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yw.call(e,r)&&!Kw.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Zw,type:t,key:i,ref:o,props:s,_owner:Qw.current}}gc.Fragment=Xw;gc.jsx=Fg;gc.jsxs=Fg;Ng.exports=gc;var _=Ng.exports,Cl={},Lg={exports:{}},Cn={},Vg={exports:{}},zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,O){var I=R.length;R.push(O);e:for(;0<I;){var V=I-1>>>1,B=R[V];if(0<s(B,O))R[V]=O,R[I]=B,I=V;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],I=R.pop();if(I!==O){R[0]=I;e:for(var V=0,B=R.length,J=B>>>1;V<J;){var te=2*(V+1)-1,Z=R[te],Q=te+1,xe=R[Q];if(0>s(Z,I))Q<B&&0>s(xe,Z)?(R[V]=xe,R[Q]=I,V=Q):(R[V]=Z,R[te]=I,V=te);else if(Q<B&&0>s(xe,I))R[V]=xe,R[Q]=I,V=Q;else break e}}return O}function s(R,O){var I=R.sortIndex-O.sortIndex;return I!==0?I:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=R)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function x(R){if(g=!1,y(R),!m)if(n(l)!==null)m=!0,$(w);else{var O=n(c);O!==null&&F(x,O.startTime-R)}}function w(R,O){m=!1,g&&(g=!1,f(b),b=-1),p=!0;var I=h;try{for(y(O),d=n(l);d!==null&&(!(d.expirationTime>O)||R&&!A());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var B=V(d.expirationTime<=O);O=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),y(O)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var te=n(c);te!==null&&F(x,te.startTime-O),J=!1}return J}finally{d=null,h=I,p=!1}}var S=!1,k=null,b=-1,N=5,E=-1;function A(){return!(t.unstable_now()-E<N)}function M(){if(k!==null){var R=t.unstable_now();E=R;var O=!0;try{O=k(!0,R)}finally{O?j():(S=!1,k=null)}}else S=!1}var j;if(typeof v=="function")j=function(){v(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,P=D.port2;D.port1.onmessage=M,j=function(){P.postMessage(null)}}else j=function(){C(M,0)};function $(R){k=R,S||(S=!0,j())}function F(R,O){b=C(function(){R(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,$(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var I=h;h=O;try{return R()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=h;h=R;try{return O()}finally{h=I}},t.unstable_scheduleCallback=function(R,O,I){var V=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?V+I:V):I=V,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=I+B,R={id:u++,callback:O,priorityLevel:R,startTime:I,expirationTime:B,sortIndex:-1},I>V?(R.sortIndex=I,e(c,R),n(l)===null&&R===n(c)&&(g?(f(b),b=-1):g=!0,F(x,I-V))):(R.sortIndex=B,e(l,R),m||p||(m=!0,$(w))),R},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(R){var O=h;return function(){var I=h;h=O;try{return R.apply(this,arguments)}finally{h=I}}}})(zg);Vg.exports=zg;var Jw=Vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_=T,Sn=Jw;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bg=new Set,Fo={};function Gs(t,e){Ei(t,e),Ei(t+"Capture",e)}function Ei(t,e){for(Fo[t]=e,t=0;t<e.length;t++)Bg.add(e[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=Object.prototype.hasOwnProperty,t_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cp={},up={};function n_(t){return Bu.call(up,t)?!0:Bu.call(cp,t)?!1:t_.test(t)?up[t]=!0:(cp[t]=!0,!1)}function r_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function s_(t,e,n,r){if(e===null||typeof e>"u"||r_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lh=/[\-:]([a-z])/g;function ch(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lh,ch);$t[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lh,ch);$t[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lh,ch);$t[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function uh(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s_(e,n,s,r)&&(n=null),r||s===null?n_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=e_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),dh=Symbol.for("react.strict_mode"),Wu=Symbol.for("react.profiler"),Wg=Symbol.for("react.provider"),Ug=Symbol.for("react.context"),hh=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),qu=Symbol.for("react.suspense_list"),fh=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),qg=Symbol.for("react.offscreen"),dp=Symbol.iterator;function oo(t){return t===null||typeof t!="object"?null:(t=dp&&t[dp]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,ou;function go(t){if(ou===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ou=e&&e[1]||""}return`
`+ou+t}var au=!1;function lu(t,e){if(!t||au)return"";au=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{au=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?go(t):""}function i_(t){switch(t.tag){case 5:return go(t.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return t=lu(t.type,!1),t;case 11:return t=lu(t.type.render,!1),t;case 1:return t=lu(t.type,!0),t;default:return""}}function Hu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ri:return"Fragment";case ni:return"Portal";case Wu:return"Profiler";case dh:return"StrictMode";case Uu:return"Suspense";case qu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ug:return(t.displayName||"Context")+".Consumer";case Wg:return(t._context.displayName||"Context")+".Provider";case hh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fh:return e=t.displayName||null,e!==null?e:Hu(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return Hu(t(e))}catch{}}return null}function o_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hu(e);case 8:return e===dh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a_(t){var e=Hg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fa(t){t._valueTracker||(t._valueTracker=a_(t))}function Gg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gu(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=as(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zg(t,e){e=e.checked,e!=null&&uh(t,"checked",e,!1)}function Zu(t,e){Zg(t,e);var n=as(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xu(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xu(t,e,n){(e!=="number"||bl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vo=Array.isArray;function yi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+as(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(vo(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:as(n)}}function Xg(t,e){var n=as(e.value),r=as(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var La,Qg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=La.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l_=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(t){l_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ko[e]=ko[t]})});function Kg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ko.hasOwnProperty(t)&&ko[t]?(""+e).trim():e+"px"}function Jg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Kg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var c_=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ku(t,e){if(e){if(c_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ju(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=null;function ph(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var td=null,wi=null,_i=null;function gp(t){if(t=ha(t)){if(typeof td!="function")throw Error(z(280));var e=t.stateNode;e&&(e=xc(e),td(t.stateNode,t.type,e))}}function e0(t){wi?_i?_i.push(t):_i=[t]:wi=t}function t0(){if(wi){var t=wi,e=_i;if(_i=wi=null,gp(t),e)for(t=0;t<e.length;t++)gp(e[t])}}function n0(t,e){return t(e)}function r0(){}var cu=!1;function s0(t,e,n){if(cu)return t(e,n);cu=!0;try{return n0(t,e,n)}finally{cu=!1,(wi!==null||_i!==null)&&(r0(),t0())}}function Vo(t,e){var n=t.stateNode;if(n===null)return null;var r=xc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var nd=!1;if(br)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){nd=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{nd=!1}function u_(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Co=!1,Tl=null,El=!1,rd=null,d_={onError:function(t){Co=!0,Tl=t}};function h_(t,e,n,r,s,i,o,a,l){Co=!1,Tl=null,u_.apply(d_,arguments)}function f_(t,e,n,r,s,i,o,a,l){if(h_.apply(this,arguments),Co){if(Co){var c=Tl;Co=!1,Tl=null}else throw Error(z(198));El||(El=!0,rd=c)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vp(t){if(Zs(t)!==t)throw Error(z(188))}function p_(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vp(s),t;if(i===r)return vp(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function o0(t){return t=p_(t),t!==null?a0(t):null}function a0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a0(t);if(e!==null)return e;t=t.sibling}return null}var l0=Sn.unstable_scheduleCallback,yp=Sn.unstable_cancelCallback,m_=Sn.unstable_shouldYield,g_=Sn.unstable_requestPaint,lt=Sn.unstable_now,v_=Sn.unstable_getCurrentPriorityLevel,mh=Sn.unstable_ImmediatePriority,c0=Sn.unstable_UserBlockingPriority,Nl=Sn.unstable_NormalPriority,y_=Sn.unstable_LowPriority,u0=Sn.unstable_IdlePriority,vc=null,cr=null;function w_(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(vc,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:S_,__=Math.log,x_=Math.LN2;function S_(t){return t>>>=0,t===0?32:31-(__(t)/x_|0)|0}var Va=64,za=4194304;function yo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Al(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=yo(a):(i&=o,i!==0&&(r=yo(i)))}else o=n&~s,o!==0?r=yo(o):i!==0&&(r=yo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),s=1<<n,r|=t[n],e&=~s;return r}function k_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Gn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=k_(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function d0(){var t=Va;return Va<<=1,!(Va&4194240)&&(Va=64),t}function uu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ua(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function b_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function gh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $e=0;function h0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f0,vh,p0,m0,g0,id=!1,Ba=[],Qr=null,Kr=null,Jr=null,zo=new Map,Bo=new Map,Hr=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wp(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function lo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ha(e),e!==null&&vh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function E_(t,e,n,r,s){switch(e){case"focusin":return Qr=lo(Qr,t,e,n,r,s),!0;case"dragenter":return Kr=lo(Kr,t,e,n,r,s),!0;case"mouseover":return Jr=lo(Jr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zo.set(i,lo(zo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bo.set(i,lo(Bo.get(i)||null,t,e,n,r,s)),!0}return!1}function v0(t){var e=Cs(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=i0(n),e!==null){t.blockedOn=e,g0(t.priority,function(){p0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ed=r,n.target.dispatchEvent(r),ed=null}else return e=ha(n),e!==null&&vh(e),t.blockedOn=n,!1;e.shift()}return!0}function _p(t,e,n){il(t)&&n.delete(e)}function N_(){id=!1,Qr!==null&&il(Qr)&&(Qr=null),Kr!==null&&il(Kr)&&(Kr=null),Jr!==null&&il(Jr)&&(Jr=null),zo.forEach(_p),Bo.forEach(_p)}function co(t,e){t.blockedOn===e&&(t.blockedOn=null,id||(id=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,N_)))}function Wo(t){function e(s){return co(s,t)}if(0<Ba.length){co(Ba[0],t);for(var n=1;n<Ba.length;n++){var r=Ba[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qr!==null&&co(Qr,t),Kr!==null&&co(Kr,t),Jr!==null&&co(Jr,t),zo.forEach(e),Bo.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)v0(n),n.blockedOn===null&&Hr.shift()}var xi=Mr.ReactCurrentBatchConfig,Ml=!0;function A_(t,e,n,r){var s=$e,i=xi.transition;xi.transition=null;try{$e=1,yh(t,e,n,r)}finally{$e=s,xi.transition=i}}function M_(t,e,n,r){var s=$e,i=xi.transition;xi.transition=null;try{$e=4,yh(t,e,n,r)}finally{$e=s,xi.transition=i}}function yh(t,e,n,r){if(Ml){var s=od(t,e,n,r);if(s===null)_u(t,e,r,Rl,n),wp(t,r);else if(E_(s,t,e,n,r))r.stopPropagation();else if(wp(t,r),e&4&&-1<T_.indexOf(t)){for(;s!==null;){var i=ha(s);if(i!==null&&f0(i),i=od(t,e,n,r),i===null&&_u(t,e,r,Rl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _u(t,e,r,null,n)}}var Rl=null;function od(t,e,n,r){if(Rl=null,t=ph(r),t=Cs(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rl=t,null}function y0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v_()){case mh:return 1;case c0:return 4;case Nl:case y_:return 16;case u0:return 536870912;default:return 16}default:return 16}}var Zr=null,wh=null,ol=null;function w0(){if(ol)return ol;var t,e=wh,n=e.length,r,s="value"in Zr?Zr.value:Zr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ol=s.slice(t,1<r?1-r:void 0)}function al(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wa(){return!0}function xp(){return!1}function bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wa:xp,this.isPropagationStopped=xp,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),e}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=bn(qi),da=tt({},qi,{view:0,detail:0}),R_=bn(da),du,hu,uo,yc=tt({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uo&&(uo&&t.type==="mousemove"?(du=t.screenX-uo.screenX,hu=t.screenY-uo.screenY):hu=du=0,uo=t),du)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),Sp=bn(yc),O_=tt({},yc,{dataTransfer:0}),I_=bn(O_),P_=tt({},da,{relatedTarget:0}),fu=bn(P_),$_=tt({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),D_=bn($_),j_=tt({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F_=bn(j_),L_=tt({},qi,{data:0}),kp=bn(L_),V_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=B_[t])?!!e[t]:!1}function xh(){return W_}var U_=tt({},da,{key:function(t){if(t.key){var e=V_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(t){return t.type==="keypress"?al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q_=bn(U_),H_=tt({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=bn(H_),G_=tt({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),Z_=bn(G_),X_=tt({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y_=bn(X_),Q_=tt({},yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K_=bn(Q_),J_=[9,13,27,32],Sh=br&&"CompositionEvent"in window,bo=null;br&&"documentMode"in document&&(bo=document.documentMode);var ex=br&&"TextEvent"in window&&!bo,_0=br&&(!Sh||bo&&8<bo&&11>=bo),bp=" ",Tp=!1;function x0(t,e){switch(t){case"keyup":return J_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var si=!1;function tx(t,e){switch(t){case"compositionend":return S0(e);case"keypress":return e.which!==32?null:(Tp=!0,bp);case"textInput":return t=e.data,t===bp&&Tp?null:t;default:return null}}function nx(t,e){if(si)return t==="compositionend"||!Sh&&x0(t,e)?(t=w0(),ol=wh=Zr=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _0&&e.locale!=="ko"?null:e.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rx[t.type]:e==="textarea"}function k0(t,e,n,r){e0(r),e=Ol(e,"onChange"),0<e.length&&(n=new _h("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var To=null,Uo=null;function sx(t){P0(t,0)}function wc(t){var e=ai(t);if(Gg(e))return t}function ix(t,e){if(t==="change")return e}var C0=!1;if(br){var pu;if(br){var mu="oninput"in document;if(!mu){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),mu=typeof Np.oninput=="function"}pu=mu}else pu=!1;C0=pu&&(!document.documentMode||9<document.documentMode)}function Ap(){To&&(To.detachEvent("onpropertychange",b0),Uo=To=null)}function b0(t){if(t.propertyName==="value"&&wc(Uo)){var e=[];k0(e,Uo,t,ph(t)),s0(sx,e)}}function ox(t,e,n){t==="focusin"?(Ap(),To=e,Uo=n,To.attachEvent("onpropertychange",b0)):t==="focusout"&&Ap()}function ax(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wc(Uo)}function lx(t,e){if(t==="click")return wc(e)}function cx(t,e){if(t==="input"||t==="change")return wc(e)}function ux(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:ux;function qo(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bu.call(e,s)||!Yn(t[s],e[s]))return!1}return!0}function Mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,e){var n=Mp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mp(n)}}function T0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E0(){for(var t=window,e=bl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bl(t.document)}return e}function kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dx(t){var e=E0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&T0(n.ownerDocument.documentElement,n)){if(r!==null&&kh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Rp(n,i);var o=Rp(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hx=br&&"documentMode"in document&&11>=document.documentMode,ii=null,ad=null,Eo=null,ld=!1;function Op(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ld||ii==null||ii!==bl(r)||(r=ii,"selectionStart"in r&&kh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&qo(Eo,r)||(Eo=r,r=Ol(ad,"onSelect"),0<r.length&&(e=new _h("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ii)))}function Ua(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oi={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},gu={},N0={};br&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function _c(t){if(gu[t])return gu[t];if(!oi[t])return t;var e=oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in N0)return gu[t]=e[n];return t}var A0=_c("animationend"),M0=_c("animationiteration"),R0=_c("animationstart"),O0=_c("transitionend"),I0=new Map,Ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(t,e){I0.set(t,e),Gs(e,[t])}for(var vu=0;vu<Ip.length;vu++){var yu=Ip[vu],fx=yu.toLowerCase(),px=yu[0].toUpperCase()+yu.slice(1);ps(fx,"on"+px)}ps(A0,"onAnimationEnd");ps(M0,"onAnimationIteration");ps(R0,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(O0,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Pp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f_(r,e,void 0,t),t.currentTarget=null}function P0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Pp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Pp(s,a,c),i=l}}}if(El)throw t=rd,El=!1,rd=null,t}function qe(t,e){var n=e[fd];n===void 0&&(n=e[fd]=new Set);var r=t+"__bubble";n.has(r)||($0(e,t,2,!1),n.add(r))}function wu(t,e,n){var r=0;e&&(r|=4),$0(n,t,r,e)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[qa]){t[qa]=!0,Bg.forEach(function(n){n!=="selectionchange"&&(mx.has(n)||wu(n,!1,t),wu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qa]||(e[qa]=!0,wu("selectionchange",!1,e))}}function $0(t,e,n,r){switch(y0(e)){case 1:var s=A_;break;case 4:s=M_;break;default:s=yh}n=s.bind(null,e,n,t),s=void 0,!nd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _u(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}s0(function(){var c=i,u=ph(n),d=[];e:{var h=I0.get(t);if(h!==void 0){var p=_h,m=t;switch(t){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":p=q_;break;case"focusin":m="focus",p=fu;break;case"focusout":m="blur",p=fu;break;case"beforeblur":case"afterblur":p=fu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=I_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Z_;break;case A0:case M0:case R0:p=D_;break;case O0:p=Y_;break;case"scroll":p=R_;break;case"wheel":p=K_;break;case"copy":case"cut":case"paste":p=F_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cp}var g=(e&4)!==0,C=!g&&t==="scroll",f=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,y;v!==null;){y=v;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,f!==null&&(x=Vo(v,f),x!=null&&g.push(Go(v,x,y)))),C)break;v=v.return}0<g.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ed&&(m=n.relatedTarget||n.fromElement)&&(Cs(m)||m[Tr]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Cs(m):null,m!==null&&(C=Zs(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Sp,x="onMouseLeave",f="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Cp,x="onPointerLeave",f="onPointerEnter",v="pointer"),C=p==null?h:ai(p),y=m==null?h:ai(m),h=new g(x,v+"leave",p,n,u),h.target=C,h.relatedTarget=y,x=null,Cs(u)===c&&(g=new g(f,v+"enter",m,n,u),g.target=y,g.relatedTarget=C,x=g),C=x,p&&m)t:{for(g=p,f=m,v=0,y=g;y;y=Js(y))v++;for(y=0,x=f;x;x=Js(x))y++;for(;0<v-y;)g=Js(g),v--;for(;0<y-v;)f=Js(f),y--;for(;v--;){if(g===f||f!==null&&g===f.alternate)break t;g=Js(g),f=Js(f)}g=null}else g=null;p!==null&&$p(d,h,p,g,!1),m!==null&&C!==null&&$p(d,C,m,g,!0)}}e:{if(h=c?ai(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=ix;else if(Ep(h))if(C0)w=cx;else{w=ax;var S=ox}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=lx);if(w&&(w=w(t,c))){k0(d,w,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Xu(h,"number",h.value)}switch(S=c?ai(c):window,t){case"focusin":(Ep(S)||S.contentEditable==="true")&&(ii=S,ad=c,Eo=null);break;case"focusout":Eo=ad=ii=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Op(d,n,u);break;case"selectionchange":if(hx)break;case"keydown":case"keyup":Op(d,n,u)}var k;if(Sh)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else si?x0(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(_0&&n.locale!=="ko"&&(si||b!=="onCompositionStart"?b==="onCompositionEnd"&&si&&(k=w0()):(Zr=u,wh="value"in Zr?Zr.value:Zr.textContent,si=!0)),S=Ol(c,b),0<S.length&&(b=new kp(b,t,null,n,u),d.push({event:b,listeners:S}),k?b.data=k:(k=S0(n),k!==null&&(b.data=k)))),(k=ex?tx(t,n):nx(t,n))&&(c=Ol(c,"onBeforeInput"),0<c.length&&(u=new kp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}P0(d,e)})}function Go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vo(t,n),i!=null&&r.unshift(Go(t,i,s)),i=Vo(t,e),i!=null&&r.push(Go(t,i,s))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $p(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Vo(n,i),l!=null&&o.unshift(Go(n,l,a))):s||(l=Vo(n,i),l!=null&&o.push(Go(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gx=/\r\n?/g,vx=/\u0000|\uFFFD/g;function Dp(t){return(typeof t=="string"?t:""+t).replace(gx,`
`).replace(vx,"")}function Ha(t,e,n){if(e=Dp(e),Dp(t)!==e&&n)throw Error(z(425))}function Il(){}var cd=null,ud=null;function dd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hd=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(t){return jp.resolve(null).then(t).catch(_x)}:hd;function _x(t){setTimeout(function(){throw t})}function xu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Wo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wo(e)}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),lr="__reactFiber$"+Hi,Zo="__reactProps$"+Hi,Tr="__reactContainer$"+Hi,fd="__reactEvents$"+Hi,xx="__reactListeners$"+Hi,Sx="__reactHandles$"+Hi;function Cs(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fp(t);t!==null;){if(n=t[lr])return n;t=Fp(t)}return e}t=n,n=t.parentNode}return null}function ha(t){return t=t[lr]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function xc(t){return t[Zo]||null}var pd=[],li=-1;function ms(t){return{current:t}}function Ge(t){0>li||(t.current=pd[li],pd[li]=null,li--)}function We(t,e){li++,pd[li]=t.current,t.current=e}var ls={},Bt=ms(ls),sn=ms(!1),$s=ls;function Ni(t,e){var n=t.type.contextTypes;if(!n)return ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function on(t){return t=t.childContextTypes,t!=null}function Pl(){Ge(sn),Ge(Bt)}function Lp(t,e,n){if(Bt.current!==ls)throw Error(z(168));We(Bt,e),We(sn,n)}function D0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,o_(t)||"Unknown",s));return tt({},n,r)}function $l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ls,$s=Bt.current,We(Bt,t),We(sn,sn.current),!0}function Vp(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=D0(t,e,$s),r.__reactInternalMemoizedMergedChildContext=t,Ge(sn),Ge(Bt),We(Bt,t)):Ge(sn),We(sn,n)}var _r=null,Sc=!1,Su=!1;function j0(t){_r===null?_r=[t]:_r.push(t)}function kx(t){Sc=!0,j0(t)}function gs(){if(!Su&&_r!==null){Su=!0;var t=0,e=$e;try{var n=_r;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_r=null,Sc=!1}catch(s){throw _r!==null&&(_r=_r.slice(t+1)),l0(mh,gs),s}finally{$e=e,Su=!1}}return null}var ci=[],ui=0,Dl=null,jl=0,Mn=[],Rn=0,Ds=null,xr=1,Sr="";function xs(t,e){ci[ui++]=jl,ci[ui++]=Dl,Dl=t,jl=e}function F0(t,e,n){Mn[Rn++]=xr,Mn[Rn++]=Sr,Mn[Rn++]=Ds,Ds=t;var r=xr;t=Sr;var s=32-Gn(r)-1;r&=~(1<<s),n+=1;var i=32-Gn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xr=1<<32-Gn(e)+s|n<<s|r,Sr=i+t}else xr=1<<i|n<<s|r,Sr=t}function Ch(t){t.return!==null&&(xs(t,1),F0(t,1,0))}function bh(t){for(;t===Dl;)Dl=ci[--ui],ci[ui]=null,jl=ci[--ui],ci[ui]=null;for(;t===Ds;)Ds=Mn[--Rn],Mn[Rn]=null,Sr=Mn[--Rn],Mn[Rn]=null,xr=Mn[--Rn],Mn[Rn]=null}var wn=null,vn=null,Qe=!1,qn=null;function L0(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,vn=es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ds!==null?{id:xr,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,vn=null,!0):!1;default:return!1}}function md(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gd(t){if(Qe){var e=vn;if(e){var n=e;if(!zp(t,e)){if(md(t))throw Error(z(418));e=es(n.nextSibling);var r=wn;e&&zp(t,e)?L0(r,n):(t.flags=t.flags&-4097|2,Qe=!1,wn=t)}}else{if(md(t))throw Error(z(418));t.flags=t.flags&-4097|2,Qe=!1,wn=t}}}function Bp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Ga(t){if(t!==wn)return!1;if(!Qe)return Bp(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dd(t.type,t.memoizedProps)),e&&(e=vn)){if(md(t))throw V0(),Error(z(418));for(;e;)L0(t,e),e=es(e.nextSibling)}if(Bp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=wn?es(t.stateNode.nextSibling):null;return!0}function V0(){for(var t=vn;t;)t=es(t.nextSibling)}function Ai(){vn=wn=null,Qe=!1}function Th(t){qn===null?qn=[t]:qn.push(t)}var Cx=Mr.ReactCurrentBatchConfig;function ho(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Za(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wp(t){var e=t._init;return e(t._payload)}function z0(t){function e(f,v){if(t){var y=f.deletions;y===null?(f.deletions=[v],f.flags|=16):y.push(v)}}function n(f,v){if(!t)return null;for(;v!==null;)e(f,v),v=v.sibling;return null}function r(f,v){for(f=new Map;v!==null;)v.key!==null?f.set(v.key,v):f.set(v.index,v),v=v.sibling;return f}function s(f,v){return f=ss(f,v),f.index=0,f.sibling=null,f}function i(f,v,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<v?(f.flags|=2,v):y):(f.flags|=2,v)):(f.flags|=1048576,v)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,v,y,x){return v===null||v.tag!==6?(v=Au(y,f.mode,x),v.return=f,v):(v=s(v,y),v.return=f,v)}function l(f,v,y,x){var w=y.type;return w===ri?u(f,v,y.props.children,x,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Br&&Wp(w)===v.type)?(x=s(v,y.props),x.ref=ho(f,v,y),x.return=f,x):(x=pl(y.type,y.key,y.props,null,f.mode,x),x.ref=ho(f,v,y),x.return=f,x)}function c(f,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Mu(y,f.mode,x),v.return=f,v):(v=s(v,y.children||[]),v.return=f,v)}function u(f,v,y,x,w){return v===null||v.tag!==7?(v=Os(y,f.mode,x,w),v.return=f,v):(v=s(v,y),v.return=f,v)}function d(f,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Au(""+v,f.mode,y),v.return=f,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ja:return y=pl(v.type,v.key,v.props,null,f.mode,y),y.ref=ho(f,null,v),y.return=f,y;case ni:return v=Mu(v,f.mode,y),v.return=f,v;case Br:var x=v._init;return d(f,x(v._payload),y)}if(vo(v)||oo(v))return v=Os(v,f.mode,y,null),v.return=f,v;Za(f,v)}return null}function h(f,v,y,x){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(f,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:return y.key===w?l(f,v,y,x):null;case ni:return y.key===w?c(f,v,y,x):null;case Br:return w=y._init,h(f,v,w(y._payload),x)}if(vo(y)||oo(y))return w!==null?null:u(f,v,y,x,null);Za(f,y)}return null}function p(f,v,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(y)||null,a(v,f,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ja:return f=f.get(x.key===null?y:x.key)||null,l(v,f,x,w);case ni:return f=f.get(x.key===null?y:x.key)||null,c(v,f,x,w);case Br:var S=x._init;return p(f,v,y,S(x._payload),w)}if(vo(x)||oo(x))return f=f.get(y)||null,u(v,f,x,w,null);Za(v,x)}return null}function m(f,v,y,x){for(var w=null,S=null,k=v,b=v=0,N=null;k!==null&&b<y.length;b++){k.index>b?(N=k,k=null):N=k.sibling;var E=h(f,k,y[b],x);if(E===null){k===null&&(k=N);break}t&&k&&E.alternate===null&&e(f,k),v=i(E,v,b),S===null?w=E:S.sibling=E,S=E,k=N}if(b===y.length)return n(f,k),Qe&&xs(f,b),w;if(k===null){for(;b<y.length;b++)k=d(f,y[b],x),k!==null&&(v=i(k,v,b),S===null?w=k:S.sibling=k,S=k);return Qe&&xs(f,b),w}for(k=r(f,k);b<y.length;b++)N=p(k,f,b,y[b],x),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?b:N.key),v=i(N,v,b),S===null?w=N:S.sibling=N,S=N);return t&&k.forEach(function(A){return e(f,A)}),Qe&&xs(f,b),w}function g(f,v,y,x){var w=oo(y);if(typeof w!="function")throw Error(z(150));if(y=w.call(y),y==null)throw Error(z(151));for(var S=w=null,k=v,b=v=0,N=null,E=y.next();k!==null&&!E.done;b++,E=y.next()){k.index>b?(N=k,k=null):N=k.sibling;var A=h(f,k,E.value,x);if(A===null){k===null&&(k=N);break}t&&k&&A.alternate===null&&e(f,k),v=i(A,v,b),S===null?w=A:S.sibling=A,S=A,k=N}if(E.done)return n(f,k),Qe&&xs(f,b),w;if(k===null){for(;!E.done;b++,E=y.next())E=d(f,E.value,x),E!==null&&(v=i(E,v,b),S===null?w=E:S.sibling=E,S=E);return Qe&&xs(f,b),w}for(k=r(f,k);!E.done;b++,E=y.next())E=p(k,f,b,E.value,x),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?b:E.key),v=i(E,v,b),S===null?w=E:S.sibling=E,S=E);return t&&k.forEach(function(M){return e(f,M)}),Qe&&xs(f,b),w}function C(f,v,y,x){if(typeof y=="object"&&y!==null&&y.type===ri&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:e:{for(var w=y.key,S=v;S!==null;){if(S.key===w){if(w=y.type,w===ri){if(S.tag===7){n(f,S.sibling),v=s(S,y.props.children),v.return=f,f=v;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Br&&Wp(w)===S.type){n(f,S.sibling),v=s(S,y.props),v.ref=ho(f,S,y),v.return=f,f=v;break e}n(f,S);break}else e(f,S);S=S.sibling}y.type===ri?(v=Os(y.props.children,f.mode,x,y.key),v.return=f,f=v):(x=pl(y.type,y.key,y.props,null,f.mode,x),x.ref=ho(f,v,y),x.return=f,f=x)}return o(f);case ni:e:{for(S=y.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(f,v.sibling),v=s(v,y.children||[]),v.return=f,f=v;break e}else{n(f,v);break}else e(f,v);v=v.sibling}v=Mu(y,f.mode,x),v.return=f,f=v}return o(f);case Br:return S=y._init,C(f,v,S(y._payload),x)}if(vo(y))return m(f,v,y,x);if(oo(y))return g(f,v,y,x);Za(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(f,v.sibling),v=s(v,y),v.return=f,f=v):(n(f,v),v=Au(y,f.mode,x),v.return=f,f=v),o(f)):n(f,v)}return C}var Mi=z0(!0),B0=z0(!1),Fl=ms(null),Ll=null,di=null,Eh=null;function Nh(){Eh=di=Ll=null}function Ah(t){var e=Fl.current;Ge(Fl),t._currentValue=e}function vd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Si(t,e){Ll=t,Eh=di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(Eh!==t)if(t={context:t,memoizedValue:e,next:null},di===null){if(Ll===null)throw Error(z(308));di=t,Ll.dependencies={lanes:0,firstContext:t}}else di=di.next=t;return e}var bs=null;function Mh(t){bs===null?bs=[t]:bs.push(t)}function W0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Mh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Er(t,n)}return s=r.interleaved,s===null?(e.next=e,Mh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Er(t,n)}function ll(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gh(t,n)}}function Up(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vl(t,e,n,r){var s=t.updateQueue;Wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=tt({},d,h);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fs|=o,t.lanes=o,t.memoizedState=d}}function qp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var fa={},ur=ms(fa),Xo=ms(fa),Yo=ms(fa);function Ts(t){if(t===fa)throw Error(z(174));return t}function Oh(t,e){switch(We(Yo,e),We(Xo,t),We(ur,fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qu(e,t)}Ge(ur),We(ur,e)}function Ri(){Ge(ur),Ge(Xo),Ge(Yo)}function q0(t){Ts(Yo.current);var e=Ts(ur.current),n=Qu(e,t.type);e!==n&&(We(Xo,t),We(ur,n))}function Ih(t){Xo.current===t&&(Ge(ur),Ge(Xo))}var Je=ms(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ku=[];function Ph(){for(var t=0;t<ku.length;t++)ku[t]._workInProgressVersionPrimary=null;ku.length=0}var cl=Mr.ReactCurrentDispatcher,Cu=Mr.ReactCurrentBatchConfig,js=0,et=null,yt=null,Tt=null,Bl=!1,No=!1,Qo=0,bx=0;function Ft(){throw Error(z(321))}function $h(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function Dh(t,e,n,r,s,i){if(js=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cl.current=t===null||t.memoizedState===null?Ax:Mx,t=n(r,s),No){i=0;do{if(No=!1,Qo=0,25<=i)throw Error(z(301));i+=1,Tt=yt=null,e.updateQueue=null,cl.current=Rx,t=n(r,s)}while(No)}if(cl.current=Wl,e=yt!==null&&yt.next!==null,js=0,Tt=yt=et=null,Bl=!1,e)throw Error(z(300));return t}function jh(){var t=Qo!==0;return Qo=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function jn(){if(yt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Tt===null?et.memoizedState:Tt.next;if(e!==null)Tt=e,yt=t;else{if(t===null)throw Error(z(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ko(t,e){return typeof e=="function"?e(t):e}function bu(t){var e=jn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((js&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,et.lanes|=u,Fs|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,Fs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tu(t){var e=jn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yn(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function H0(){}function G0(t,e){var n=et,r=jn(),s=e(),i=!Yn(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,Fh(Y0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Jo(9,X0.bind(null,n,r,s,e),void 0,null),At===null)throw Error(z(349));js&30||Z0(n,e,s)}return s}function Z0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function X0(t,e,n,r){e.value=n,e.getSnapshot=r,Q0(e)&&K0(t)}function Y0(t,e,n){return n(function(){Q0(e)&&K0(t)})}function Q0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function K0(t){var e=Er(t,1);e!==null&&Zn(e,t,1,-1)}function Hp(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:t},e.queue=t,t=t.dispatch=Nx.bind(null,et,t),[e.memoizedState,t]}function Jo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J0(){return jn().memoizedState}function ul(t,e,n,r){var s=ar();et.flags|=t,s.memoizedState=Jo(1|e,n,void 0,r===void 0?null:r)}function kc(t,e,n,r){var s=jn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&$h(r,o.deps)){s.memoizedState=Jo(e,n,i,r);return}}et.flags|=t,s.memoizedState=Jo(1|e,n,i,r)}function Gp(t,e){return ul(8390656,8,t,e)}function Fh(t,e){return kc(2048,8,t,e)}function ev(t,e){return kc(4,2,t,e)}function tv(t,e){return kc(4,4,t,e)}function nv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rv(t,e,n){return n=n!=null?n.concat([t]):null,kc(4,4,nv.bind(null,e,t),n)}function Lh(){}function sv(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iv(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ov(t,e,n){return js&21?(Yn(n,e)||(n=d0(),et.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function Tx(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Cu.transition;Cu.transition={};try{t(!1),e()}finally{$e=n,Cu.transition=r}}function av(){return jn().memoizedState}function Ex(t,e,n){var r=rs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lv(t))cv(e,n);else if(n=W0(t,e,n,r),n!==null){var s=Xt();Zn(n,t,r,s),uv(n,e,r)}}function Nx(t,e,n){var r=rs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lv(t))cv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(s.next=s,Mh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=W0(t,e,s,r),n!==null&&(s=Xt(),Zn(n,t,r,s),uv(n,e,r))}}function lv(t){var e=t.alternate;return t===et||e!==null&&e===et}function cv(t,e){No=Bl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gh(t,n)}}var Wl={readContext:Dn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Ax={readContext:Dn,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:Gp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ul(4194308,4,nv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ul(4194308,4,t,e)},useInsertionEffect:function(t,e){return ul(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ex.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:Hp,useDebugValue:Lh,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=Hp(!1),e=t[0];return t=Tx.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=ar();if(Qe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),At===null)throw Error(z(349));js&30||Z0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Gp(Y0.bind(null,r,i,t),[t]),r.flags|=2048,Jo(9,X0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ar(),e=At.identifierPrefix;if(Qe){var n=Sr,r=xr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mx={readContext:Dn,useCallback:sv,useContext:Dn,useEffect:Fh,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:bu,useRef:J0,useState:function(){return bu(Ko)},useDebugValue:Lh,useDeferredValue:function(t){var e=jn();return ov(e,yt.memoizedState,t)},useTransition:function(){var t=bu(Ko)[0],e=jn().memoizedState;return[t,e]},useMutableSource:H0,useSyncExternalStore:G0,useId:av,unstable_isNewReconciler:!1},Rx={readContext:Dn,useCallback:sv,useContext:Dn,useEffect:Fh,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:Tu,useRef:J0,useState:function(){return Tu(Ko)},useDebugValue:Lh,useDeferredValue:function(t){var e=jn();return yt===null?e.memoizedState=t:ov(e,yt.memoizedState,t)},useTransition:function(){var t=Tu(Ko)[0],e=jn().memoizedState;return[t,e]},useMutableSource:H0,useSyncExternalStore:G0,useId:av,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cc={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=rs(t),i=kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ts(t,i,s),e!==null&&(Zn(e,t,s,r),ll(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=rs(t),i=kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ts(t,i,s),e!==null&&(Zn(e,t,s,r),ll(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=rs(t),s=kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ts(t,s,r),e!==null&&(Zn(e,t,r,n),ll(e,t,r))}};function Zp(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!qo(n,r)||!qo(s,i):!0}function dv(t,e,n){var r=!1,s=ls,i=e.contextType;return typeof i=="object"&&i!==null?i=Dn(i):(s=on(e)?$s:Bt.current,r=e.contextTypes,i=(r=r!=null)?Ni(t,s):ls),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Xp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cc.enqueueReplaceState(e,e.state,null)}function wd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Dn(i):(i=on(e)?$s:Bt.current,s.context=Ni(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cc.enqueueReplaceState(s,s.state,null),Vl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Oi(t,e){try{var n="",r=e;do n+=i_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _d(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ox=typeof WeakMap=="function"?WeakMap:Map;function hv(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ql||(ql=!0,Md=r),_d(t,e)},n}function fv(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_d(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_d(t,e),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ox;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Hx.bind(null,t,e,n),e.then(t,t))}function Qp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,ts(n,e,1))),n.lanes|=1),t)}var Ix=Mr.ReactCurrentOwner,rn=!1;function Ht(t,e,n,r){e.child=t===null?B0(e,null,n,r):Mi(e,t.child,n,r)}function Jp(t,e,n,r,s){n=n.render;var i=e.ref;return Si(e,s),r=Dh(t,e,n,r,i,s),n=jh(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nr(t,e,s)):(Qe&&n&&Ch(e),e.flags|=1,Ht(t,e,r,s),e.child)}function em(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Gh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pv(t,e,i,r,s)):(t=pl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qo,n(o,r)&&t.ref===e.ref)return Nr(t,e,s)}return e.flags|=1,t=ss(i,r),t.ref=e.ref,t.return=e,e.child=t}function pv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(qo(i,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Nr(t,e,s)}return xd(t,e,n,r,s)}function mv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(fi,mn),mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(fi,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(fi,mn),mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(fi,mn),mn|=r;return Ht(t,e,s,n),e.child}function gv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xd(t,e,n,r,s){var i=on(n)?$s:Bt.current;return i=Ni(e,i),Si(e,s),n=Dh(t,e,n,r,i,s),r=jh(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nr(t,e,s)):(Qe&&r&&Ch(e),e.flags|=1,Ht(t,e,n,s),e.child)}function tm(t,e,n,r,s){if(on(n)){var i=!0;$l(e)}else i=!1;if(Si(e,s),e.stateNode===null)dl(t,e),dv(e,n,r),wd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dn(c):(c=on(n)?$s:Bt.current,c=Ni(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Xp(e,o,r,c),Wr=!1;var h=e.memoizedState;o.state=h,Vl(e,r,o,s),l=e.memoizedState,a!==r||h!==l||sn.current||Wr?(typeof u=="function"&&(yd(e,n,u,r),l=e.memoizedState),(a=Wr||Zp(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,U0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bn(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=on(n)?$s:Bt.current,l=Ni(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Xp(e,o,r,l),Wr=!1,h=e.memoizedState,o.state=h,Vl(e,r,o,s);var m=e.memoizedState;a!==d||h!==m||sn.current||Wr?(typeof p=="function"&&(yd(e,n,p,r),m=e.memoizedState),(c=Wr||Zp(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sd(t,e,n,r,i,s)}function Sd(t,e,n,r,s,i){gv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Vp(e,n,!1),Nr(t,e,i);r=e.stateNode,Ix.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mi(e,t.child,null,i),e.child=Mi(e,null,a,i)):Ht(t,e,a,i),e.memoizedState=r.state,s&&Vp(e,n,!0),e.child}function vv(t){var e=t.stateNode;e.pendingContext?Lp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lp(t,e.context,!1),Oh(t,e.containerInfo)}function nm(t,e,n,r,s){return Ai(),Th(s),e.flags|=256,Ht(t,e,n,r),e.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function Cd(t){return{baseLanes:t,cachePool:null,transitions:null}}function yv(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(Je,s&1),t===null)return gd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ec(o,r,0,null),t=Os(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cd(n),e.memoizedState=kd,t):Vh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Px(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ss(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ss(a,i):(i=Os(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=kd,r}return i=t.child,t=i.sibling,r=ss(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vh(t,e){return e=Ec({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xa(t,e,n,r){return r!==null&&Th(r),Mi(e,t.child,null,n),t=Vh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Px(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Eu(Error(z(422))),Xa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ec({mode:"visible",children:r.children},s,0,null),i=Os(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mi(e,t.child,null,o),e.child.memoizedState=Cd(o),e.memoizedState=kd,i);if(!(e.mode&1))return Xa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Eu(i,r,void 0),Xa(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=At,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Er(t,s),Zn(r,t,s,-1))}return Hh(),r=Eu(Error(z(421))),Xa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Gx.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vn=es(s.nextSibling),wn=e,Qe=!0,qn=null,t!==null&&(Mn[Rn++]=xr,Mn[Rn++]=Sr,Mn[Rn++]=Ds,xr=t.id,Sr=t.overflow,Ds=e),e=Vh(e,r.children),e.flags|=4096,e)}function rm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vd(t.return,e,n)}function Nu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wv(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ht(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rm(t,n,e);else if(t.tag===19)rm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Nu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Nu(e,!0,n,null,i);break;case"together":Nu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $x(t,e,n){switch(e.tag){case 3:vv(e),Ai();break;case 5:q0(e);break;case 1:on(e.type)&&$l(e);break;case 4:Oh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(Fl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?yv(t,e,n):(We(Je,Je.current&1),t=Nr(t,e,n),t!==null?t.sibling:null);We(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,mv(t,e,n)}return Nr(t,e,n)}var _v,bd,xv,Sv;_v=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bd=function(){};xv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ts(ur.current);var i=null;switch(n){case"input":s=Gu(t,s),r=Gu(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=Yu(t,s),r=Yu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Il)}Ku(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Sv=function(t,e,n,r){n!==r&&(e.flags|=4)};function fo(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Dx(t,e,n){var r=e.pendingProps;switch(bh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return on(e.type)&&Pl(),Lt(e),null;case 3:return r=e.stateNode,Ri(),Ge(sn),Ge(Bt),Ph(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ga(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(Id(qn),qn=null))),bd(t,e),Lt(e),null;case 5:Ih(e);var s=Ts(Yo.current);if(n=e.type,t!==null&&e.stateNode!=null)xv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Lt(e),null}if(t=Ts(ur.current),Ga(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lr]=e,r[Zo]=i,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<wo.length;s++)qe(wo[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":hp(r,i),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qe("invalid",r);break;case"textarea":pp(r,i),qe("invalid",r)}Ku(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),s=["children",""+a]):Fo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Fa(r),fp(r,i,!0);break;case"textarea":Fa(r),mp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Il)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[Zo]=r,_v(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ju(n,r),n){case"dialog":qe("cancel",t),qe("close",t),s=r;break;case"iframe":case"object":case"embed":qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<wo.length;s++)qe(wo[s],t);s=r;break;case"source":qe("error",t),s=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=r;break;case"details":qe("toggle",t),s=r;break;case"input":hp(t,r),s=Gu(t,r),qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":pp(t,r),s=Yu(t,r),qe("invalid",t);break;default:s=r}Ku(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Jg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lo(t,l):typeof l=="number"&&Lo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",t):l!=null&&uh(t,i,l,o))}switch(n){case"input":Fa(t),fp(t,r,!1);break;case"textarea":Fa(t),mp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+as(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yi(t,!!r.multiple,i,!1):r.defaultValue!=null&&yi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)Sv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ts(Yo.current),Ts(ur.current),Ga(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(i=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Ha(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Lt(e),null;case 13:if(Ge(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&vn!==null&&e.mode&1&&!(e.flags&128))V0(),Ai(),e.flags|=98560,i=!1;else if(i=Ga(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[lr]=e}else Ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),i=!1}else qn!==null&&(Id(qn),qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?_t===0&&(_t=3):Hh())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Ri(),bd(t,e),t===null&&Ho(e.stateNode.containerInfo),Lt(e),null;case 10:return Ah(e.type._context),Lt(e),null;case 17:return on(e.type)&&Pl(),Lt(e),null;case 19:if(Ge(Je),i=e.memoizedState,i===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fo(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zl(t),o!==null){for(e.flags|=128,fo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Ii&&(e.flags|=128,r=!0,fo(i,!1),e.lanes=4194304)}else{if(!r)if(t=zl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Lt(e),null}else 2*lt()-i.renderingStartTime>Ii&&n!==1073741824&&(e.flags|=128,r=!0,fo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=Je.current,We(Je,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return qh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function jx(t,e){switch(bh(e),e.tag){case 1:return on(e.type)&&Pl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(),Ge(sn),Ge(Bt),Ph(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ih(e),null;case 13:if(Ge(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Je),null;case 4:return Ri(),null;case 10:return Ah(e.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var Ya=!1,zt=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,G=null;function hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Td(t,e,n){try{n()}catch(r){nt(t,e,r)}}var sm=!1;function Lx(t,e){if(cd=Ml,t=E0(),kh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ud={focusedElem:t,selectionRange:n},Ml=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,C=m.memoizedState,f=e.stateNode,v=f.getSnapshotBeforeUpdate(e.elementType===e.type?g:Bn(e.type,g),C);f.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){nt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return m=sm,sm=!1,m}function Ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Td(e,n,i)}s=s.next}while(s!==r)}}function bc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ed(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kv(t){var e=t.alternate;e!==null&&(t.alternate=null,kv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Zo],delete e[fd],delete e[xx],delete e[Sx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cv(t){return t.tag===5||t.tag===3||t.tag===4}function im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Il));else if(r!==4&&(t=t.child,t!==null))for(Nd(t,e,n),t=t.sibling;t!==null;)Nd(t,e,n),t=t.sibling}function Ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ad(t,e,n),t=t.sibling;t!==null;)Ad(t,e,n),t=t.sibling}var It=null,Wn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)bv(t,e,n),n=n.sibling}function bv(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(vc,n)}catch{}switch(n.tag){case 5:zt||hi(n,e);case 6:var r=It,s=Wn;It=null,Lr(t,e,n),It=r,Wn=s,It!==null&&(Wn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Wn?(t=It,n=n.stateNode,t.nodeType===8?xu(t.parentNode,n):t.nodeType===1&&xu(t,n),Wo(t)):xu(It,n.stateNode));break;case 4:r=It,s=Wn,It=n.stateNode.containerInfo,Wn=!0,Lr(t,e,n),It=r,Wn=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Td(n,e,o),s=s.next}while(s!==r)}Lr(t,e,n);break;case 1:if(!zt&&(hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Lr(t,e,n),zt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function om(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fx),e.forEach(function(r){var s=Zx.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Wn=!1;break e;case 3:It=a.stateNode.containerInfo,Wn=!0;break e;case 4:It=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(It===null)throw Error(z(160));bv(i,o,s),It=null,Wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){nt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tv(e,t),e=e.sibling}function Tv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),or(t),r&4){try{Ao(3,t,t.return),bc(3,t)}catch(g){nt(t,t.return,g)}try{Ao(5,t,t.return)}catch(g){nt(t,t.return,g)}}break;case 1:zn(e,t),or(t),r&512&&n!==null&&hi(n,n.return);break;case 5:if(zn(e,t),or(t),r&512&&n!==null&&hi(n,n.return),t.flags&32){var s=t.stateNode;try{Lo(s,"")}catch(g){nt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zg(s,i),Ju(a,o);var c=Ju(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Jg(s,d):u==="dangerouslySetInnerHTML"?Qg(s,d):u==="children"?Lo(s,d):uh(s,u,d,c)}switch(a){case"input":Zu(s,i);break;case"textarea":Xg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?yi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?yi(s,!!i.multiple,i.defaultValue,!0):yi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zo]=i}catch(g){nt(t,t.return,g)}}break;case 6:if(zn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){nt(t,t.return,g)}}break;case 3:if(zn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(e.containerInfo)}catch(g){nt(t,t.return,g)}break;case 4:zn(e,t),or(t);break;case 13:zn(e,t),or(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wh=lt())),r&4&&om(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(c=zt)||u,zn(e,t),zt=c):zn(e,t),or(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(G=t,u=t.child;u!==null;){for(d=G=u;G!==null;){switch(h=G,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ao(4,h,h.return);break;case 1:hi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){nt(r,n,g)}}break;case 5:hi(h,h.return);break;case 22:if(h.memoizedState!==null){lm(d);continue}}p!==null?(p.return=h,G=p):lm(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kg("display",o))}catch(g){nt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){nt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zn(e,t),or(t),r&4&&om(t);break;case 21:break;default:zn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cv(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lo(s,""),r.flags&=-33);var i=im(t);Ad(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=im(t);Nd(t,a,o);break;default:throw Error(z(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vx(t,e,n){G=t,Ev(t)}function Ev(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ya;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Ya;var c=zt;if(Ya=o,(zt=l)&&!c)for(G=s;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?cm(s):l!==null?(l.return=o,G=l):cm(s);for(;i!==null;)G=i,Ev(i),i=i.sibling;G=s,Ya=a,zt=c}am(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):am(t)}}function am(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||bc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qp(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Wo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}zt||e.flags&512&&Ed(e)}catch(h){nt(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function lm(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function cm(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bc(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{Ed(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{Ed(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var zx=Math.ceil,Ul=Mr.ReactCurrentDispatcher,zh=Mr.ReactCurrentOwner,Pn=Mr.ReactCurrentBatchConfig,_e=0,At=null,mt=null,Pt=0,mn=0,fi=ms(0),_t=0,ea=null,Fs=0,Tc=0,Bh=0,Mo=null,tn=null,Wh=0,Ii=1/0,vr=null,ql=!1,Md=null,ns=null,Qa=!1,Xr=null,Hl=0,Ro=0,Rd=null,hl=-1,fl=0;function Xt(){return _e&6?lt():hl!==-1?hl:hl=lt()}function rs(t){return t.mode&1?_e&2&&Pt!==0?Pt&-Pt:Cx.transition!==null?(fl===0&&(fl=d0()),fl):(t=$e,t!==0||(t=window.event,t=t===void 0?16:y0(t.type)),t):1}function Zn(t,e,n,r){if(50<Ro)throw Ro=0,Rd=null,Error(z(185));ua(t,n,r),(!(_e&2)||t!==At)&&(t===At&&(!(_e&2)&&(Tc|=n),_t===4&&Gr(t,Pt)),an(t,r),n===1&&_e===0&&!(e.mode&1)&&(Ii=lt()+500,Sc&&gs()))}function an(t,e){var n=t.callbackNode;C_(t,e);var r=Al(t,t===At?Pt:0);if(r===0)n!==null&&yp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yp(n),e===1)t.tag===0?kx(um.bind(null,t)):j0(um.bind(null,t)),wx(function(){!(_e&6)&&gs()}),n=null;else{switch(h0(r)){case 1:n=mh;break;case 4:n=c0;break;case 16:n=Nl;break;case 536870912:n=u0;break;default:n=Nl}n=$v(n,Nv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nv(t,e){if(hl=-1,fl=0,_e&6)throw Error(z(327));var n=t.callbackNode;if(ki()&&t.callbackNode!==n)return null;var r=Al(t,t===At?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gl(t,r);else{e=r;var s=_e;_e|=2;var i=Mv();(At!==t||Pt!==e)&&(vr=null,Ii=lt()+500,Rs(t,e));do try{Ux();break}catch(a){Av(t,a)}while(!0);Nh(),Ul.current=i,_e=s,mt!==null?e=0:(At=null,Pt=0,e=_t)}if(e!==0){if(e===2&&(s=sd(t),s!==0&&(r=s,e=Od(t,s))),e===1)throw n=ea,Rs(t,0),Gr(t,r),an(t,lt()),n;if(e===6)Gr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Bx(s)&&(e=Gl(t,r),e===2&&(i=sd(t),i!==0&&(r=i,e=Od(t,i))),e===1))throw n=ea,Rs(t,0),Gr(t,r),an(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ss(t,tn,vr);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=Wh+500-lt(),10<e)){if(Al(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hd(Ss.bind(null,t,tn,vr),e);break}Ss(t,tn,vr);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Gn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zx(r/1960))-r,10<r){t.timeoutHandle=hd(Ss.bind(null,t,tn,vr),r);break}Ss(t,tn,vr);break;case 5:Ss(t,tn,vr);break;default:throw Error(z(329))}}}return an(t,lt()),t.callbackNode===n?Nv.bind(null,t):null}function Od(t,e){var n=Mo;return t.current.memoizedState.isDehydrated&&(Rs(t,e).flags|=256),t=Gl(t,e),t!==2&&(e=tn,tn=n,e!==null&&Id(e)),t}function Id(t){tn===null?tn=t:tn.push.apply(tn,t)}function Bx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~Bh,e&=~Tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function um(t){if(_e&6)throw Error(z(327));ki();var e=Al(t,0);if(!(e&1))return an(t,lt()),null;var n=Gl(t,e);if(t.tag!==0&&n===2){var r=sd(t);r!==0&&(e=r,n=Od(t,r))}if(n===1)throw n=ea,Rs(t,0),Gr(t,e),an(t,lt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ss(t,tn,vr),an(t,lt()),null}function Uh(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Ii=lt()+500,Sc&&gs())}}function Ls(t){Xr!==null&&Xr.tag===0&&!(_e&6)&&ki();var e=_e;_e|=1;var n=Pn.transition,r=$e;try{if(Pn.transition=null,$e=1,t)return t()}finally{$e=r,Pn.transition=n,_e=e,!(_e&6)&&gs()}}function qh(){mn=fi.current,Ge(fi)}function Rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yx(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(bh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pl();break;case 3:Ri(),Ge(sn),Ge(Bt),Ph();break;case 5:Ih(r);break;case 4:Ri();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:Ah(r.type._context);break;case 22:case 23:qh()}n=n.return}if(At=t,mt=t=ss(t.current,null),Pt=mn=e,_t=0,ea=null,Bh=Tc=Fs=0,tn=Mo=null,bs!==null){for(e=0;e<bs.length;e++)if(n=bs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bs=null}return t}function Av(t,e){do{var n=mt;try{if(Nh(),cl.current=Wl,Bl){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bl=!1}if(js=0,Tt=yt=et=null,No=!1,Qo=0,zh.current=null,n===null||n.return===null){_t=1,ea=e,mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Qp(o);if(p!==null){p.flags&=-257,Kp(p,o,a,i,e),p.mode&1&&Yp(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Yp(i,c,e),Hh();break e}l=Error(z(426))}}else if(Qe&&a.mode&1){var C=Qp(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Kp(C,o,a,i,e),Th(Oi(l,a));break e}}i=l=Oi(l,a),_t!==4&&(_t=2),Mo===null?Mo=[i]:Mo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=hv(i,l,e);Up(i,f);break e;case 1:a=l;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ns===null||!ns.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=fv(i,a,e);Up(i,x);break e}}i=i.return}while(i!==null)}Ov(n)}catch(w){e=w,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function Mv(){var t=Ul.current;return Ul.current=Wl,t===null?Wl:t}function Hh(){(_t===0||_t===3||_t===2)&&(_t=4),At===null||!(Fs&268435455)&&!(Tc&268435455)||Gr(At,Pt)}function Gl(t,e){var n=_e;_e|=2;var r=Mv();(At!==t||Pt!==e)&&(vr=null,Rs(t,e));do try{Wx();break}catch(s){Av(t,s)}while(!0);if(Nh(),_e=n,Ul.current=r,mt!==null)throw Error(z(261));return At=null,Pt=0,_t}function Wx(){for(;mt!==null;)Rv(mt)}function Ux(){for(;mt!==null&&!m_();)Rv(mt)}function Rv(t){var e=Pv(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?Ov(t):mt=e,zh.current=null}function Ov(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jx(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,mt=null;return}}else if(n=Dx(n,e,mn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);_t===0&&(_t=5)}function Ss(t,e,n){var r=$e,s=Pn.transition;try{Pn.transition=null,$e=1,qx(t,e,n,r)}finally{Pn.transition=s,$e=r}return null}function qx(t,e,n,r){do ki();while(Xr!==null);if(_e&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(b_(t,i),t===At&&(mt=At=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qa||(Qa=!0,$v(Nl,function(){return ki(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pn.transition,Pn.transition=null;var o=$e;$e=1;var a=_e;_e|=4,zh.current=null,Lx(t,n),Tv(n,t),dx(ud),Ml=!!cd,ud=cd=null,t.current=n,Vx(n),g_(),_e=a,$e=o,Pn.transition=i}else t.current=n;if(Qa&&(Qa=!1,Xr=t,Hl=s),i=t.pendingLanes,i===0&&(ns=null),w_(n.stateNode),an(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,t=Md,Md=null,t;return Hl&1&&t.tag!==0&&ki(),i=t.pendingLanes,i&1?t===Rd?Ro++:(Ro=0,Rd=t):Ro=0,gs(),null}function ki(){if(Xr!==null){var t=h0(Hl),e=Pn.transition,n=$e;try{if(Pn.transition=null,$e=16>t?16:t,Xr===null)var r=!1;else{if(t=Xr,Xr=null,Hl=0,_e&6)throw Error(z(331));var s=_e;for(_e|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Ao(8,u,i)}var d=u.child;if(d!==null)d.return=u,G=d;else for(;G!==null;){u=G;var h=u.sibling,p=u.return;if(kv(u),u===c){G=null;break}if(h!==null){h.return=p,G=h;break}G=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ao(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,G=f;break e}G=i.return}}var v=t.current;for(G=v;G!==null;){o=G;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,G=y;else e:for(o=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bc(9,a)}}catch(w){nt(a,a.return,w)}if(a===o){G=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,G=x;break e}G=a.return}}if(_e=s,gs(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(vc,t)}catch{}r=!0}return r}finally{$e=n,Pn.transition=e}}return!1}function dm(t,e,n){e=Oi(n,e),e=hv(t,e,1),t=ts(t,e,1),e=Xt(),t!==null&&(ua(t,1,e),an(t,e))}function nt(t,e,n){if(t.tag===3)dm(t,t,n);else for(;e!==null;){if(e.tag===3){dm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){t=Oi(n,t),t=fv(e,t,1),e=ts(e,t,1),t=Xt(),e!==null&&(ua(e,1,t),an(e,t));break}}e=e.return}}function Hx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Pt&n)===n&&(_t===4||_t===3&&(Pt&130023424)===Pt&&500>lt()-Wh?Rs(t,0):Bh|=n),an(t,e)}function Iv(t,e){e===0&&(t.mode&1?(e=za,za<<=1,!(za&130023424)&&(za=4194304)):e=1);var n=Xt();t=Er(t,e),t!==null&&(ua(t,e,n),an(t,n))}function Gx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iv(t,n)}function Zx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Iv(t,n)}var Pv;Pv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,$x(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Qe&&e.flags&1048576&&F0(e,jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dl(t,e),t=e.pendingProps;var s=Ni(e,Bt.current);Si(e,n),s=Dh(null,e,r,t,s,n);var i=jh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(i=!0,$l(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rh(e),s.updater=Cc,e.stateNode=s,s._reactInternals=e,wd(e,r,t,n),e=Sd(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&Ch(e),Ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Yx(r),t=Bn(r,t),s){case 0:e=xd(null,e,r,t,n);break e;case 1:e=tm(null,e,r,t,n);break e;case 11:e=Jp(null,e,r,t,n);break e;case 14:e=em(null,e,r,Bn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),xd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),tm(t,e,r,s,n);case 3:e:{if(vv(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,U0(t,e),Vl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Oi(Error(z(423)),e),e=nm(t,e,r,n,s);break e}else if(r!==s){s=Oi(Error(z(424)),e),e=nm(t,e,r,n,s);break e}else for(vn=es(e.stateNode.containerInfo.firstChild),wn=e,Qe=!0,qn=null,n=B0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===s){e=Nr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return q0(e),t===null&&gd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dd(r,s)?o=null:i!==null&&dd(r,i)&&(e.flags|=32),gv(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&gd(e),null;case 13:return yv(t,e,n);case 4:return Oh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mi(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Jp(t,e,r,s,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(Fl,r._currentValue),r._currentValue=o,i!==null)if(Yn(i.value,o)){if(i.children===s.children&&!sn.current){e=Nr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=kr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vd(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Si(e,n),s=Dn(s),r=r(s),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),em(t,e,r,s,n);case 15:return pv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),dl(t,e),e.tag=1,on(r)?(t=!0,$l(e)):t=!1,Si(e,n),dv(e,r,s),wd(e,r,s,n),Sd(null,e,r,!0,t,n);case 19:return wv(t,e,n);case 22:return mv(t,e,n)}throw Error(z(156,e.tag))};function $v(t,e){return l0(t,e)}function Xx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new Xx(t,e,n,r)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yx(t){if(typeof t=="function")return Gh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hh)return 11;if(t===fh)return 14}return 2}function ss(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Gh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ri:return Os(n.children,s,i,e);case dh:o=8,s|=8;break;case Wu:return t=On(12,n,e,s|2),t.elementType=Wu,t.lanes=i,t;case Uu:return t=On(13,n,e,s),t.elementType=Uu,t.lanes=i,t;case qu:return t=On(19,n,e,s),t.elementType=qu,t.lanes=i,t;case qg:return Ec(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wg:o=10;break e;case Ug:o=9;break e;case hh:o=11;break e;case fh:o=14;break e;case Br:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=On(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Os(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Ec(t,e,n,r){return t=On(22,t,r,e),t.elementType=qg,t.lanes=n,t.stateNode={isHidden:!1},t}function Au(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function Mu(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qx(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uu(0),this.expirationTimes=uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zh(t,e,n,r,s,i,o,a,l){return t=new Qx(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=On(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rh(i),t}function Kx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Dv(t){if(!t)return ls;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(on(n))return D0(t,n,e)}return e}function jv(t,e,n,r,s,i,o,a,l){return t=Zh(n,r,!0,t,s,i,o,a,l),t.context=Dv(null),n=t.current,r=Xt(),s=rs(n),i=kr(r,s),i.callback=e??null,ts(n,i,s),t.current.lanes=s,ua(t,s,r),an(t,r),t}function Nc(t,e,n,r){var s=e.current,i=Xt(),o=rs(s);return n=Dv(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ts(s,e,o),t!==null&&(Zn(t,s,o,i),ll(t,s,o)),o}function Zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xh(t,e){hm(t,e),(t=t.alternate)&&hm(t,e)}function Jx(){return null}var Fv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yh(t){this._internalRoot=t}Ac.prototype.render=Yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Nc(t,e,null,null)};Ac.prototype.unmount=Yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ls(function(){Nc(null,t,null,null)}),e[Tr]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=m0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&v0(t)}};function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fm(){}function eS(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Zl(o);i.call(c)}}var o=jv(e,r,t,0,null,!1,!1,"",fm);return t._reactRootContainer=o,t[Tr]=o.current,Ho(t.nodeType===8?t.parentNode:t),Ls(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Zl(l);a.call(c)}}var l=Zh(t,0,!1,null,null,!1,!1,"",fm);return t._reactRootContainer=l,t[Tr]=l.current,Ho(t.nodeType===8?t.parentNode:t),Ls(function(){Nc(e,l,n,r)}),l}function Rc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zl(o);a.call(l)}}Nc(e,o,t,s)}else o=eS(n,e,t,s,r);return Zl(o)}f0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yo(e.pendingLanes);n!==0&&(gh(e,n|1),an(e,lt()),!(_e&6)&&(Ii=lt()+500,gs()))}break;case 13:Ls(function(){var r=Er(t,1);if(r!==null){var s=Xt();Zn(r,t,1,s)}}),Xh(t,1)}};vh=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Xt();Zn(e,t,134217728,n)}Xh(t,134217728)}};p0=function(t){if(t.tag===13){var e=rs(t),n=Er(t,e);if(n!==null){var r=Xt();Zn(n,t,e,r)}Xh(t,e)}};m0=function(){return $e};g0=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};td=function(t,e,n){switch(e){case"input":if(Zu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xc(r);if(!s)throw Error(z(90));Gg(r),Zu(r,s)}}}break;case"textarea":Xg(t,n);break;case"select":e=n.value,e!=null&&yi(t,!!n.multiple,e,!1)}};n0=Uh;r0=Ls;var tS={usingClientEntryPoint:!1,Events:[ha,ai,xc,e0,t0,Uh]},po={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nS={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o0(t),t===null?null:t.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||Jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{vc=Ka.inject(nS),cr=Ka}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tS;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(e))throw Error(z(200));return Kx(t,e,null,n)};Cn.createRoot=function(t,e){if(!Qh(t))throw Error(z(299));var n=!1,r="",s=Fv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zh(t,1,!1,null,null,n,!1,r,s),t[Tr]=e.current,Ho(t.nodeType===8?t.parentNode:t),new Yh(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=o0(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Ls(t)};Cn.hydrate=function(t,e,n){if(!Mc(e))throw Error(z(200));return Rc(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!Qh(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Fv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jv(e,null,t,1,n??null,s,!1,i,o),t[Tr]=e.current,Ho(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ac(e)};Cn.render=function(t,e,n){if(!Mc(e))throw Error(z(200));return Rc(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Mc(t))throw Error(z(40));return t._reactRootContainer?(Ls(function(){Rc(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Uh;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mc(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Rc(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function Lv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lv)}catch(t){console.error(t)}}Lv(),Lg.exports=Cn;var pi=Lg.exports,pm=pi;Cl.createRoot=pm.createRoot,Cl.hydrateRoot=pm.hydrateRoot;const rS="modulepreload",sS=function(t){return"/"+t},mm={},iS=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=sS(l),l in mm)return;mm[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":rS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Kh="15.1.22",gm=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),vm=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Pd=(t,e)=>({startTime:e,type:"setValue",value:t}),Vv=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),zv=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),mi=t=>t.type==="exponentialRampToValue",Xl=t=>t.type==="linearRampToValue",Ur=t=>mi(t)||Xl(t),Jh=t=>t.type==="setValue",yr=t=>t.type==="setValueCurve",Yl=(t,e,n,r)=>{const s=t[e];return s===void 0?r:Ur(s)||Jh(s)?s.value:yr(s)?s.values[s.values.length-1]:zv(n,Yl(t,e-1,s.startTime,r),s)},ym=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:Ur(n)?[n.endTime,n.value]:Jh(n)?[n.startTime,n.value]:yr(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Yl(t,e-1,n.startTime,s)],$d=t=>t.type==="cancelAndHold",Dd=t=>t.type==="cancelScheduledValues",Vr=t=>$d(t)||Dd(t)?t.cancelTime:mi(t)||Xl(t)?t.endTime:t.startTime,wm=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,_m=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),oS=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},aS=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return oS(r,s)},Ja=t=>t.type==="setTarget";class lS{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Vr(e);if($d(e)||Dd(e)){const r=this._automationEvents.findIndex(i=>Dd(e)&&yr(i)?i.startTime+i.duration>=n:Vr(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),$d(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&Ur(s)){if(i!==void 0&&Ja(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:yr(i)?i.startTime+i.duration:Vr(i),a=i===void 0?this._defaultValue:yr(i)?i.values[i.values.length-1]:i.value,l=mi(s)?wm(n,o,a,s):_m(n,o,a,s),c=mi(s)?gm(l,n,this._currenTime):vm(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&Ja(i)&&this._automationEvents.push(Pd(this.getValue(n),n)),i!==void 0&&yr(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),c=o/(l-1)*a,u=i.values.slice(0,l);if(c<1)for(let d=1;d<l;d+=1){const h=c*d%1;u[d]=i.values[d-1]*(1-h)+i.values[d]*h}this._automationEvents[this._automationEvents.length-1]=Vv(u,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Vr(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&yr(s)&&Vr(s)+s.duration>n)return!1;const i=mi(e)?gm(e.value,e.endTime,this._currenTime):Xl(e)?vm(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(yr(e)&&n+e.duration>Vr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Vr(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];Ja(s)&&r.unshift(Pd(Yl(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Vr(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&Ja(i)&&(r===void 0||!Ur(r)||r.insertTime>e))return zv(e,Yl(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Jh(i)&&(r===void 0||!Ur(r)))return i.value;if(i!==void 0&&yr(i)&&(r===void 0||!Ur(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?aS(e,i):i.values[i.values.length-1];if(i!==void 0&&Ur(i)&&(r===void 0||!Ur(r)))return i.value;if(r!==void 0&&mi(r)){const[o,a]=ym(this._automationEvents,s,i,r,this._defaultValue);return wm(e,o,a,r)}if(r!==void 0&&Xl(r)){const[o,a]=ym(this._automationEvents,s,i,r,this._defaultValue);return _m(e,o,a,r)}return this._defaultValue}}const cS=t=>({cancelTime:t,type:"cancelAndHold"}),uS=t=>({cancelTime:t,type:"cancelScheduledValues"}),dS=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),hS=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),fS=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),pS=()=>new DOMException("","AbortError"),mS=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},gS=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},vS=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Pi=new WeakSet,Bv=new WeakMap,ef=new WeakMap,Wv=new WeakMap,tf=new WeakMap,Oc=new WeakMap,Uv=new WeakMap,jd=new WeakMap,Fd=new WeakMap,Ld=new WeakMap,qv={construct(){return qv}},yS=t=>{try{const e=new Proxy(t,qv);new e}catch{return!1}return!0},xm=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Sm=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(xm);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(xm)}return[n.join(";"),r]},km=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Cm=t=>{if(!yS(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},wS=(t,e,n,r,s,i,o,a,l,c,u,d,h)=>{let p=0;return(m,g,C={credentials:"omit"})=>{const f=u.get(m);if(f!==void 0&&f.has(g))return Promise.resolve();const v=c.get(m);if(v!==void 0){const w=v.get(g);if(w!==void 0)return w}const y=i(m),x=y.audioWorklet===void 0?s(g).then(([w,S])=>{const[k,b]=Sm(w,S),N=`${k};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${b}
})})(window,'_AWGS')`;return n(N)}).then(()=>{const w=h._AWGS.pop();if(w===void 0)throw new SyntaxError;r(y.currentTime,y.sampleRate,()=>w(class{},void 0,(S,k)=>{if(S.trim()==="")throw e();const b=Fd.get(y);if(b!==void 0){if(b.has(S))throw e();Cm(k),km(k.parameterDescriptors),b.set(S,k)}else Cm(k),km(k.parameterDescriptors),Fd.set(y,new Map([[S,k]]))},y.sampleRate,void 0,void 0))}):Promise.all([s(g),Promise.resolve(t(d,d))]).then(([[w,S],k])=>{const b=p+1;p=b;const[N,E]=Sm(w,S),D=`${N};((AudioWorkletProcessor,registerProcessor)=>{${E}
})(${k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${b}',class extends AudioWorkletProcessor{process(){return !1}})`,P=new Blob([D],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(P);return y.audioWorklet.addModule($,C).then(()=>{if(a(y))return y;const F=o(y);return F.audioWorklet.addModule($,C).then(()=>F)}).then(F=>{if(l===null)throw new SyntaxError;try{new l(F,`__sac${b}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return v===void 0?c.set(m,new Map([[g,x]])):v.set(g,x),x.then(()=>{const w=u.get(m);w===void 0?u.set(m,new Set([g])):w.add(g)}).finally(()=>{const w=c.get(m);w!==void 0&&w.delete(g)}),x}},Qn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Ic=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Hv=(t,e,n,r)=>{const s=Qn(t,e),i=Ic(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},pa=t=>Qn(Uv,t),$i=t=>{if(Pi.has(t))throw new Error("The AudioNode is already stored.");Pi.add(t),pa(t).forEach(e=>e(!0))},Gv=t=>"port"in t,ma=t=>{if(!Pi.has(t))throw new Error("The AudioNode is not stored.");Pi.delete(t),pa(t).forEach(e=>e(!1))},Vd=(t,e)=>{!Gv(t)&&e.every(n=>n.size===0)&&ma(t)},_S=(t,e,n,r,s,i,o,a,l,c,u,d,h)=>{const p=new WeakMap;return(m,g,C,f,v)=>{const{activeInputs:y,passiveInputs:x}=i(g),{outputs:w}=i(m),S=a(m),k=b=>{const N=l(g),E=l(m);if(b){const A=Hv(x,m,C,f);t(y,m,A,!1),!v&&!d(m)&&n(E,N,C,f),h(g)&&$i(g)}else{const A=r(y,m,C,f);e(x,f,A,!1),!v&&!d(m)&&s(E,N,C,f);const M=o(g);if(M===0)u(g)&&Vd(g,y);else{const j=p.get(g);j!==void 0&&clearTimeout(j),p.set(g,setTimeout(()=>{u(g)&&Vd(g,y)},M*1e3))}}};return c(w,[g,C,f],b=>b[0]===g&&b[1]===C&&b[2]===f,!0)?(S.add(k),u(m)?t(y,m,[C,f,k],!0):e(x,f,[m,C,k],!0),!0):!1}},xS=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},SS=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},kS=t=>(e,n)=>{t(e).add(n)},CS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},bS=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...CS,...l},d=r(c,u),h=i(c)?e():null;super(a,!1,d,h),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Wt=(t,e)=>t.context===e,TS=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Wt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},Ql=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},fr=()=>new DOMException("","IndexSizeError"),nf=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?fr():r}})(t.getChannelData)},ES={numberOfChannels:1},NS=(t,e,n,r,s,i,o,a)=>{let l=null;return class Zv{constructor(u){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:h,sampleRate:p}={...ES,...u};l===null&&(l=new s(1,1,44100));const m=r!==null&&e(i,i)?new r({length:d,numberOfChannels:h,sampleRate:p}):l.createBuffer(h,d,p);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(o(m),nf(m)):e(Ql,()=>Ql(m))||a(m),t.add(m),m}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Zv.prototype||t.has(u)}}},nn=-34028234663852886e22,Gt=-nn,Cr=t=>Pi.has(t),AS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},MS=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),h={...AS,...u},p=s(d,h),m=o(d),g=m?e():null;super(c,!1,p,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,m,p.playbackRate,Gt,nn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?c:d}get playbackRate(){return this._playbackRate}start(c=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(c,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[c,u]:[c,u,d]),this.context.state!=="closed"){$i(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),Cr(this)&&ma(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},RS=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let d=n(c);const h=Wt(d,u);if(!h){const p={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,p),o!==null&&d.start(...o),a!==null&&d.stop(a)}return i.set(u,d),h?await t(u,c.playbackRate,d.playbackRate):await r(u,c.playbackRate,d.playbackRate),await s(c,u,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},OS=t=>"playbackRate"in t,IS=t=>"frequency"in t&&"gain"in t,PS=t=>"offset"in t,$S=t=>!("frequency"in t)&&"gain"in t,DS=t=>"detune"in t&&"frequency"in t&&!("gain"in t),jS=t=>"pan"in t,Zt=t=>Qn(Bv,t),ga=t=>Qn(Wv,t),zd=(t,e)=>{const{activeInputs:n}=Zt(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||zd(i,[...e,t])}));const r=OS(t)?[t.playbackRate]:Gv(t)?Array.from(t.parameters.values()):IS(t)?[t.Q,t.detune,t.frequency,t.gain]:PS(t)?[t.offset]:$S(t)?[t.gain]:DS(t)?[t.detune,t.frequency]:jS(t)?[t.pan]:[];for(const s of r){const i=ga(s);i!==void 0&&i.activeInputs.forEach(([o])=>zd(o,e))}Cr(t)&&ma(t)},Xv=t=>{zd(t.destination,[])},FS=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),LS=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(u={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(u)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(d===null)throw r();if(!FS(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&d.sampleRate!==u.sampleRate)throw n();super(d,2);const{latencyHint:h}=u,{sampleRate:p}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:h==="balanced"?512/p:h==="interactive"||h===void 0?256/p:h==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(h*p/128)))*128/p,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",m)};d.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Xv(this)}))}createMediaElementSource(u){return new s(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,d)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?u():this.resume().then(u,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},VS=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),h=o(d),p=s(d,u,h),m=h?e(a):null;super(c,!1,p,m),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},zS=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},BS=(t,e,n,r,s,i,o,a)=>(l,c)=>{const u=c.listener,d=()=>{const w=new Float32Array(1),S=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=o(c);let b=!1,N=[0,0,-1,0,1,0],E=[0,0,0];const A=()=>{if(b)return;b=!0;const P=r(c,256,9,0);P.onaudioprocess=({inputBuffer:$})=>{const F=[i($,w,0),i($,w,1),i($,w,2),i($,w,3),i($,w,4),i($,w,5)];F.some((O,I)=>O!==N[I])&&(u.setOrientation(...F),N=F);const R=[i($,w,6),i($,w,7),i($,w,8)];R.some((O,I)=>O!==E[I])&&(u.setPosition(...R),E=R)},S.connect(P)},M=P=>$=>{$!==N[P]&&(N[P]=$,u.setOrientation(...N))},j=P=>$=>{$!==E[P]&&(E[P]=$,u.setPosition(...E))},D=(P,$,F)=>{const R=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});R.connect(S,0,P),R.start(),Object.defineProperty(R.offset,"defaultValue",{get(){return $}});const O=t({context:l},k,R.offset,Gt,nn);return a(O,"value",I=>()=>I.call(O),I=>V=>{try{I.call(O,V)}catch(B){if(B.code!==9)throw B}A(),k&&F(V)}),O.cancelAndHoldAtTime=(I=>k?()=>{throw s()}:(...V)=>{const B=I.apply(O,V);return A(),B})(O.cancelAndHoldAtTime),O.cancelScheduledValues=(I=>k?()=>{throw s()}:(...V)=>{const B=I.apply(O,V);return A(),B})(O.cancelScheduledValues),O.exponentialRampToValueAtTime=(I=>k?()=>{throw s()}:(...V)=>{const B=I.apply(O,V);return A(),B})(O.exponentialRampToValueAtTime),O.linearRampToValueAtTime=(I=>k?()=>{throw s()}:(...V)=>{const B=I.apply(O,V);return A(),B})(O.linearRampToValueAtTime),O.setTargetAtTime=(I=>k?()=>{throw s()}:(...V)=>{const B=I.apply(O,V);return A(),B})(O.setTargetAtTime),O.setValueAtTime=(I=>k?()=>{throw s()}:(...V)=>{const B=I.apply(O,V);return A(),B})(O.setValueAtTime),O.setValueCurveAtTime=(I=>k?()=>{throw s()}:(...V)=>{const B=I.apply(O,V);return A(),B})(O.setValueCurveAtTime),O};return{forwardX:D(0,0,M(0)),forwardY:D(1,0,M(1)),forwardZ:D(2,-1,M(2)),positionX:D(6,0,j(0)),positionY:D(7,0,j(1)),positionZ:D(8,0,j(2)),upX:D(3,0,M(3)),upY:D(4,1,M(4)),upZ:D(5,0,M(5))}},{forwardX:h,forwardY:p,forwardZ:m,positionX:g,positionY:C,positionZ:f,upX:v,upY:y,upZ:x}=u.forwardX===void 0?d():u;return{get forwardX(){return h},get forwardY(){return p},get forwardZ(){return m},get positionX(){return g},get positionY(){return C},get positionZ(){return f},get upX(){return v},get upY(){return y},get upZ(){return x}}},Kl=t=>"context"in t,va=t=>Kl(t[0]),Xs=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},bm=(t,e,[n,r],s)=>{Xs(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},Tm=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Xs(i,[n,r],o=>o[0]===n,s)},Gi=t=>"inputs"in t,Jl=(t,e,n,r)=>{if(Gi(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},Yv=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},WS=(t,e,n)=>Ic(t,r=>r[0]===e&&r[1]===n),Qv=(t,e)=>{if(!pa(t).delete(e))throw new Error("Missing the expected event listener.")},Kv=(t,e,n)=>{const r=Qn(t,e),s=Ic(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},ec=(t,e,n,r)=>{Gi(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Ze=t=>Qn(ef,t),ta=t=>Qn(tf,t),Vs=t=>jd.has(t),ml=t=>!Pi.has(t),Em=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),Ru=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},tc=t=>"context"in t,US=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=tc(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(c=>c.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{tc(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},qS=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=ga(e),{outputs:o}=Zt(t),a=pa(t),l=c=>{const u=Ze(t),d=ta(e);if(c){const h=Kv(i,t,n);bm(s,t,h,!1),!r&&!Vs(t)&&u.connect(d,n)}else{const h=WS(s,t,n);Tm(i,h,!1),!r&&!Vs(t)&&u.disconnect(d,n)}};return Xs(o,[e,n],c=>c[0]===e&&c[1]===n,!0)?(a.add(l),Cr(t)?bm(s,t,[n,l],!0):Tm(i,[t,n,l],!0),!0):!1},HS=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Zt(e),o=Yv(s[r],t,n);return o===null?[Hv(i,t,n,r)[2],!1]:[o[2],!0]},GS=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=ga(e),i=Yv(r,t,n);return i===null?[Kv(s,t,n)[1],!1]:[i[2],!0]},rf=(t,e,n,r,s)=>{const[i,o]=HS(t,n,r,s);if(i!==null&&(Qv(t,i),o&&!e&&!Vs(t)&&ec(Ze(t),Ze(n),r,s)),Cr(n)){const{activeInputs:a}=Zt(n);Vd(n,a)}},sf=(t,e,n,r)=>{const[s,i]=GS(t,n,r);s!==null&&(Qv(t,s),i&&!e&&!Vs(t)&&Ze(t).disconnect(ta(n),r))},ZS=(t,e)=>{const n=Zt(t),r=[];for(const s of n.outputs)va(s)?rf(t,e,...s):sf(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},XS=(t,e,n)=>{const r=Zt(t),s=[];for(const i of r.outputs)i[1]===n&&(va(i)?rf(t,e,...i):sf(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},YS=(t,e,n,r,s)=>{const i=Zt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(va(o)?rf(t,e,...o):sf(t,e,...o),i.outputs.delete(o),o[0]))},QS=(t,e,n,r,s,i,o,a,l,c,u,d,h,p,m,g)=>class extends c{constructor(f,v,y,x){super(y),this._context=f,this._nativeAudioNode=y;const w=u(f);d(w)&&n(Em,()=>Em(w,g))!==!0&&US(y),ef.set(this,y),Uv.set(this,new Set),f.state!=="closed"&&v&&$i(this),t(this,x,y)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,v=0,y=0){if(v<0||v>=this._nativeAudioNode.numberOfOutputs)throw s();const x=u(this._context),w=m(x);if(h(f)||p(f))throw i();if(Kl(f)){const b=Ze(f);try{const E=Jl(this._nativeAudioNode,b,v,y),A=ml(this);(w||A)&&this._nativeAudioNode.disconnect(...E),this.context.state!=="closed"&&!A&&ml(f)&&$i(f)}catch(E){throw E.code===12?i():E}if(e(this,f,v,y,w)){const E=l([this],f);Ru(E,r(w))}return f}const S=ta(f);if(S.name==="playbackRate"&&S.maxValue===1024)throw o();try{this._nativeAudioNode.connect(S,v),(w||ml(this))&&this._nativeAudioNode.disconnect(S,v)}catch(b){throw b.code===12?i():b}if(qS(this,f,v,w)){const b=l([this],f);Ru(b,r(w))}}disconnect(f,v,y){let x;const w=u(this._context),S=m(w);if(f===void 0)x=ZS(this,S);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw s();x=XS(this,S,f)}else{if(v!==void 0&&(v<0||v>=this.numberOfOutputs)||Kl(f)&&y!==void 0&&(y<0||y>=f.numberOfInputs))throw s();if(x=YS(this,S,f,v,y),x.length===0)throw i()}for(const k of x){const b=l([this],k);Ru(b,a)}}},KS=(t,e,n,r,s,i,o,a,l,c,u,d,h)=>(p,m,g,C=null,f=null)=>{const v=g.value,y=new lS(v),x=m?r(y):null,w={get defaultValue(){return v},get maxValue(){return C===null?g.maxValue:C},get minValue(){return f===null?g.minValue:f},get value(){return g.value},set value(S){g.value=S,w.setValueAtTime(S,p.context.currentTime)},cancelAndHoldAtTime(S){if(typeof g.cancelAndHoldAtTime=="function")x===null&&y.flush(p.context.currentTime),y.add(s(S)),g.cancelAndHoldAtTime(S);else{const k=Array.from(y).pop();x===null&&y.flush(p.context.currentTime),y.add(s(S));const b=Array.from(y).pop();g.cancelScheduledValues(S),k!==b&&b!==void 0&&(b.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(b.value,b.endTime):b.type==="linearRampToValue"?g.linearRampToValueAtTime(b.value,b.endTime):b.type==="setValue"?g.setValueAtTime(b.value,b.startTime):b.type==="setValueCurve"&&g.setValueCurveAtTime(b.values,b.startTime,b.duration))}return w},cancelScheduledValues(S){return x===null&&y.flush(p.context.currentTime),y.add(i(S)),g.cancelScheduledValues(S),w},exponentialRampToValueAtTime(S,k){if(S===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const b=p.context.currentTime;return x===null&&y.flush(b),Array.from(y).length===0&&(y.add(c(v,b)),g.setValueAtTime(v,b)),y.add(o(S,k)),g.exponentialRampToValueAtTime(S,k),w},linearRampToValueAtTime(S,k){const b=p.context.currentTime;return x===null&&y.flush(b),Array.from(y).length===0&&(y.add(c(v,b)),g.setValueAtTime(v,b)),y.add(a(S,k)),g.linearRampToValueAtTime(S,k),w},setTargetAtTime(S,k,b){return x===null&&y.flush(p.context.currentTime),y.add(l(S,k,b)),g.setTargetAtTime(S,k,b),w},setValueAtTime(S,k){return x===null&&y.flush(p.context.currentTime),y.add(c(S,k)),g.setValueAtTime(S,k),w},setValueCurveAtTime(S,k,b){const N=S instanceof Float32Array?S:new Float32Array(S);if(d!==null&&d.name==="webkitAudioContext"){const E=k+b,A=p.context.sampleRate,M=Math.ceil(k*A),j=Math.floor(E*A),D=j-M,P=new Float32Array(D);for(let F=0;F<D;F+=1){const R=(N.length-1)/b*((M+F)/A-k),O=Math.floor(R),I=Math.ceil(R);P[F]=O===I?N[O]:(1-(R-O))*N[O]+(1-(I-R))*N[I]}x===null&&y.flush(p.context.currentTime),y.add(u(P,k,b)),g.setValueCurveAtTime(P,k,b);const $=j/A;$<E&&h(w,P[P.length-1],$),h(w,N[N.length-1],E)}else x===null&&y.flush(p.context.currentTime),y.add(u(N,k,b)),g.setValueCurveAtTime(N,k,b);return w}};return n.set(w,g),e.set(w,p),t(w,x),w},JS=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class Jv{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const ek={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},tk=(t,e,n,r,s,i,o,a,l,c,u,d,h,p)=>class extends e{constructor(g,C,f){var v;const y=a(g),x=l(y),w=u({...ek,...f});h(w);const S=Fd.get(y),k=S==null?void 0:S.get(C),b=x||y.state!=="closed"?y:(v=o(y))!==null&&v!==void 0?v:y,N=s(b,x?null:g.baseLatency,c,C,k,w),E=x?r(C,w,k):null;super(g,!0,N,E);const A=[];N.parameters.forEach((j,D)=>{const P=n(this,x,j);A.push([D,P])}),this._nativeAudioWorkletNode=N,this._onprocessorerror=null,this._parameters=new Jv(A),x&&t(y,this);const{activeInputs:M}=i(this);d(N,M)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const C=typeof g=="function"?p(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=C;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===C?g:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function nc(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const ey=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},rc=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},nk=(t,e)=>{const n=Qn(Ld,t),r=Ze(e);return Qn(n,r)},rk=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,c=s.reduce((C,f)=>C+f,0),u=c===0?null:n.createBuffer(c,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const d=Zt(t),h=await nk(n,t),p=rc(r.numberOfInputs,r.channelCount),m=rc(r.numberOfOutputs,s),g=Array.from(t.parameters.keys()).reduce((C,f)=>({...C,[f]:new Float32Array(128)}),{});for(let C=0;C<a;C+=128){if(r.numberOfInputs>0&&e!==null)for(let f=0;f<r.numberOfInputs;f+=1)for(let v=0;v<r.channelCount;v+=1)nc(e,p[f],v,v,C);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},v)=>{nc(e,g,f,l+v,C)});for(let f=0;f<r.numberOfInputs;f+=1)for(let v=0;v<s[f];v+=1)m[f][v].byteLength===0&&(m[f][v]=new Float32Array(128));try{const f=p.map((y,x)=>d.activeInputs[x].size===0?[]:y),v=o(C/n.sampleRate,n.sampleRate,()=>h.process(f,m,g));if(u!==null)for(let y=0,x=0;y<r.numberOfOutputs;y+=1){for(let w=0;w<s[y];w+=1)ey(u,m[y],w,x+w,C);x+=s[y]}if(!v)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return u},sk=(t,e,n,r,s,i,o,a,l,c,u,d,h,p,m,g)=>(C,f,v)=>{const y=new WeakMap;let x=null;const w=async(S,k)=>{let b=u(S),N=null;const E=Wt(b,k),A=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(d===null){const M=A.reduce(($,F)=>$+F,0),j=s(k,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),D=[];for(let $=0;$<S.numberOfOutputs;$+=1)D.push(r(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:A[$]}));const P=o(k,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});P.connect=e.bind(null,D),P.disconnect=l.bind(null,D),N=[j,D,P]}else E||(b=new d(k,C));if(y.set(k,N===null?b:N[2]),N!==null){if(x===null){if(v===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const F=S.channelCount*S.numberOfInputs,R=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length,O=F+R;x=rk(S,O===0?null:await(async()=>{const V=new h(O,Math.ceil(S.context.length/128)*128,k.sampleRate),B=[],J=[];for(let Q=0;Q<f.numberOfInputs;Q+=1)B.push(o(V,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),J.push(s(V,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const te=await Promise.all(Array.from(S.parameters.values()).map(async Q=>{const xe=i(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q.value});return await p(V,Q,xe.offset),xe})),Z=r(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,F+R)});for(let Q=0;Q<f.numberOfInputs;Q+=1){B[Q].connect(J[Q]);for(let xe=0;xe<f.channelCount;xe+=1)J[Q].connect(Z,xe,Q*f.channelCount+xe)}for(const[Q,xe]of te.entries())xe.connect(Z,0,F+Q),xe.start(0);return Z.connect(V.destination),await Promise.all(B.map(Q=>m(S,V,Q))),g(V)})(),k,f,A,v,c)}const M=await x,j=n(k,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[D,P,$]=N;M!==null&&(j.buffer=M,j.start(0)),j.connect(D);for(let F=0,R=0;F<S.numberOfOutputs;F+=1){const O=P[F];for(let I=0;I<A[F];I+=1)D.connect(O,R+I,I);R+=A[F]}return $}if(E)for(const[M,j]of S.parameters.entries())await t(k,j,b.parameters.get(M));else for(const[M,j]of S.parameters.entries())await p(k,j,b.parameters.get(M));return await m(S,k,b),b};return{render(S,k){a(k,S);const b=y.get(k);return b!==void 0?Promise.resolve(b):w(S,k)}}},ik=(t,e,n,r,s,i,o,a,l,c,u,d,h,p,m,g,C,f,v,y)=>class extends m{constructor(w,S){super(w,S),this._nativeContext=w,this._audioWorklet=t===void 0?void 0:{addModule:(k,b)=>t(this,k,b)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(w,S,k){return new n({length:S,numberOfChannels:w,sampleRate:k})}createBufferSource(){return new r(this)}createChannelMerger(w=6){return new i(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new o(this,{numberOfOutputs:w})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(w=1){return new u(this,{maxDelayTime:w})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(w,S){return new p(this,{feedback:S,feedforward:w})}createOscillator(){return new g(this)}createPanner(){return new C(this)}createPeriodicWave(w,S,k={disableNormalization:!1}){return new f(this,{...k,imag:S,real:w})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(w,S,k){return c(this._nativeContext,w).then(b=>(typeof S=="function"&&S(b),b),b=>{throw typeof k=="function"&&k(b),b})}},ok={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},ak=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),h={...ok,...u},p=s(d,h),m=o(d),g=m?n():null;super(c,!1,p,g),this._Q=e(this,m,p.Q,Gt,nn),this._detune=e(this,m,p.detune,1200*Math.log2(Gt),-1200*Math.log2(Gt)),this._frequency=e(this,m,p.frequency,c.sampleRate/2,0),this._gain=e(this,m,p.gain,40*Math.log10(Gt),nn),this._nativeBiquadFilterNode=p,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,d)}catch(h){throw h.code===11?r():h}if(c.length!==u.length||u.length!==d.length)throw r()}},lk=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Wt(c,l);if(!u){const d={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,d)}return i.set(l,c),u?(await t(l,a.Q,c.Q),await t(l,a.detune,c.detune),await t(l,a.frequency,c.frequency),await t(l,a.gain,c.gain)):(await r(l,a.Q,c.Q),await r(l,a.detune,c.detune),await r(l,a.frequency,c.frequency),await r(l,a.gain,c.gain)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},ck=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},uk={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},dk=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),c={...uk,...a},u=n(l,c),d=s(l)?e():null;super(o,!1,u,d)}},hk=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Wt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},fk={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},pk=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u=i({...fk,...l}),d=n(c,u),h=s(c)?e():null;super(a,!1,d,h)}},mk=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Wt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},gk=t=>(e,n,r)=>t(n,e,r),vk=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return tc(n)?i.connect(n,0,s):i.connect(n,0)},yk=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},wk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},_k=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...wk,...c},h=r(u,d),p=i(u),m=p?n():null;super(l,!1,h,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=h,this._offset=e(this,p,h.offset,Gt,nn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){$i(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),Cr(this)&&ma(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},xk=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let d=n(c);const h=Wt(d,u);if(!h){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(u,p),o!==null&&d.start(o),a!==null&&d.stop(a)}return i.set(u,d),h?await t(u,c.offset,d.offset):await r(u,c.offset,d.offset),await s(c,u,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},Sk=t=>e=>(t[0]=e,t[0]),kk={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Ck=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u={...kk,...l},d=n(c,u),p=s(c)?e():null;super(a,!1,d,p),this._isBufferNullified=!1,this._nativeConvolverNode=d,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},bk=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Wt(a,o)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,c)}return r.set(o,a),Gi(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},Tk=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},Ek=()=>new DOMException("","DataCloneError"),Nm=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},Nk=(t,e,n,r,s,i,o,a,l,c,u)=>(d,h)=>{const p=o(d)?d:i(d);if(s.has(h)){const m=n();return Promise.reject(m)}try{s.add(h)}catch{}return e(l,()=>l(p))?p.decodeAudioData(h).then(m=>(Nm(h).catch(()=>{}),e(a,()=>a(m))||u(m),t.add(m),m)):new Promise((m,g)=>{const C=async()=>{try{await Nm(h)}catch{}},f=v=>{g(v),C()};try{p.decodeAudioData(h,v=>{typeof v.copyFromChannel!="function"&&(c(v),nf(v)),t.add(v),C().then(()=>m(v))},v=>{f(v===null?r():v)})}catch(v){f(v)}})},Ak=(t,e,n,r,s,i,o,a)=>(l,c)=>{const u=e.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=i(l.context),h=a(d);if(u===c){if(e.delete(l),!h&&o(l)){const p=r(l),{outputs:m}=n(l);for(const g of m)if(va(g)){const C=r(g[0]);t(p,C,g[1],g[2])}else{const C=s(g[0]);p.connect(C,g[1])}}}else e.set(l,u-c)},Mk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Rk=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...Mk,...c},h=r(u,d),p=i(u),m=p?n(d.maxDelayTime):null;super(l,!1,h,m),this._delayTime=e(this,p,h.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},Ok=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,c)=>{let u=n(l);const d=Wt(u,c);if(!d){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(c,h)}return o.set(c,u),d?await t(c,l.delayTime,u.delayTime):await r(c,l.delayTime,u.delayTime),await s(l,c,u),u};return{render(l,c){const u=o.get(c);return u!==void 0?Promise.resolve(u):a(l,c)}}},Ik=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),Pk=t=>(e,n)=>{t(e).delete(n)},$k=t=>"delayTime"in t,Dk=(t,e,n)=>function r(s,i){const o=Kl(i)?i:n(t,i);if($k(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,c)=>l.concat(c),[])},el=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},jk=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?el(t,e,n).disconnect():tc(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?el(t,e,r).disconnect(n,0):el(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):el(t,e,r).disconnect(n,0),Fk={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Lk=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),h={...Fk,...u},p=r(d,h),m=o(d),g=m?n():null;super(c,!1,p,g),this._attack=e(this,m,p.attack),this._knee=e(this,m,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,m,p.ratio),this._release=e(this,m,p.release),this._threshold=e(this,m,p.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Vk=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Wt(c,l);if(!u){const d={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,d)}return i.set(l,c),u?(await t(l,a.attack,c.attack),await t(l,a.knee,c.knee),await t(l,a.ratio,c.ratio),await t(l,a.release,c.release),await t(l,a.threshold,c.threshold)):(await r(l,a.attack,c.attack),await r(l,a.knee,c.knee),await r(l,a.ratio,c.ratio),await r(l,a.release,c.release),await r(l,a.threshold,c.threshold)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},zk=()=>new DOMException("","EncodingError"),Bk=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(u,d,h,p,m)=>{if(d===a||d===t.location.href&&h===1&&p===1)return c(),r(m),!1;if(l!==null)return l(u,d,h,p,m)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",s.appendChild(i)}}),Wk=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},Uk=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},qk=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},Hk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Gk=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...Hk,...l},d=r(c,u),h=i(c),p=h?n():null;super(a,!1,d,p),this._gain=e(this,h,d.gain,Gt,nn)}get gain(){return this._gain}},Zk=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Wt(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,d)}return i.set(l,c),u?await t(l,a.gain,c.gain):await r(l,a.gain,c.gain),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},Xk=(t,e)=>n=>e(t,n),Yk=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Qk=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},Kk=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Jk=t=>e=>t.get(e),Mt=()=>new DOMException("","InvalidStateError"),eC=t=>e=>{const n=t.get(e);if(n===void 0)throw Mt();return n},tC=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},nC=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Pc=()=>new DOMException("","InvalidAccessError"),rC=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw Pc();return e.call(t,n,r,s)})(t.getFrequencyResponse)},sC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},iC=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u=s(c),d={...sC,...l},h=e(c,u?null:a.baseLatency,d),p=u?n(d.feedback,d.feedforward):null;super(a,!1,h,p),rC(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},ty=(t,e,n,r,s,i,o,a,l,c,u)=>{const d=c.length;let h=a;for(let p=0;p<d;p+=1){let m=n[0]*c[p];for(let g=1;g<s;g+=1){const C=h-g&l-1;m+=n[g]*i[C],m-=t[g]*o[C]}for(let g=s;g<r;g+=1)m+=n[g]*i[h-g&l-1];for(let g=s;g<e;g+=1)m-=t[g]*o[h-g&l-1];i[h]=c[p],o[h]=m,h=h+1&l-1,u[p]=m}return h},oC=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let m=0;m<o;m+=1)i[m]/=s[0];for(let m=1;m<a;m+=1)s[m]/=s[0]}const c=32,u=new Float32Array(c),d=new Float32Array(c),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let m=0;m<p;m+=1){const g=t.getChannelData(m),C=h.getChannelData(m);u.fill(0),d.fill(0),ty(s,o,i,a,l,u,d,0,c,g,C)}return h},aC=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const c=async(u,d)=>{let h=null,p=e(u);const m=Wt(p,d);if(d.createIIRFilter===void 0?h=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(p=d.createIIRFilter(o,i)),a.set(d,h===null?p:h),h!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new n(u.context.destination.channelCount,u.context.length,d.sampleRate);l=(async()=>{await r(u,C,C.destination);const f=await s(C);return oC(f,d,i,o)})()}const g=await l;return h.buffer=g,h.start(0),h}return await r(u,d,p),p};return{render(u,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):c(u,d)}}},lC=(t,e,n,r,s,i)=>o=>(a,l)=>{const c=t.get(a);if(c===void 0){if(!o&&i(a)){const u=r(a),{outputs:d}=n(a);for(const h of d)if(va(h)){const p=r(h[0]);e(u,p,h[1],h[2])}else{const p=s(h[0]);u.disconnect(p,h[1])}}t.set(a,l)}else t.set(a,c+l)},cC=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},uC=(t,e)=>n=>t.has(n)||e(n),dC=(t,e)=>n=>t.has(n)||e(n),hC=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},fC=t=>e=>t!==null&&e instanceof t,pC=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,mC=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,gC=(t,e)=>n=>t(n)||e(n),vC=t=>e=>t!==null&&e instanceof t,yC=t=>t!==null&&t.isSecureContext,wC=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},_C={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},xC=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={..._C,...o},c=e(a,l);super(i,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},SC=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},kC=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},CC=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Oc.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},na=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},bC=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,c=0)=>{const u=i.size===0;if(e(a))return o.call(n,a,l,c),t(i,[a,l,c],d=>d[0]===a&&d[1]===l&&d[2]===c,!0),u&&r(),a;o.call(n,a,l),t(i,[a,l],d=>d[0]===a&&d[1]===l,!0),u&&r()})(n.connect),n.disconnect=(o=>(a,l,c)=>{const u=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const h of i)h[1]===a&&i.delete(h)}else{e(a)?o.call(n,a,l,c):o.call(n,a,l);for(const h of i)h[0]===a&&(l===void 0||h[1]===l)&&(c===void 0||h[2]===c)&&i.delete(h)}const d=i.size===0;u&&d&&s()})(n.disconnect),n},Ye=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},St=(t,e)=>{Ye(t,e,"channelCount"),Ye(t,e,"channelCountMode"),Ye(t,e,"channelInterpretation")},Am=t=>typeof t.getFloatTimeDomainData=="function",TC=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},EC=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(St(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Ye(s,r,"fftSize"),Ye(s,r,"maxDecibels"),Ye(s,r,"minDecibels"),Ye(s,r,"smoothingTimeConstant"),t(Am,()=>Am(s))||TC(s),s},NC=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,rt=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},AC=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Mt();e.call(t,r,s,i),n=!0}})(t.start)},of=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},af=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},MC=(t,e,n,r,s,i,o,a,l,c,u)=>(d,h)=>{const p=d.createBufferSource();return St(p,h),rt(p,h,"playbackRate"),Ye(p,h,"buffer"),Ye(p,h,"loop"),Ye(p,h,"loopEnd"),Ye(p,h,"loopStart"),e(n,()=>n(d))||AC(p),e(r,()=>r(d))||l(p),e(s,()=>s(d))||c(p,d),e(i,()=>i(d))||of(p),e(o,()=>o(d))||u(p,d),e(a,()=>a(d))||af(p),t(d,p),p},RC=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,OC=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},IC=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,PC=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},$C=(t,e,n,r,s)=>(i,o,a,l,c,u)=>{if(a!==null)try{const d=new a(i,l,u),h=new Map;let p=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>p,set:m=>{typeof p=="function"&&d.removeEventListener("processorerror",p),p=typeof m=="function"?m:null,typeof p=="function"&&d.addEventListener("processorerror",p)}}}),d.addEventListener=(m=>(...g)=>{if(g[0]==="processorerror"){const C=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(C!==null){const f=h.get(g[1]);f!==void 0?g[1]=f:(g[1]=v=>{v.type==="error"?(Object.defineProperties(v,{type:{value:"processorerror"}}),C(v)):C(new ErrorEvent(g[0],{...v}))},h.set(C,g[1]))}}return m.call(d,"error",g[1],g[2]),m.call(d,...g)})(d.addEventListener),d.removeEventListener=(m=>(...g)=>{if(g[0]==="processorerror"){const C=h.get(g[1]);C!==void 0&&(h.delete(g[1]),g[1]=C)}return m.call(d,"error",g[1],g[2]),m.call(d,g[0],g[1],g[2])})(d.removeEventListener),u.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(m).connect(i.destination),s(d,()=>m.disconnect(),()=>m.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(c===void 0)throw r();return PC(u),e(i,o,c,u)},ny=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),DC=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),jC=async(t,e)=>{const n=await DC(e);return new t(n)},FC=(t,e,n,r)=>{let s=Ld.get(t);s===void 0&&(s=new WeakMap,Ld.set(t,s));const i=jC(n,r);return s.set(e,i),i},LC=(t,e,n,r,s,i,o,a,l,c,u,d,h)=>(p,m,g,C)=>{if(C.numberOfInputs===0&&C.numberOfOutputs===0)throw l();const f=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(f.some(W=>W<1))throw l();if(f.length!==C.numberOfOutputs)throw e();if(C.channelCountMode!=="explicit")throw l();const v=C.channelCount*C.numberOfInputs,y=f.reduce((W,X)=>W+X,0),x=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(v+x>6||y>6)throw l();const w=new MessageChannel,S=[],k=[];for(let W=0;W<C.numberOfInputs;W+=1)S.push(o(p,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),k.push(s(p,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const b=[];if(g.parameterDescriptors!==void 0)for(const{defaultValue:W,maxValue:X,minValue:ne,name:me}of g.parameterDescriptors){const le=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:C.parameterData[me]!==void 0?C.parameterData[me]:W===void 0?0:W});Object.defineProperties(le.offset,{defaultValue:{get:()=>W===void 0?0:W},maxValue:{get:()=>X===void 0?Gt:X},minValue:{get:()=>ne===void 0?nn:ne}}),b.push(le)}const N=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+x)}),E=ny(m,p.sampleRate),A=a(p,E,v+x,Math.max(1,y)),M=s(p,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),j=[];for(let W=0;W<C.numberOfOutputs;W+=1)j.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[W]}));for(let W=0;W<C.numberOfInputs;W+=1){S[W].connect(k[W]);for(let X=0;X<C.channelCount;X+=1)k[W].connect(N,X,W*C.channelCount+X)}const D=new Jv(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:W},X)=>{const ne=b[X];return ne.connect(N,0,v+X),ne.start(0),[W,ne.offset]}));N.connect(A);let P=C.channelInterpretation,$=null;const F=C.numberOfOutputs===0?[A]:j,R={get bufferSize(){return E},get channelCount(){return C.channelCount},set channelCount(W){throw n()},get channelCountMode(){return C.channelCountMode},set channelCountMode(W){throw n()},get channelInterpretation(){return P},set channelInterpretation(W){for(const X of S)X.channelInterpretation=W;P=W},get context(){return A.context},get inputs(){return S},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(W){typeof $=="function"&&R.removeEventListener("processorerror",$),$=typeof W=="function"?W:null,typeof $=="function"&&R.addEventListener("processorerror",$)},get parameters(){return D},get port(){return w.port2},addEventListener(...W){return A.addEventListener(W[0],W[1],W[2])},connect:t.bind(null,F),disconnect:c.bind(null,F),dispatchEvent(...W){return A.dispatchEvent(W[0])},removeEventListener(...W){return A.removeEventListener(W[0],W[1],W[2])}},O=new Map;w.port1.addEventListener=(W=>(...X)=>{if(X[0]==="message"){const ne=typeof X[1]=="function"?X[1]:typeof X[1]=="object"&&X[1]!==null&&typeof X[1].handleEvent=="function"?X[1].handleEvent:null;if(ne!==null){const me=O.get(X[1]);me!==void 0?X[1]=me:(X[1]=le=>{u(p.currentTime,p.sampleRate,()=>ne(le))},O.set(ne,X[1]))}}return W.call(w.port1,X[0],X[1],X[2])})(w.port1.addEventListener),w.port1.removeEventListener=(W=>(...X)=>{if(X[0]==="message"){const ne=O.get(X[1]);ne!==void 0&&(O.delete(X[1]),X[1]=ne)}return W.call(w.port1,X[0],X[1],X[2])})(w.port1.removeEventListener);let I=null;Object.defineProperty(w.port1,"onmessage",{get:()=>I,set:W=>{typeof I=="function"&&w.port1.removeEventListener("message",I),I=typeof W=="function"?W:null,typeof I=="function"&&(w.port1.addEventListener("message",I),w.port1.start())}}),g.prototype.port=w.port1;let V=null;FC(p,R,g,C).then(W=>V=W);const J=rc(C.numberOfInputs,C.channelCount),te=rc(C.numberOfOutputs,f),Z=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((W,{name:X})=>({...W,[X]:new Float32Array(128)}),{});let Q=!0;const xe=()=>{C.numberOfOutputs>0&&A.disconnect(M);for(let W=0,X=0;W<C.numberOfOutputs;W+=1){const ne=j[W];for(let me=0;me<f[W];me+=1)M.disconnect(ne,X+me,me);X+=f[W]}},H=new Map;A.onaudioprocess=({inputBuffer:W,outputBuffer:X})=>{if(V!==null){const ne=d(R);for(let me=0;me<E;me+=128){for(let le=0;le<C.numberOfInputs;le+=1)for(let U=0;U<C.channelCount;U+=1)nc(W,J[le],U,U,me);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:le},U)=>{nc(W,Z,le,v+U,me)});for(let le=0;le<C.numberOfInputs;le+=1)for(let U=0;U<f[le];U+=1)te[le][U].byteLength===0&&(te[le][U]=new Float32Array(128));try{const le=J.map((Oe,fe)=>{if(ne[fe].size>0)return H.set(fe,E/128),Oe;const dn=H.get(fe);return dn===void 0?[]:(Oe.every(Y=>Y.every(ee=>ee===0))&&(dn===1?H.delete(fe):H.set(fe,dn-1)),Oe)});Q=u(p.currentTime+me/p.sampleRate,p.sampleRate,()=>V.process(le,te,Z));for(let Oe=0,fe=0;Oe<C.numberOfOutputs;Oe+=1){for(let Ie=0;Ie<f[Oe];Ie+=1)ey(X,te[Oe],Ie,fe+Ie,me);fe+=f[Oe]}}catch(le){Q=!1,R.dispatchEvent(new ErrorEvent("processorerror",{colno:le.colno,filename:le.filename,lineno:le.lineno,message:le.message}))}if(!Q){for(let le=0;le<C.numberOfInputs;le+=1){S[le].disconnect(k[le]);for(let U=0;U<C.channelCount;U+=1)k[me].disconnect(N,U,le*C.channelCount+U)}if(g.parameterDescriptors!==void 0){const le=g.parameterDescriptors.length;for(let U=0;U<le;U+=1){const Oe=b[U];Oe.disconnect(N,0,v+U),Oe.stop()}}N.disconnect(A),A.onaudioprocess=null,Re?xe():Ne();break}}}};let Re=!1;const Ee=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Le=()=>A.connect(Ee).connect(p.destination),Ne=()=>{A.disconnect(Ee),Ee.disconnect()},Se=()=>{if(Q){Ne(),C.numberOfOutputs>0&&A.connect(M);for(let W=0,X=0;W<C.numberOfOutputs;W+=1){const ne=j[W];for(let me=0;me<f[W];me+=1)M.connect(ne,X+me,me);X+=f[W]}}Re=!0},ye=()=>{Q&&(Le(),xe()),Re=!1};return Le(),h(R,Se,ye)},ry=(t,e)=>{const n=t.createBiquadFilter();return St(n,e),rt(n,e,"Q"),rt(n,e,"detune"),rt(n,e,"frequency"),rt(n,e,"gain"),Ye(n,e,"type"),n},VC=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),St(s,r),s},zC=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Mt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Mt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Mt()}})},ya=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return St(n,e),zC(n),n},BC=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return St(a,o),rt(a,o,"offset"),e(r,()=>r(i))||of(a),e(s,()=>s(i))||af(a),t(i,a),a},Zi=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),WC=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(m){c.channelCount=m},get channelCountMode(){return c.channelCountMode},set channelCountMode(m){c.channelCountMode=m},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(m){c.channelInterpretation=m},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},h=()=>l.connect(c),p=()=>l.disconnect(c);return t(s,l),r(Zi(d,c),h,p)},UC=(t,e)=>(n,r)=>{const s=n.createConvolver();if(St(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Ye(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},sy=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return St(n,e),rt(n,e,"delayTime"),n},qC=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(St(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return rt(r,n,"attack"),rt(r,n,"knee"),rt(r,n,"ratio"),rt(r,n,"release"),rt(r,n,"threshold"),r},cn=(t,e)=>{const n=t.createGain();return St(n,e),rt(n,e,"gain"),n},HC=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return St(s,r),s};function GC(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function ZC(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Mm(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=ZC(n,e),n[0]+=t[r];return n}const XC=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const d=ny(i,s.sampleRate),h=c instanceof Float64Array?c:new Float64Array(c),p=u instanceof Float64Array?u:new Float64Array(u),m=h.length,g=p.length,C=Math.min(m,g);if(m===0||m>20)throw r();if(h[0]===0)throw e();if(g===0||g>20)throw r();if(p[0]===0)throw e();if(h[0]!==1){for(let b=0;b<g;b+=1)p[b]/=h[0];for(let b=1;b<m;b+=1)h[b]/=h[0]}const f=n(s,d,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const v=32,y=[],x=[],w=[];for(let b=0;b<o;b+=1){y.push(0);const N=new Float32Array(v),E=new Float32Array(v);N.fill(0),E.fill(0),x.push(N),w.push(E)}f.onaudioprocess=b=>{const N=b.inputBuffer,E=b.outputBuffer,A=N.numberOfChannels;for(let M=0;M<A;M+=1){const j=N.getChannelData(M),D=E.getChannelData(M);y[M]=ty(h,m,p,g,C,x[M],w[M],y[M],v,j,D)}};const S=s.sampleRate/2;return Zi({get bufferSize(){return d},get channelCount(){return f.channelCount},set channelCount(b){f.channelCount=b},get channelCountMode(){return f.channelCountMode},set channelCountMode(b){f.channelCountMode=b},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(b){f.channelInterpretation=b},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...b){return f.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return f.dispatchEvent(b[0])},getFrequencyResponse(b,N,E){if(b.length!==N.length||N.length!==E.length)throw t();const A=b.length;for(let M=0;M<A;M+=1){const j=-Math.PI*(b[M]/S),D=[Math.cos(j),Math.sin(j)],P=Mm(p,D),$=Mm(h,D),F=GC(P,$);N[M]=Math.sqrt(F[0]*F[0]+F[1]*F[1]),E[M]=Math.atan2(F[1],F[0])}},removeEventListener(...b){return f.removeEventListener(b[0],b[1],b[2])}},f)},YC=(t,e)=>t.createMediaElementSource(e.mediaElement),QC=(t,e)=>{const n=t.createMediaStreamDestination();return St(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},KC=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},JC=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},eb=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,tb=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return St(l,a),rt(l,a,"detune"),rt(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Ye(l,a,"type"),e(n,()=>n(o))||of(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||af(l),t(o,l),l},nb=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(St(r,n),rt(r,n,"orientationX"),rt(r,n,"orientationY"),rt(r,n,"orientationZ"),rt(r,n,"positionX"),rt(r,n,"positionY"),rt(r,n,"positionZ"),Ye(r,n,"coneInnerAngle"),Ye(r,n,"coneOuterAngle"),Ye(r,n,"coneOuterGain"),Ye(r,n,"distanceModel"),Ye(r,n,"maxDistance"),Ye(r,n,"panningModel"),Ye(r,n,"refDistance"),Ye(r,n,"rolloffFactor"),r)},rb=(t,e,n,r,s,i,o,a,l,c)=>(u,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:p,distanceModel:m,maxDistance:g,orientationX:C,orientationY:f,orientationZ:v,panningModel:y,positionX:x,positionY:w,positionZ:S,refDistance:k,rolloffFactor:b,...N})=>{const E=u.createPanner();if(N.channelCount>2||N.channelCountMode==="max")throw o();St(E,N);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},M=n(u,{...A,channelInterpretation:"speakers",numberOfInputs:6}),j=r(u,{...N,gain:1}),D=r(u,{...A,gain:1}),P=r(u,{...A,gain:0}),$=r(u,{...A,gain:0}),F=r(u,{...A,gain:0}),R=r(u,{...A,gain:0}),O=r(u,{...A,gain:0}),I=s(u,256,6,1),V=i(u,{...A,curve:new Float32Array([1,1]),oversample:"none"});let B=[C,f,v],J=[x,w,S];const te=new Float32Array(1);I.onaudioprocess=({inputBuffer:H})=>{const Re=[l(H,te,0),l(H,te,1),l(H,te,2)];Re.some((Le,Ne)=>Le!==B[Ne])&&(E.setOrientation(...Re),B=Re);const Ee=[l(H,te,3),l(H,te,4),l(H,te,5)];Ee.some((Le,Ne)=>Le!==J[Ne])&&(E.setPosition(...Ee),J=Ee)},Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0});const Z={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(H){if(H>2)throw o();j.channelCount=H,E.channelCount=H},get channelCountMode(){return E.channelCountMode},set channelCountMode(H){if(H==="max")throw o();j.channelCountMode=H,E.channelCountMode=H},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(H){j.channelInterpretation=H,E.channelInterpretation=H},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(H){E.coneInnerAngle=H},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(H){E.coneOuterAngle=H},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(H){if(H<0||H>1)throw e();E.coneOuterGain=H},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(H){E.distanceModel=H},get inputs(){return[j]},get maxDistance(){return E.maxDistance},set maxDistance(H){if(H<0)throw new RangeError;E.maxDistance=H},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return D.gain},get orientationY(){return P.gain},get orientationZ(){return $.gain},get panningModel(){return E.panningModel},set panningModel(H){E.panningModel=H},get positionX(){return F.gain},get positionY(){return R.gain},get positionZ(){return O.gain},get refDistance(){return E.refDistance},set refDistance(H){if(H<0)throw new RangeError;E.refDistance=H},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(H){if(H<0)throw new RangeError;E.rolloffFactor=H},addEventListener(...H){return j.addEventListener(H[0],H[1],H[2])},dispatchEvent(...H){return j.dispatchEvent(H[0])},removeEventListener(...H){return j.removeEventListener(H[0],H[1],H[2])}};d!==Z.coneInnerAngle&&(Z.coneInnerAngle=d),h!==Z.coneOuterAngle&&(Z.coneOuterAngle=h),p!==Z.coneOuterGain&&(Z.coneOuterGain=p),m!==Z.distanceModel&&(Z.distanceModel=m),g!==Z.maxDistance&&(Z.maxDistance=g),C!==Z.orientationX.value&&(Z.orientationX.value=C),f!==Z.orientationY.value&&(Z.orientationY.value=f),v!==Z.orientationZ.value&&(Z.orientationZ.value=v),y!==Z.panningModel&&(Z.panningModel=y),x!==Z.positionX.value&&(Z.positionX.value=x),w!==Z.positionY.value&&(Z.positionY.value=w),S!==Z.positionZ.value&&(Z.positionZ.value=S),k!==Z.refDistance&&(Z.refDistance=k),b!==Z.rolloffFactor&&(Z.rolloffFactor=b),(B[0]!==1||B[1]!==0||B[2]!==0)&&E.setOrientation(...B),(J[0]!==0||J[1]!==0||J[2]!==0)&&E.setPosition(...J);const Q=()=>{j.connect(E),t(j,V,0,0),V.connect(D).connect(M,0,0),V.connect(P).connect(M,0,1),V.connect($).connect(M,0,2),V.connect(F).connect(M,0,3),V.connect(R).connect(M,0,4),V.connect(O).connect(M,0,5),M.connect(I).connect(u.destination)},xe=()=>{j.disconnect(E),a(j,V,0,0),V.disconnect(D),D.disconnect(M),V.disconnect(P),P.disconnect(M),V.disconnect($),$.disconnect(M),V.disconnect(F),F.disconnect(M),V.disconnect(R),R.disconnect(M),V.disconnect(O),O.disconnect(M),M.disconnect(I),I.disconnect(u.destination)};return c(Zi(Z,E),Q,xe)},sb=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},wa=(t,e,n,r)=>t.createScriptProcessor(e,n,r),ib=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return St(i,r),rt(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},ob=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},d=(m,g,C,f)=>{const v=new Float32Array(16385),y=new Float32Array(16385);for(let N=0;N<16385;N+=1){const E=N/16384*l;v[N]=Math.cos(E),y[N]=Math.sin(E)}const x=n(m,{...c,gain:0}),w=r(m,{...u,curve:v}),S=r(m,{...u,curve:a}),k=n(m,{...c,gain:0}),b=r(m,{...u,curve:y});return{connectGraph(){g.connect(x),g.connect(S.inputs===void 0?S:S.inputs[0]),g.connect(k),S.connect(C),C.connect(w.inputs===void 0?w:w.inputs[0]),C.connect(b.inputs===void 0?b:b.inputs[0]),w.connect(x.gain),b.connect(k.gain),x.connect(f,0,0),k.connect(f,0,1)},disconnectGraph(){g.disconnect(x),g.disconnect(S.inputs===void 0?S:S.inputs[0]),g.disconnect(k),S.disconnect(C),C.disconnect(w.inputs===void 0?w:w.inputs[0]),C.disconnect(b.inputs===void 0?b:b.inputs[0]),w.disconnect(x.gain),b.disconnect(k.gain),x.disconnect(f,0,0),k.disconnect(f,0,1)}}},h=(m,g,C,f)=>{const v=new Float32Array(16385),y=new Float32Array(16385),x=new Float32Array(16385),w=new Float32Array(16385),S=Math.floor(16385/2);for(let F=0;F<16385;F+=1)if(F>S){const R=(F-S)/(16384-S)*l;v[F]=Math.cos(R),y[F]=Math.sin(R),x[F]=0,w[F]=1}else{const R=F/(16384-S)*l;v[F]=1,y[F]=0,x[F]=Math.cos(R),w[F]=Math.sin(R)}const k=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),b=n(m,{...c,gain:0}),N=r(m,{...u,curve:v}),E=n(m,{...c,gain:0}),A=r(m,{...u,curve:y}),M=r(m,{...u,curve:a}),j=n(m,{...c,gain:0}),D=r(m,{...u,curve:x}),P=n(m,{...c,gain:0}),$=r(m,{...u,curve:w});return{connectGraph(){g.connect(k),g.connect(M.inputs===void 0?M:M.inputs[0]),k.connect(b,0),k.connect(E,0),k.connect(j,1),k.connect(P,1),M.connect(C),C.connect(N.inputs===void 0?N:N.inputs[0]),C.connect(A.inputs===void 0?A:A.inputs[0]),C.connect(D.inputs===void 0?D:D.inputs[0]),C.connect($.inputs===void 0?$:$.inputs[0]),N.connect(b.gain),A.connect(E.gain),D.connect(j.gain),$.connect(P.gain),b.connect(f,0,0),j.connect(f,0,0),E.connect(f,0,1),P.connect(f,0,1)},disconnectGraph(){g.disconnect(k),g.disconnect(M.inputs===void 0?M:M.inputs[0]),k.disconnect(b,0),k.disconnect(E,0),k.disconnect(j,1),k.disconnect(P,1),M.disconnect(C),C.disconnect(N.inputs===void 0?N:N.inputs[0]),C.disconnect(A.inputs===void 0?A:A.inputs[0]),C.disconnect(D.inputs===void 0?D:D.inputs[0]),C.disconnect($.inputs===void 0?$:$.inputs[0]),N.disconnect(b.gain),A.disconnect(E.gain),D.disconnect(j.gain),$.disconnect(P.gain),b.disconnect(f,0,0),j.disconnect(f,0,0),E.disconnect(f,0,1),P.disconnect(f,0,1)}}},p=(m,g,C,f,v)=>{if(g===1)return d(m,C,f,v);if(g===2)return h(m,C,f,v);throw s()};return(m,{channelCount:g,channelCountMode:C,pan:f,...v})=>{if(C==="max")throw s();const y=t(m,{...v,channelCount:1,channelCountMode:C,numberOfInputs:2}),x=n(m,{...v,channelCount:g,channelCountMode:C,gain:1}),w=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:S,disconnectGraph:k}=p(m,g,x,w,y);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const b={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(M){x.channelCount!==M&&(N&&k(),{connectGraph:S,disconnectGraph:k}=p(m,M,x,w,y),N&&S()),x.channelCount=M},get channelCountMode(){return x.channelCountMode},set channelCountMode(M){if(M==="clamped-max"||M==="max")throw s();x.channelCountMode=M},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(M){x.channelInterpretation=M},get context(){return x.context},get inputs(){return[x]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get pan(){return w.gain},addEventListener(...M){return x.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return x.dispatchEvent(M[0])},removeEventListener(...M){return x.removeEventListener(M[0],M[1],M[2])}};let N=!1;const E=()=>{S(),N=!0},A=()=>{k(),N=!1};return i(Zi(b,y),E,A)}},ab=(t,e,n,r,s,i,o)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);St(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw e();Ye(c,{curve:u},"curve"),Ye(c,l,"oversample");let d=null,h=!1;return o(c,"curve",g=>()=>g.call(c),g=>C=>(g.call(c,C),h&&(r(C)&&d===null?d=t(a,c):!r(C)&&d!==null&&(d(),d=null)),C)),s(c,()=>{h=!0,r(c.curve)&&(d=t(a,c))},()=>{h=!1,d!==null&&(d(),d=null)})},lb=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const c=i.createWaveShaper(),u=i.createWaveShaper();St(c,l),St(u,l);const d=n(i,{...l,gain:1}),h=n(i,{...l,gain:-1}),p=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1});let g=null,C=!1,f=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(w){d.channelCount=w,h.channelCount=w,c.channelCount=w,p.channelCount=w,u.channelCount=w,m.channelCount=w},get channelCountMode(){return c.channelCountMode},set channelCountMode(w){d.channelCountMode=w,h.channelCountMode=w,c.channelCountMode=w,p.channelCountMode=w,u.channelCountMode=w,m.channelCountMode=w},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(w){d.channelInterpretation=w,h.channelInterpretation=w,c.channelInterpretation=w,p.channelInterpretation=w,u.channelInterpretation=w,m.channelInterpretation=w},get context(){return c.context},get curve(){return f},set curve(w){if(w!==null&&w.length<2)throw e();if(w===null)c.curve=w,u.curve=w;else{const S=w.length,k=new Float32Array(S+2-S%2),b=new Float32Array(S+2-S%2);k[0]=w[0],b[0]=-w[S-1];const N=Math.ceil((S+1)/2),E=(S+1)/2-1;for(let A=1;A<N;A+=1){const M=A/N*E,j=Math.floor(M),D=Math.ceil(M);k[A]=j===D?w[j]:(1-(M-j))*w[j]+(1-(D-M))*w[D],b[A]=j===D?-w[S-1-j]:-((1-(M-j))*w[S-1-j])-(1-(D-M))*w[S-1-D]}k[N]=S%2===1?w[N-1]:(w[N-2]+w[N-1])/2,c.curve=k,u.curve=b}f=w,C&&(r(f)&&g===null?g=t(i,d):g!==null&&(g(),g=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(w){c.oversample=w,u.oversample=w},addEventListener(...w){return d.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return d.dispatchEvent(w[0])},removeEventListener(...w){return d.removeEventListener(w[0],w[1],w[2])}};o!==null&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a);const y=()=>{d.connect(c).connect(p),d.connect(h).connect(u).connect(m).connect(p),C=!0,r(f)&&(g=t(i,d))},x=()=>{d.disconnect(c),c.disconnect(p),d.disconnect(h),h.disconnect(u),u.disconnect(m),m.disconnect(p),C=!1,g!==null&&(g(),g=null)};return s(Zi(v,p),y,x)},Kt=()=>new DOMException("","NotSupportedError"),cb={numberOfChannels:1},ub=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let c;if(typeof o=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")c=o;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:d,sampleRate:h}={...cb,...c},p=r(d,u,h);e(na,()=>na(p))||p.addEventListener("statechange",(()=>{let m=0;const g=C=>{this._state==="running"&&(m>0?(p.removeEventListener("statechange",g),C.stopImmediatePropagation(),this._waitForThePromiseToSettle(C)):m+=1)};return g})()),super(p,d),this._length=u,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Xv(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},db={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},hb=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...db,...c},h=n(u,d),p=i(u),m=p?r():null,g=l.sampleRate/2;super(l,!1,h,m),this._detune=e(this,p,h.detune,153600,-153600),this._frequency=e(this,p,h.frequency,g,-g),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){$i(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),Cr(this)&&ma(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},fb=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const c=async(u,d)=>{let h=n(u);const p=Wt(h,d);if(!p){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:o===null?void 0:o,type:h.type};h=e(d,m),a!==null&&h.start(a),l!==null&&h.stop(l)}return i.set(d,h),p?(await t(d,u.detune,h.detune),await t(d,u.frequency,h.frequency)):(await r(d,u.detune,h.detune),await r(d,u.frequency,h.frequency)),await s(u,d,h),h};return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){l=u},render(u,d){const h=i.get(d);return h!==void 0?Promise.resolve(h):c(u,d)}}},pb={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},mb=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...pb,...c},h=n(u,d),p=i(u),m=p?r():null;super(l,!1,h,m),this._nativePannerNode=h,this._orientationX=e(this,p,h.orientationX,Gt,nn),this._orientationY=e(this,p,h.orientationY,Gt,nn),this._orientationZ=e(this,p,h.orientationZ,Gt,nn),this._positionX=e(this,p,h.positionX,Gt,nn),this._positionY=e(this,p,h.positionY,Gt,nn),this._positionZ=e(this,p,h.positionZ,Gt,nn),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},gb=(t,e,n,r,s,i,o,a,l,c)=>()=>{const u=new WeakMap;let d=null;const h=async(p,m)=>{let g=null,C=i(p);const f={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation},v={...f,coneInnerAngle:C.coneInnerAngle,coneOuterAngle:C.coneOuterAngle,coneOuterGain:C.coneOuterGain,distanceModel:C.distanceModel,maxDistance:C.maxDistance,panningModel:C.panningModel,refDistance:C.refDistance,rolloffFactor:C.rolloffFactor},y=Wt(C,m);if("bufferSize"in C)g=r(m,{...f,gain:1});else if(!y){const x={...v,orientationX:C.orientationX.value,orientationY:C.orientationY.value,orientationZ:C.orientationZ.value,positionX:C.positionX.value,positionY:C.positionY.value,positionZ:C.positionZ.value};C=s(m,x)}if(u.set(m,g===null?C:g),g!==null){if(d===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const A=new o(6,p.context.length,m.sampleRate),M=e(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});M.connect(A.destination),d=(async()=>{const j=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(D,P)=>{const $=n(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:P===0?1:0});return await a(A,D,$.offset),$}));for(let D=0;D<6;D+=1)j[D].connect(M,0,D),j[D].start(0);return c(A)})()}const x=await d,w=r(m,{...f,gain:1});await l(p,m,w);const S=[];for(let A=0;A<x.numberOfChannels;A+=1)S.push(x.getChannelData(A));let k=[S[0][0],S[1][0],S[2][0]],b=[S[3][0],S[4][0],S[5][0]],N=r(m,{...f,gain:1}),E=s(m,{...v,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:b[0],positionY:b[1],positionZ:b[2]});w.connect(N).connect(E.inputs[0]),E.connect(g);for(let A=128;A<x.length;A+=128){const M=[S[0][A],S[1][A],S[2][A]],j=[S[3][A],S[4][A],S[5][A]];if(M.some((D,P)=>D!==k[P])||j.some((D,P)=>D!==b[P])){k=M,b=j;const D=A/m.sampleRate;N.gain.setValueAtTime(0,D),N=r(m,{...f,gain:0}),E=s(m,{...v,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:b[0],positionY:b[1],positionZ:b[2]}),N.gain.setValueAtTime(1,D),w.connect(N).connect(E.inputs[0]),E.connect(g)}}return g}return y?(await t(m,p.orientationX,C.orientationX),await t(m,p.orientationY,C.orientationY),await t(m,p.orientationZ,C.orientationZ),await t(m,p.positionX,C.positionX),await t(m,p.positionY,C.positionY),await t(m,p.positionZ,C.positionZ)):(await a(m,p.orientationX,C.orientationX),await a(m,p.orientationY,C.orientationY),await a(m,p.orientationZ,C.orientationZ),await a(m,p.positionX,C.positionX),await a(m,p.positionY,C.positionY),await a(m,p.positionZ,C.positionZ)),Gi(C)?await l(p,m,C.inputs[0]):await l(p,m,C),C};return{render(p,m){const g=u.get(m);return g!==void 0?Promise.resolve(g):h(p,m)}}},vb={disableNormalization:!1},yb=(t,e,n,r)=>class iy{constructor(i,o){const a=e(i),l=r({...vb,...o}),c=t(a,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===iy.prototype||n.has(i)}},wb=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),_b=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([c,u])=>{const h=await e(c).render(c,s),p=r.context.destination;!n(c)&&(r!==p||!n(r))&&h.connect(i,u,l)})).reduce((a,l)=>[...a,...l],[]))},xb=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const u=await t(a).render(a,s);n(a)||u.connect(i,l)}))},Sb=(t,e,n,r)=>s=>t(na,()=>na(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),kb=t=>(e,n)=>{t.set(e,n)},Cb=t=>(e,n)=>t.set(e,n),bb=(t,e,n,r,s,i,o,a)=>(l,c)=>n(l).render(l,c).then(()=>Promise.all(Array.from(r(c)).map(u=>n(u).render(u,c)))).then(()=>s(c)).then(u=>(typeof u.copyFromChannel!="function"?(o(u),nf(u)):e(i,()=>i(u))||a(u),t.add(u),u)),Tb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Eb=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...Tb,...l},d=n(c,u),h=i(c),p=h?r():null;super(a,!1,d,p),this._pan=e(this,h,d.pan)}get pan(){return this._pan}},Nb=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=Wt(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,d)}return i.set(l,c),u?await t(l,a.pan,c.pan):await r(l,a.pan,c.pan),Gi(c)?await s(a,l,c.inputs[0]):await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},Ab=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Mb=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},Rb=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},Ob=()=>new DOMException("","UnknownError"),Ib={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Pb=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...Ib,...c},h=n(u,d),m=i(u)?r():null;super(l,!0,h,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},$b=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Wt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,c)}return r.set(o,a),Gi(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},Db=()=>typeof window>"u"?null:window,jb=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<l&&d<u;d+=1)r[d]=c[d+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<l&&d<u;d+=1)c[d+o]=r[d]}},Fb=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},Lb=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},Vb=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},oy=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),ay=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},_a=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},zb=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Bb=t=>({...t,channelCount:t.numberOfOutputs}),Wb=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},ly=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;ly(t,e,n+1e-7)}},Ub=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},qb=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Hb=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},lf=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},cy=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},cf=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Gb=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Zb=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},uy=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Zi(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},Xi=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Xb=mS(Xs),Yb=xS(Xs),Qb=Ik(Ic),dy=new WeakMap,Kb=Qk(dy),Jn=ck(new Map,new WeakMap),dr=Db(),hy=EC(Jn,fr),uf=Yk(Zt),Dt=_b(Zt,uf,Vs),Jb=TS(hy,Ze,Dt),Ue=eC(Oc),Rr=eb(dr),je=vC(Rr),fy=new WeakMap,py=Wk(Xi),xa=RC(dr),df=fC(xa),hf=pC(dr),my=mC(dr),ra=IC(dr),dt=QS(gS(Bv),_S(Xb,Yb,Jl,Qb,ec,Zt,Kb,pa,Ze,Xs,Cr,Vs,ml),Jn,lC(jd,ec,Zt,Ze,ta,Cr),fr,Pc,Kt,Ak(Jl,jd,Zt,Ze,ta,Ue,Cr,je),Dk(fy,Zt,Qn),py,Ue,df,hf,my,je,ra),eT=bS(dt,Jb,fr,hy,Ue,je),ff=new WeakSet,Rm=NC(dr),gy=Sk(new Uint32Array(1)),pf=jb(gy,fr),mf=Fb(gy),vy=NS(ff,Jn,Kt,Rm,Rr,Ab(Rm),pf,mf),$c=SS(cn),yy=xb(uf,ga,Vs),pr=gk(yy),Yi=MC($c,Jn,Ub,qb,Hb,lf,cy,cf,Zb,Lb(_a),uy),mr=wb(Kk(ga),yy),tT=RS(pr,Yi,Ze,mr,Dt),er=KS(vS(Wv),fy,tf,JS,cS,uS,dS,hS,fS,Pd,Vv,xa,ly),nT=MS(dt,tT,er,Mt,Yi,Ue,je,Xi),rT=VS(dt,zS,fr,Mt,OC(cn,_a),Ue,je,Dt),sT=lk(pr,ry,Ze,mr,Dt),Ys=Cb(dy),iT=ak(dt,er,sT,Pc,ry,Ue,je,Ys),vs=bC(Xs,hf),oT=Vb(Mt,vs),ys=VC(xa,oT),aT=hk(ys,Ze,Dt),lT=dk(dt,aT,ys,Ue,je),cT=mk(ya,Ze,Dt),uT=pk(dt,cT,ya,Ue,je,Bb),dT=WC($c,Yi,cn,vs),Qi=BC($c,Jn,dT,lf,cf),hT=xk(pr,Qi,Ze,mr,Dt),fT=_k(dt,er,hT,Qi,Ue,je,Xi),wy=UC(Kt,_a),pT=bk(wy,Ze,Dt),mT=Ck(dt,pT,wy,Ue,je,Ys),gT=Ok(pr,sy,Ze,mr,Dt),vT=Rk(dt,er,gT,sy,Ue,je,Ys),_y=qC(Kt),yT=Vk(pr,_y,Ze,mr,Dt),wT=Lk(dt,er,yT,_y,Kt,Ue,je,Ys),_T=Zk(pr,cn,Ze,mr,Dt),xT=Gk(dt,er,_T,cn,Ue,je),ST=XC(Pc,Mt,wa,Kt),Dc=Sb(Jn,cn,wa,Rb(cn,Rr)),kT=aC(Yi,Ze,Rr,Dt,Dc),CT=HC(ST),bT=iC(dt,CT,kT,Ue,je,Ys),TT=BS(er,ys,Qi,wa,Kt,oy,je,_a),xy=new WeakMap,ET=CC(rT,TT,py,je,xy,Xi),Sy=tb($c,Jn,lf,cy,cf,uy),NT=fb(pr,Sy,Ze,mr,Dt),AT=hb(dt,er,Sy,NT,Ue,je,Xi),ky=yk(Yi),MT=lb(ky,Mt,cn,ay,vs),jc=ab(ky,Mt,MT,ay,vs,xa,_a),RT=rb(Jl,Mt,ys,cn,wa,jc,Kt,ec,oy,vs),Cy=nb(RT),OT=gb(pr,ys,Qi,cn,Cy,Ze,Rr,mr,Dt,Dc),IT=mb(dt,er,Cy,OT,Ue,je,Ys),PT=sb(fr),$T=yb(PT,Ue,new WeakSet,Wb),DT=ob(ys,ya,cn,jc,Kt,vs),by=ib(DT,Kt),jT=Nb(pr,by,Ze,mr,Dt),FT=Eb(dt,er,by,jT,Ue,je),LT=$b(jc,Ze,Dt),VT=Pb(dt,Mt,jc,LT,Ue,je,Ys),Ty=yC(dr),gf=Uk(dr),Ey=new WeakMap,zT=tC(Ey,Rr),BT=Ty?wS(Jn,Kt,Bk(dr),gf,qk(pS),Ue,zT,je,ra,new WeakMap,new WeakMap,Mb(ra,Rr),dr):void 0,WT=gC(df,je),UT=Nk(ff,Jn,Ek,zk,new WeakSet,Ue,WT,Ql,na,pf,mf),Ny=ik(BT,eT,vy,nT,iT,lT,uT,fT,mT,UT,vT,wT,xT,bT,ET,AT,IT,$T,FT,VT),qT=wC(dt,YC,Ue,je),HT=xC(dt,QC,Ue,je),GT=SC(dt,KC,Ue,je),ZT=JC(Mt,je),XT=kC(dt,ZT,Ue),YT=LS(Ny,Mt,Kt,Ob,qT,HT,GT,XT,xa),vf=nC(xy),QT=kS(vf),Ay=vk(fr),KT=Pk(vf),My=jk(fr),Ry=new WeakMap,JT=Xk(Ry,Qn),eE=LC(Ay,fr,Mt,ys,ya,Qi,cn,wa,Kt,My,gf,JT,vs),tE=$C(Mt,eE,cn,Kt,vs),nE=sk(pr,Ay,Yi,ys,ya,Qi,cn,KT,My,gf,Ze,ra,Rr,mr,Dt,Dc),rE=Jk(Ey),sE=kb(Ry),Om=Ty?tk(QT,dt,er,nE,tE,Zt,rE,Ue,je,ra,zb,sE,Gb,Xi):void 0,iE=Tk(Kt,Rr),oE=bb(ff,Jn,uf,vf,Dc,Ql,pf,mf),aE=ub(Ny,Jn,Mt,iE,oE),lE=cC(Oc,df),cE=uC(ef,hf),uE=dC(tf,my),dE=hC(Oc,je);function _n(t){return t===void 0}function ge(t){return t!==void 0}function Oy(t){return typeof t=="function"}function cs(t){return typeof t=="number"}function is(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Iy(t){return typeof t=="boolean"}function $n(t){return Array.isArray(t)}function hr(t){return typeof t=="string"}function _o(t){return hr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function de(t,e){if(!t)throw new Error(e)}function us(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Py(t){!t.isOffline&&t.state!=="running"&&yf('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let $y=!1,Im=!1;function Pm(t){$y=t}function hE(t){_n(t)&&$y&&!Im&&(Im=!0,yf("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Dy=console;function fE(...t){Dy.log(...t)}function yf(...t){Dy.warn(...t)}function pE(t){return new YT(t)}function mE(t,e,n){return new aE(t,e,n)}const gn=typeof self=="object"?self:null,gE=gn&&(gn.hasOwnProperty("AudioContext")||gn.hasOwnProperty("webkitAudioContext"));function vE(t,e,n){return de(ge(Om),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(gn==null?void 0:gn.BaseAudioContext)?gn==null?void 0:gn.AudioWorkletNode:Om)(t,e,n)}var Nt=function(){return Nt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nt.apply(this,arguments)};function tr(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function ut(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function sc(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}class yE{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function zs(t){return uE(t)}function os(t){return cE(t)}function gl(t){return dE(t)}function ti(t){return lE(t)}function wE(t){return t instanceof vy}function _E(t,e){return t==="value"||zs(e)||os(e)||wE(e)}function Ci(t,...e){if(!e.length)return t;const n=e.shift();if(is(t)&&is(n))for(const r in n)_E(r,n[r])?t[r]=n[r]:is(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Ci(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Ci(t,...e)}function xE(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function ce(t,e,n=[],r){const s={},i=Array.from(e);if(is(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Ci(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&is(i[0]))Ci(s,i[0]);else for(let o=0;o<n.length;o++)ge(i[o])&&(s[n[o]]=i[o]);return Ci(t,s)}function SE(t){return t.constructor.getDefaults()}function Is(t,e){return _n(t)?e:t}function $m(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Or{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||gn&&this.toString()===gn.TONE_DEBUG_CLASS)&&fE(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Or.version=Kh;const wf=1e-6;function Di(t,e){return t>e+wf}function Bd(t,e){return Di(t,e)||Hn(t,e)}function ic(t,e){return t+wf<e}function Hn(t,e){return Math.abs(t-e)<wf}function kE(t,e,n){return Math.max(Math.min(t,n),e)}class xn extends Or{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ce(xn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(de(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];de(Bd(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Hn(this._timeline[n].time,e)){for(let r=n;r>=0&&Hn(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Bd(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Hn(a[n],e)){for(let c=o;c<this._timeline.length;c++){const u=this._timeline[c];if(Hn(u[n],e))o=c;else break}return o}else{if(ic(a[n],e)&&Di(l[n],e))return o;Di(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Hn(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Hn(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const jy=[];function Fc(t){jy.push(t)}function CE(t){jy.forEach(e=>e(t))}const Fy=[];function Lc(t){Fy.push(t)}function bE(t){Fy.forEach(e=>e(t))}class Ki extends Or{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{_n(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(_n(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(_n(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Ki.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class _f extends Ki{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ji extends _f{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new xn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=ce(Ji.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=pE({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new yE(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(CE(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return de(ti(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return de(ti(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return de(ti(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){de(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){de(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){de(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){de(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return vE(this.rawContext,e,n)}addAudioWorkletModule(e){return ut(this,void 0,void 0,function*(){de(ge(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return ut(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ti(this._context)?this._context.resume():Promise.resolve()}close(){return ut(this,void 0,void 0,function*(){ti(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&bE(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class TE extends _f{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return ut(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function st(t,e){$n(e)?e.forEach(n=>st(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Ly(t,e){$n(e)?e.forEach(n=>Ly(t,n)):Object.defineProperty(t,e,{writable:!0})}const De=()=>{};class Be extends Or{constructor(){super(),this.name="ToneAudioBuffer",this.onload=De;const e=ce(Be.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,hr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:De,onload:De,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Me().sampleRate}set(e){return e instanceof Be?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return ut(this,void 0,void 0,function*(){const n=Be.load(e).then(r=>{this.set(r),this.onload(this)});Be.downloads.push(n);try{yield n}finally{const r=Be.downloads.indexOf(n);Be.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=$n(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Me(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(cs(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(cs(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){de(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);de(r<s,"The start time must be less than the end time");const i=s-r,o=Me().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new Be(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Be().fromArray(e)}static fromUrl(e){return ut(this,void 0,void 0,function*(){return yield new Be().load(e)})}static load(e){return ut(this,void 0,void 0,function*(){const n=Be.baseUrl===""||Be.baseUrl.endsWith("/")?Be.baseUrl:Be.baseUrl+"/",r=yield fetch(n+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const s=yield r.arrayBuffer();return yield Me().decodeAudioData(s)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return ut(this,void 0,void 0,function*(){for(yield Promise.resolve();Be.downloads.length;)yield Be.downloads[0]})}}Be.baseUrl="";Be.downloads=[];class Sa extends Ji{constructor(){super({clockSource:"offline",context:gl(arguments[0])?arguments[0]:mE(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:gl(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=gl(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ut(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return ut(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new Be(n)})}close(){return Promise.resolve()}}const Vy=new TE;let Es=Vy;function Me(){return Es===Vy&&gE&&oc(new Ji),Es}function oc(t,e=!1){e&&Es.dispose(),ti(t)?Es=new Ji(t):gl(t)?Es=new Sa(t):Es=t}function xf(){return Es.resume()}if(gn&&!gn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Kh} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function zy(t){return Math.pow(10,t/20)}function By(t){return 20*(Math.log(t)/Math.LN10)}function Sf(t){return Math.pow(2,t/12)}let Vc=440;function EE(){return Vc}function NE(t){Vc=t}function ac(t){return Math.round(Wy(t))}function Wy(t){return 69+12*Math.log2(t/Vc)}function Uy(t){return Vc*Math.pow(2,(t-69)/12)}class kf extends Or{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof kf&&this.fromType(this._val),_n(this._val))return this._noArg();if(hr(this._val)&&_n(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(is(this._val)){let e=0;for(const n in this._val)if(ge(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(ge(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return hr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class In extends kf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new In(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new In(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new In(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ac(this.toFrequency())}_now(){return this.context.now()}}class yn extends In{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return EE()}static set A4(e){NE(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:yn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=AE[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:yn.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new yn(this.context,this.valueOf()*Sf(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return ac(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/yn.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),ME[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Uy(e)}static ftom(e){return ac(e)}}const AE={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},ME=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class bi extends In{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ln extends Or{constructor(){super();const e=ce(ln.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Me()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return hE(e),new In(this.context,e).toSeconds()}toFrequency(e){return new yn(this.context,e).toFrequency()}toTicks(e){return new bi(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{_n(e[r])&&delete n[r]}),n}get(){const e=SE(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];ge(r)&&ge(r.value)&&ge(r.setValueAtTime)?e[n]=r.value:r instanceof ln?e[n]=r._getPartialProperties(e[n]):$n(r)||cs(r)||hr(r)||Iy(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ge(this[n])&&(this[n]&&ge(this[n].value)&&ge(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof ln?this[n].set(e[n]):this[n]=e[n])}),this}}class zc extends xn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return us(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class Xe extends ln{constructor(){const e=ce(Xe.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,de(ge(e.param)&&(zs(e.param)||e.param instanceof Xe),"param must be an AudioParam");!zs(e.param);)e.param=e.param._param;this._swappable=ge(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new xn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ge(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ln.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ge(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ge(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ge(this.maxValue)&&ge(this.minValue)&&us(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?zy(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?By(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return de(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return de(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Hn(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return de(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);de(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),de(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return de(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));de(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Hn(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){de(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class pe extends ln{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ge(this.input)?zs(this.input)||this.input instanceof Xe?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ge(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ge(e)&&(e instanceof pe||os(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();de(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Qs(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return yf("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return qy(this,e,n,r),this}chain(...e){return lc(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ge(this.input)&&(this.input instanceof pe?this.input.dispose():os(this.input)&&this.input.disconnect()),ge(this.output)&&(this.output instanceof pe?this.output.dispose():os(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function lc(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof pe?n.connect(r):os(n)&&Qs(n,r),r),e)}function Qs(t,e,n=0,r=0){for(de(ge(t),"Cannot connect from undefined node"),de(ge(e),"Cannot connect to undefined node"),(e instanceof pe||os(e))&&de(e.numberOfInputs>0,"Cannot connect to node with no inputs"),de(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof pe||e instanceof Xe;)ge(e.input)&&(e=e.input);for(;t instanceof pe;)ge(t.output)&&(t=t.output);zs(e)?t.connect(e,n):t.connect(e,n,r)}function qy(t,e,n=0,r=0){if(ge(e))for(;e instanceof pe;)e=e.input;for(;!os(t);)ge(t.output)&&(t=t.output);zs(e)?t.disconnect(e,n):os(e)?t.disconnect(e,n,r):t.disconnect()}class xt extends pe{constructor(){const e=ce(xt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Xe({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),st(this,"gain")}static getDefaults(){return Object.assign(pe.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ji extends pe{constructor(e){super(e),this.onended=De,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new xt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(pe.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:De})}_startGain(e,n=1){de(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){de(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==De&&(this.onended(this),this.onended=De,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),de(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=De,this}}class Cf extends ji{constructor(){const e=ce(Cf.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Qs(this._source,this._gainNode),this.offset=new Xe({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ji.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class kt extends pe{constructor(){const e=ce(kt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Cf({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(pe.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return Bc(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Bc(t,e,n,r){(e instanceof Xe||zs(e)||e instanceof kt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof kt&&(e.overridden=!0)),Qs(t,e,n,r)}class bf extends Xe{constructor(){const e=ce(bf.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new xn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Xe.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,c=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,c=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(_n(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,c=(-s-a)/o;return(l>0?l:c)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Tf extends kt{constructor(){const e=ce(Tf.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new bf({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(kt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ef extends ln{constructor(){const e=ce(Ef.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new zc,this._tickOffset=new xn,this._ticksAtTime=new xn,this._secondsAtTime=new xn,this.frequency=new Tf({context:this.context,units:e.units,value:e.frequency}),st(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ln.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ge(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,a=s?s.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,c=>{let u=o.time;const d=this._tickOffset.get(c.time);d&&d.time>=o.time&&(a=d.ticks,u=d.time),o.state==="started"&&c.state!=="started"&&(a+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(u),c.time!==i.time&&(l={state:c.state,time:c.time,ticks:a})),o=c}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let c=i.time;const u=this._tickOffset.get(l.time);u&&u.time>=i.time&&(o=u.seconds,c=u.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-c,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),c=a-l;let u=Math.ceil(c)-c;u=Hn(u,1)?0:u;let d=this.frequency.getTimeOfTick(a+u);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(h){i=h;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class ka extends ln{constructor(){const e=ce(ka.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=De,this._lastUpdate=0,this._state=new zc("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Ef({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,st(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ln.getDefaults(),{callback:De,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Py(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ki.mixin(ka);class Ir extends pe{constructor(){const e=ce(Ir.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new xt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,st(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(pe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Nf extends pe{constructor(){const e=ce(Nf.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Ir({context:this.context}),this.output=new xt({context:this.context}),this.volume=this.input.volume,lc(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(pe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),lc(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Fc(t=>{t.destination=new Nf({context:t})});Lc(t=>{t.destination.dispose()});class RE extends pe{constructor(){super(...arguments),this.name="Listener",this.positionX=new Xe({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Xe({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Xe({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Xe({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Xe({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Xe({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Xe({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Xe({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Xe({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(pe.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Fc(t=>{t.listener=new RE({context:t})});Lc(t=>{t.listener.dispose()});function OE(t,e){return ut(this,arguments,void 0,function*(n,r,s=2,i=Me().sampleRate){const o=Me(),a=new Sa(s,r,i);oc(a),yield n(a);const l=a.render();oc(o);const c=yield l;return new Be(c)})}class Wc extends Or{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ce(Wc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:De,onload:De,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return de(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=De,s=De){return hr(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Be(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new Be(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Ns extends bi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class IE extends ln{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Fc(t=>{t.draw=new IE({context:t})});Lc(t=>{t.draw.dispose()});class Hy extends Or{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){de(ge(e.time),"Events must have a time property"),de(ge(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new PE(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class PE{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class $E extends Or{constructor(e){super(),this.name="TimelineValue",this._timeline=new xn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Fi extends pe{constructor(){super(ce(Fi.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return Bc(this,e,n,r),this}}class eo extends Fi{constructor(){const e=ce(eo.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,$n(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Oy(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(kt.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));de(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Uc extends Fi{constructor(){const e=ce(Uc.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new eo({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Fi.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ds{constructor(e,n){this.id=ds._eventId++,this._remainderTime=0;const r=Object.assign(ds.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:De,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ds._eventId=0;class Af extends ds{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Af.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ds.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return ic(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ns(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){ic(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ns(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Di(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class qc extends ln{constructor(){const e=ce(qc.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new $E(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xn,this._repeatedEvents=new Hy,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new ka({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),st(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ln.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Ns(this.context,this._swingTicks*2/3).toSeconds()*s}Pm(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Pm(!1)}schedule(e,n){const r=new ds(this,{callback:e,time:new bi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new Af(this,{callback:e,duration:new In(this.context,s).toTicks(),interval:new In(this.context,n).toTicks(),time:new bi(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new ds(this,{callback:e,once:!0,time:new bi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Ns(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return ge(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){$n(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new In(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new In(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ns(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Ns(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,c=new xt(l),u=new Uc(-1),d=new xt(l);s.chain(c,u,d),s=d,i=1/i,o=[c,u,d]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const a=new xt(n);return s.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ly(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ki.mixin(qc);Fc(t=>{t.transport=new qc({context:t})});Lc(t=>{t.transport.dispose()});class kn extends pe{constructor(e){super(e),this.input=void 0,this._state=new zc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=De,this._syncedStop=De,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ir({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,st(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(pe.getDefaults(),{mute:!1,onstop:De,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=_n(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")de(Di(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(Is(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else Py(this.context),this._start(s,n,r);return this}stop(e){let n=_n(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ge(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Di(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=De,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Ca extends ji{constructor(){const e=ce(Ca.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Qs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Xe({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Be(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ji.getDefaults(),{url:new Be,loop:!1,loopEnd:0,loopStart:0,onload:De,onerror:De,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){de(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=Is(n,this.loopStart):n=Is(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;Bd(o,a)&&(o=(o-l)%c+l),Hn(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ic(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),ge(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ks(t,e){return ut(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Sa(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Hc extends ji{constructor(){const e=ce(Hc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Qs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Xe({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Xe({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),st(this,["frequency","detune"])}static getDefaults(){return Object.assign(ji.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ct extends kn{constructor(){const e=ce(ct.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new kt({context:this.context,units:"frequency",value:e.frequency}),st(this,"frequency"),this.detune=new kt({context:this.context,units:"cents",value:e.detune}),st(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(kn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Hc({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ct._periodicWaveCache.find(n=>n.phase===this._phase&&xE(n.partials,this._partials));{const e=ct._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(ge(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ct._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),ct._periodicWaveCache.length>100&&ct._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){us(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const c=2/(l*Math.PI);let u;switch(e){case"sine":u=l<=a?1:0,this._partials[l-1]=u;break;case"square":u=l&1?2*c:0,this._partials[l-1]=u;break;case"sawtooth":u=c*(l&1?1:-1),this._partials[l-1]=u;break;case"triangle":l&1?u=2*(c*c)*(l-1>>1&1?-1:1):u=0,this._partials[l-1]=u;break;case"custom":u=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(i[l]=-u*Math.sin(n*l),o[l]=u*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return kE(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return ut(this,arguments,void 0,function*(e=1024){return Ks(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ct._periodicWaveCache=[];class Gy extends Fi{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new eo({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Bs extends kt{constructor(){const e=ce(Bs.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new xt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(kt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ba extends kn{constructor(){const e=ce(ba.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Gy({context:this.context}),this._modulationNode=new xt({context:this.context}),this._carrier=new ct({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ct({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Bs({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),st(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ct.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ut(this,arguments,void 0,function*(e=1024){return Ks(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ta extends kn{constructor(){const e=ce(Ta.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new xt({context:this.context,gain:0}),this._carrier=new ct({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new kt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ct({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Bs({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Bs({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),st(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ct.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ut(this,arguments,void 0,function*(e=1024){return Ks(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class to extends kn{constructor(){const e=ce(to.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new xt({context:this.context,gain:0}),this._thresh=new eo({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new kt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ct({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),st(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(kn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return ut(this,arguments,void 0,function*(e=1024){return Ks(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ea extends kn{constructor(){const e=ce(Ea.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new kt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new kt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,st(this,["frequency","detune"])}static getDefaults(){return Object.assign(ct.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(us(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new ct({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):De});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return ut(this,arguments,void 0,function*(e=1024){return Ks(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Na extends kn{constructor(){const e=ce(Na.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Bs({context:this.context,value:2}),this._pulse=new to({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ct({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),st(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(kn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return ut(this,arguments,void 0,function*(e=1024){return Ks(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Dm={am:ba,fat:Ea,fm:Ta,oscillator:ct,pulse:to,pwm:Na};class sa extends kn{constructor(){const e=ce(sa.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new kt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new kt({context:this.context,units:"cents",value:e.detune}),st(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ct.getDefaults(),Ta.getDefaults(),ba.getDefaults(),Ea.getDefaults(),to.getDefaults(),Na.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Dm[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Dm[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&cs(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&cs(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&hr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return ut(this,arguments,void 0,function*(e=1024){return Ks(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Zy(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){us(i,t,e),n.set(this,i)}})}}function Pr(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){us(this.toSeconds(i),t,e),n.set(this,i)}})}}class Ws extends kn{constructor(){const e=ce(Ws.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Be({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(kn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:De,onerror:De,playbackRate:1,reverse:!1})}load(e){return ut(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=De){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Is(n,this._loopStart):n=Is(n,0);const s=this.toSeconds(n),i=r;r=Is(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Ca({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&_n(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&us(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&us(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}tr([Pr(0)],Ws.prototype,"fadeIn",void 0);tr([Pr(0)],Ws.prototype,"fadeOut",void 0);class $r extends pe{constructor(){const e=ce($r.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new kt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(pe.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(hr(e))return e;{let r;for(r in tl)if(tl[r][n]===e)return r;return e}}_setCurve(e,n,r){if(hr(r)&&Reflect.has(tl,r)){const s=tl[r];is(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if($n(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(de($n(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return Bc(this,e,n,r),this}asArray(){return ut(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new Sa(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}tr([Pr(0)],$r.prototype,"attack",void 0);tr([Pr(0)],$r.prototype,"decay",void 0);tr([Zy(0,1)],$r.prototype,"sustain",void 0);tr([Pr(0)],$r.prototype,"release",void 0);const tl=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const h=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=h/10+n*.83}s[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<128;e++){n=e/127;const h=Math.pow(n,3)*4+.2,p=Math.cos(h*Math.PI*2*n);c[e]=Math.abs(p*(1-n))}function u(h){const p=new Array(h.length);for(let m=0;m<h.length;m++)p[m]=1-h[m];return p}function d(h){return h.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:u(s)},sine:{In:l,Out:u(l)},step:{In:o,Out:u(o)}}})();class Li extends pe{constructor(){const e=ce(Li.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Ir({context:this.context,volume:e.volume}),this.volume=this._volume.volume,st(this,"volume")}static getDefaults(){return Object.assign(pe.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Vi extends Li{constructor(){const e=ce(Vi.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Li.getDefaults(),{detune:0,onsilence:De,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof yn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}tr([Pr(0)],Vi.prototype,"portamento",void 0);class Gc extends $r{constructor(){super(ce(Gc.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new xt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ia extends Vi{constructor(){const e=ce(ia.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new sa(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Gc(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),st(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Vi.getDefaults(),{envelope:Object.assign($m($r.getDefaults(),Object.keys(pe.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign($m(sa.getDefaults(),[...Object.keys(kn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Aa extends ia{constructor(){const e=ce(Aa.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,st(this,["oscillator","envelope"])}static getDefaults(){return Ci(Vi.getDefaults(),ia.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof yn?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}tr([Zy(0)],Aa.prototype,"octaves",void 0);tr([Pr(0)],Aa.prototype,"pitchDecay",void 0);const Xy=new Set;function Mf(t){Xy.add(t)}function Yy(t,e){const n=`registerProcessor("${t}", ${e})`;Xy.add(n)}const DE=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Mf(DE);const jE=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Mf(jE);const FE=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Mf(FE);const LE="feedback-comb-filter",VE=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Yy(LE,VE);class Ma extends Li{constructor(){const e=ce(Ma.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(de(_o(r)||cs(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),_o(r)){const i=new yn(this.context,r).toMidi();n[i]=e.urls[r]}else cs(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new Wc({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Li.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:De,onerror:De,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=Wy(new yn(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),c=o-l,u=this._buffers.get(c),d=Sf(l+a),h=new Ca({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);h.start(n,0,u.duration/d,r),$n(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const p=this._activeSources.get(o),m=p.indexOf(h);m!==-1&&p.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new yn(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),$n(n)?(de($n(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(de(_o(e)||isFinite(e),`note must be a pitch or midi: ${e}`),_o(e)){const s=new yn(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}tr([Pr(0)],Ma.prototype,"attack",void 0);tr([Pr(0)],Ma.prototype,"release",void 0);class Ra extends pe{constructor(){const e=ce(Ra.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Xe({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",st(this,"pan")}static getDefaults(){return Object.assign(pe.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const zE="bit-crusher",BE=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Yy(zE,BE);class at extends pe{constructor(){const e=ce(at.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new xt({context:this.context}),at._allSolos.has(this.context)||at._allSolos.set(this.context,new Set),at._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(pe.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),at._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){at._soloed.has(this.context)||at._soloed.set(this.context,new Set),at._soloed.get(this.context).add(this)}_removeSolo(){at._soloed.has(this.context)&&at._soloed.get(this.context).delete(this)}_isSoloed(){return at._soloed.has(this.context)&&at._soloed.get(this.context).has(this)}_noSolos(){return!at._soloed.has(this.context)||at._soloed.has(this.context)&&at._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),at._allSolos.get(this.context).delete(this),this._removeSolo(),this}}at._allSolos=new Map;at._soloed=new Map;class Zc extends pe{constructor(){const e=ce(Zc.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Ra({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ir({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,st(this,["pan","volume"])}static getDefaults(){return Object.assign(pe.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class As extends pe{constructor(){const e=ce(As.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new at({solo:e.solo,context:this.context}),this._panVol=this.output=new Zc({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),st(this,["pan","volume"])}static getDefaults(){return Object.assign(pe.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return As.buses.has(e)||As.buses.set(e,new xt({context:this.context})),As.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new xt({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}As.buses=new Map;function Oo(){return Me().now()}Me().transport;function ks(){return Me().transport}Me().destination;Me().destination;function Rf(){return Me().destination}Me().listener;Me().draw;Me();const WE=Object.freeze(Object.defineProperty({__proto__:null,AMOscillator:ba,AmplitudeEnvelope:Gc,AudioToGain:Gy,BaseContext:_f,Channel:As,Clock:ka,Context:Ji,Emitter:Ki,Envelope:$r,FMOscillator:Ta,FatOscillator:Ea,FrequencyClass:yn,Gain:xt,IntervalTimeline:Hy,MembraneSynth:Aa,Multiply:Bs,Offline:OE,OfflineContext:Sa,OmniOscillator:sa,Oscillator:ct,PWMOscillator:Na,PanVol:Zc,Panner:Ra,Param:Xe,Player:Ws,Pow:Uc,PulseOscillator:to,Sampler:Ma,Signal:kt,Solo:at,StateTimeline:zc,Synth:ia,TicksClass:Ns,TimeClass:In,Timeline:xn,ToneAudioBuffer:Be,ToneAudioBuffers:Wc,ToneAudioNode:pe,ToneBufferSource:Ca,ToneOscillatorNode:Hc,TransportTimeClass:bi,Volume:Ir,WaveShaper:eo,connect:Qs,connectSeries:lc,connectSignal:Bc,dbToGain:zy,defaultArg:Is,disconnect:qy,ftom:ac,gainToDb:By,getContext:Me,getDestination:Rf,getTransport:ks,intervalToFrequencyRatio:Sf,isArray:$n,isBoolean:Iy,isDefined:ge,isFunction:Oy,isNote:_o,isNumber:cs,isObject:is,isString:hr,isUndef:_n,mtof:Uy,now:Oo,optionsFromArguments:ce,setContext:oc,start:xf,version:Kh},Symbol.toStringTag,{value:"Module"}));var He="-ms-",Io="-moz-",Te="-webkit-",Qy="comm",Xc="rule",Of="decl",UE="@import",qE="@namespace",Ky="@keyframes",HE="@layer",Jy=Math.abs,If=String.fromCharCode,Wd=Object.assign;function GE(t,e){return wt(t,0)^45?(((e<<2^wt(t,0))<<2^wt(t,1))<<2^wt(t,2))<<2^wt(t,3):0}function e1(t){return t.trim()}function wr(t,e){return(t=e.exec(t))?t[0]:t}function ue(t,e,n){return t.replace(e,n)}function vl(t,e,n){return t.indexOf(e,n)}function wt(t,e){return t.charCodeAt(e)|0}function Us(t,e,n){return t.slice(e,n)}function Un(t){return t.length}function t1(t){return t.length}function xo(t,e){return e.push(t),t}function ZE(t,e){return t.map(e).join("")}function jm(t,e){return t.filter(function(n){return!wr(n,e)})}var Yc=1,zi=1,n1=0,Fn=0,pt=0,no="";function Qc(t,e,n,r,s,i,o,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Yc,column:zi,length:o,return:"",siblings:a}}function zr(t,e){return Wd(Qc("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ei(t){for(;t.root;)t=zr(t.root,{children:[t]});xo(t,t.siblings)}function XE(){return pt}function YE(){return pt=Fn>0?wt(no,--Fn):0,zi--,pt===10&&(zi=1,Yc--),pt}function Xn(){return pt=Fn<n1?wt(no,Fn++):0,zi++,pt===10&&(zi=1,Yc++),pt}function Yr(){return wt(no,Fn)}function yl(){return Fn}function Kc(t,e){return Us(no,t,e)}function oa(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QE(t){return Yc=zi=1,n1=Un(no=t),Fn=0,[]}function KE(t){return no="",t}function Ou(t){return e1(Kc(Fn-1,Ud(t===91?t+2:t===40?t+1:t)))}function JE(t){for(;(pt=Yr())&&pt<33;)Xn();return oa(t)>2||oa(pt)>3?"":" "}function e2(t,e){for(;--e&&Xn()&&!(pt<48||pt>102||pt>57&&pt<65||pt>70&&pt<97););return Kc(t,yl()+(e<6&&Yr()==32&&Xn()==32))}function Ud(t){for(;Xn();)switch(pt){case t:return Fn;case 34:case 39:t!==34&&t!==39&&Ud(pt);break;case 40:t===41&&Ud(t);break;case 92:Xn();break}return Fn}function t2(t,e){for(;Xn()&&t+pt!==57;)if(t+pt===84&&Yr()===47)break;return"/*"+Kc(e,Fn-1)+"*"+If(t===47?t:Xn())}function n2(t){for(;!oa(Yr());)Xn();return Kc(t,Fn)}function r2(t){return KE(wl("",null,null,null,[""],t=QE(t),0,[0],t))}function wl(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,g=1,C=1,f=1,v=0,y="",x=s,w=i,S=r,k=y;C;)switch(m=v,v=Xn()){case 40:if(m!=108&&wt(k,d-1)==58){vl(k+=ue(Ou(v),"&","&\f"),"&\f",Jy(c?a[c-1]:0))!=-1&&(f=-1);break}case 34:case 39:case 91:k+=Ou(v);break;case 9:case 10:case 13:case 32:k+=JE(m);break;case 92:k+=e2(yl()-1,7);continue;case 47:switch(Yr()){case 42:case 47:xo(s2(t2(Xn(),yl()),e,n,l),l),(oa(m||1)==5||oa(Yr()||1)==5)&&Un(k)&&Us(k,-1,void 0)!==" "&&(k+=" ");break;default:k+="/"}break;case 123*g:a[c++]=Un(k)*f;case 125*g:case 59:case 0:switch(v){case 0:case 125:C=0;case 59+u:f==-1&&(k=ue(k,/\f/g,"")),p>0&&(Un(k)-d||g===0&&m===47)&&xo(p>32?Lm(k+";",r,n,d-1,l):Lm(ue(k," ","")+";",r,n,d-2,l),l);break;case 59:k+=";";default:if(xo(S=Fm(k,e,n,c,u,s,a,y,x=[],w=[],d,i),i),v===123)if(u===0)wl(k,e,S,S,x,i,d,a,w);else{switch(h){case 99:if(wt(k,3)===110)break;case 108:if(wt(k,2)===97)break;default:u=0;case 100:case 109:case 115:}u?wl(t,S,S,r&&xo(Fm(t,S,S,0,0,s,a,y,s,x=[],d,w),w),s,w,d,a,r?x:w):wl(k,S,S,S,[""],w,0,a,w)}}c=u=p=0,g=f=1,y=k="",d=o;break;case 58:d=1+Un(k),p=m;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&YE()==125)continue}switch(k+=If(v),v*g){case 38:f=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(Un(k)-1)*f,f=1;break;case 64:Yr()===45&&(k+=Ou(Xn())),h=Yr(),u=d=Un(y=k+=n2(yl())),v++;break;case 45:m===45&&Un(k)==2&&(g=0)}}return i}function Fm(t,e,n,r,s,i,o,a,l,c,u,d){for(var h=s-1,p=s===0?i:[""],m=t1(p),g=0,C=0,f=0;g<r;++g)for(var v=0,y=Us(t,h+1,h=Jy(C=o[g])),x=t;v<m;++v)(x=e1(C>0?p[v]+" "+y:ue(y,/&\f/g,p[v])))&&(l[f++]=x);return Qc(t,e,n,s===0?Xc:a,l,c,u,d)}function s2(t,e,n,r){return Qc(t,e,n,Qy,If(XE()),Us(t,2,-2),0,r)}function Lm(t,e,n,r,s){return Qc(t,e,n,Of,Us(t,0,r),Us(t,r+1,-1),r,s)}function r1(t,e,n){switch(GE(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Te+t+t;case 4855:return Te+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return Io+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Io+t+He+t+t;case 5936:switch(wt(t,e+11)){case 114:return Te+t+He+ue(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+He+ue(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+He+ue(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Te+t+He+t+t;case 6165:return Te+t+He+"flex-"+t+t;case 5187:return Te+t+ue(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+He+"flex-$1$2")+t;case 5443:return Te+t+He+"flex-item-"+ue(t,/flex-|-self/g,"")+(wr(t,/flex-|baseline/)?"":He+"grid-row-"+ue(t,/flex-|-self/g,""))+t;case 4675:return Te+t+He+"flex-line-pack"+ue(t,/align-content|flex-|-self/g,"")+t;case 5548:return Te+t+He+ue(t,"shrink","negative")+t;case 5292:return Te+t+He+ue(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+ue(t,"-grow","")+Te+t+He+ue(t,"grow","positive")+t;case 4554:return Te+ue(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return ue(ue(ue(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return ue(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return ue(ue(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+He+"flex-pack:$3"),/space-between/,"justify")+Te+t+t;case 4200:if(!wr(t,/flex-|baseline/))return He+"grid-column-align"+Us(t,e)+t;break;case 2592:case 3360:return He+ue(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,wr(r.props,/grid-\w+-end/)})?~vl(t+(n=n[e].value),"span",0)?t:He+ue(t,"-start","")+t+He+"grid-row-span:"+(~vl(n,"span",0)?wr(n,/\d+/):+wr(n,/\d+/)-+wr(t,/\d+/))+";":He+ue(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return wr(r.props,/grid-\w+-start/)})?t:He+ue(ue(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ue(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Un(t)-1-e>6)switch(wt(t,e+1)){case 109:if(wt(t,e+4)!==45)break;case 102:return ue(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Io+(wt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vl(t,"stretch",0)?r1(ue(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ue(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,i,o,a,l,c){return He+s+":"+i+c+(o?He+s+"-span:"+(a?l:+l-+i)+c:"")+t});case 4949:if(wt(t,e+6)===121)return ue(t,":",":"+Te)+t;break;case 6444:switch(wt(t,wt(t,14)===45?18:11)){case 120:return ue(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Te+(wt(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+He+"$2box$3")+t;case 100:return ue(t,":",":"+He)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ue(t,"scroll-","scroll-snap-")+t}return t}function cc(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function i2(t,e,n,r){switch(t.type){case HE:if(t.children.length)break;case UE:case qE:case Of:return t.return=t.return||t.value;case Qy:return"";case Ky:return t.return=t.value+"{"+cc(t.children,r)+"}";case Xc:if(!Un(t.value=t.props.join(",")))return""}return Un(n=cc(t.children,r))?t.return=t.value+"{"+n+"}":""}function o2(t){var e=t1(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function a2(t){return function(e){e.root||(e=e.return)&&t(e)}}function l2(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Of:t.return=r1(t.value,t.length,n);return;case Ky:return cc([zr(t,{value:ue(t.value,"@","@"+Te)})],r);case Xc:if(t.length)return ZE(n=t.props,function(s){switch(wr(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ei(zr(t,{props:[ue(s,/:(read-\w+)/,":"+Io+"$1")]})),ei(zr(t,{props:[s]})),Wd(t,{props:jm(n,r)});break;case"::placeholder":ei(zr(t,{props:[ue(s,/:(plac\w+)/,":"+Te+"input-$1")]})),ei(zr(t,{props:[ue(s,/:(plac\w+)/,":"+Io+"$1")]})),ei(zr(t,{props:[ue(s,/:(plac\w+)/,He+"input-$1")]})),ei(zr(t,{props:[s]})),Wd(t,{props:jm(n,r)});break}return""})}}var c2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pn={},Bi=typeof process<"u"&&pn!==void 0&&(pn.REACT_APP_SC_ATTR||pn.SC_ATTR)||"data-styled",s1="active",i1="data-styled-version",Jc="6.3.8",Pf=`/*!sc*/
`,uc=typeof window<"u"&&typeof document<"u",Ar=he.createContext===void 0,u2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&pn!==void 0&&pn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&pn.REACT_APP_SC_DISABLE_SPEEDY!==""?pn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&pn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&pn!==void 0&&pn.SC_DISABLE_SPEEDY!==void 0&&pn.SC_DISABLE_SPEEDY!==""&&pn.SC_DISABLE_SPEEDY!=="false"&&pn.SC_DISABLE_SPEEDY),eu=Object.freeze([]),Wi=Object.freeze({});function o1(t,e,n){return n===void 0&&(n=Wi),t.theme!==n.theme&&t.theme||e||n.theme}var a1=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),d2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,h2=/(^-|-$)/g;function Vm(t){return t.replace(d2,"-").replace(h2,"")}var f2=/(a)(d)/gi,zm=function(t){return String.fromCharCode(t+(t>25?39:97))};function qd(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=zm(e%52)+n;return(zm(e%52)+n).replace(f2,"$1-$2")}var Iu,gi=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},l1=function(t){return gi(5381,t)};function p2(t){return qd(l1(t)>>>0)}function c1(t){return t.displayName||t.name||"Component"}function Pu(t){return typeof t=="string"&&!0}var u1=typeof Symbol=="function"&&Symbol.for,d1=u1?Symbol.for("react.memo"):60115,m2=u1?Symbol.for("react.forward_ref"):60112,g2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},v2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},y2=((Iu={})[m2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Iu[d1]=h1,Iu);function Bm(t){return("type"in(e=t)&&e.type.$$typeof)===d1?h1:"$$typeof"in t?y2[t.$$typeof]:g2;var e}var w2=Object.defineProperty,_2=Object.getOwnPropertyNames,Wm=Object.getOwnPropertySymbols,x2=Object.getOwnPropertyDescriptor,S2=Object.getPrototypeOf,Um=Object.prototype;function $f(t,e,n){if(typeof e!="string"){if(Um){var r=S2(e);r&&r!==Um&&$f(t,r,n)}var s=_2(e);Wm&&(s=s.concat(Wm(e)));for(var i=Bm(t),o=Bm(e),a=0;a<s.length;++a){var l=s[a];if(!(l in v2||n&&n[l]||o&&l in o||i&&l in i)){var c=x2(e,l);try{w2(t,l,c)}catch{}}}}return t}function qs(t){return typeof t=="function"}function Df(t){return typeof t=="object"&&"styledComponentId"in t}function Ms(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function qm(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function aa(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Hd(t,e,n){if(n===void 0&&(n=!1),!n&&!aa(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Hd(t[r],e[r]);else if(aa(e))for(var r in e)t[r]=Hd(t[r],e[r]);return t}function jf(t,e){Object.defineProperty(t,"toString",{value:e})}function hs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var k2=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,i=s;e>=i;)if((i<<=1)<0)throw hs(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=s;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var i=r;i<s;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),i=s+r,o=s;o<i;o++)n+="".concat(this.tag.getRule(o)).concat(Pf);return n},t}(),_l=new Map,dc=new Map,xl=1,So=function(t){if(_l.has(t))return _l.get(t);for(;dc.has(xl);)xl++;var e=xl++;return _l.set(t,e),dc.set(e,t),e},C2=function(t,e){xl=e+1,_l.set(t,e),dc.set(e,t)},b2="style[".concat(Bi,"][").concat(i1,'="').concat(Jc,'"]'),T2=new RegExp("^".concat(Bi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),E2=function(t,e,n){for(var r,s=n.split(","),i=0,o=s.length;i<o;i++)(r=s[i])&&t.registerName(e,r)},N2=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Pf),s=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var l=a.match(T2);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(C2(u,c),E2(t,u,l[3]),t.getTag().insertRules(c,s)),s.length=0}else s.push(a)}}},Hm=function(t){for(var e=document.querySelectorAll(b2),n=0,r=e.length;n<r;n++){var s=e[n];s&&s.getAttribute(Bi)!==s1&&(N2(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function A2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var f1=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Bi,"]")));return l[l.length-1]}(n),i=s!==void 0?s.nextSibling:null;r.setAttribute(Bi,s1),r.setAttribute(i1,Jc);var o=A2();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},M2=function(){function t(e){this.element=f1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,i=r.length;s<i;s++){var o=r[s];if(o.ownerNode===n)return o}throw hs(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),R2=function(){function t(e){this.element=f1(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),O2=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Gm=uc,I2={isServer:!uc,useCSSOMInjection:!u2},p1=function(){function t(e,n,r){e===void 0&&(e=Wi),n===void 0&&(n={});var s=this;this.options=Nt(Nt({},I2),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&uc&&Gm&&(Gm=!1,Hm(this)),jf(this,function(){return function(i){for(var o=i.getTag(),a=o.length,l="",c=function(d){var h=function(f){return dc.get(f)}(d);if(h===void 0)return"continue";var p=i.names.get(h),m=o.getGroup(d);if(p===void 0||!p.size||m.length===0)return"continue";var g="".concat(Bi,".g").concat(d,'[id="').concat(h,'"]'),C="";p!==void 0&&p.forEach(function(f){f.length>0&&(C+="".concat(f,","))}),l+="".concat(m).concat(g,'{content:"').concat(C,'"}').concat(Pf)},u=0;u<a;u++)c(u);return l}(s)})}return t.registerId=function(e){return So(e)},t.prototype.rehydrate=function(){!this.server&&uc&&Hm(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Nt(Nt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new O2(s):r?new M2(s):new R2(s)}(this.options),new k2(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(So(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(So(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(So(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),P2=/&/g,vi=47;function Zm(t){if(t.indexOf("}")===-1)return!1;for(var e=t.length,n=0,r=0,s=!1,i=0;i<e;i++){var o=t.charCodeAt(i);if(r!==0||s||o!==vi||t.charCodeAt(i+1)!==42)if(s)o===42&&t.charCodeAt(i+1)===vi&&(s=!1,i++);else if(o!==34&&o!==39||i!==0&&t.charCodeAt(i-1)===92){if(r===0){if(o===123)n++;else if(o===125&&--n<0)return!0}}else r===0?r=o:r===o&&(r=0);else s=!0,i++}return n!==0||r!==0}function m1(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=m1(n.children,e)),n})}function $2(t){var e,n,r,s=Wi,i=s.options,o=i===void 0?Wi:i,a=s.plugins,l=a===void 0?eu:a,c=function(h,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===Xc&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(P2,n).replace(r,c))}),o.prefix&&u.push(l2),u.push(i2);var d=function(h,p,m,g){p===void 0&&(p=""),m===void 0&&(m=""),g===void 0&&(g="&"),e=g,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var C=function(y){if(!Zm(y))return y;for(var x=y.length,w="",S=0,k=0,b=0,N=!1,E=0;E<x;E++){var A=y.charCodeAt(E);if(b!==0||N||A!==vi||y.charCodeAt(E+1)!==42)if(N)A===42&&y.charCodeAt(E+1)===vi&&(N=!1,E++);else if(A!==34&&A!==39||E!==0&&y.charCodeAt(E-1)===92){if(b===0)if(A===123)k++;else if(A===125){if(--k<0){for(var M=E+1;M<x;){var j=y.charCodeAt(M);if(j===59||j===10)break;M++}M<x&&y.charCodeAt(M)===59&&M++,k=0,E=M-1,S=M;continue}k===0&&(w+=y.substring(S,E+1),S=E+1)}else A===59&&k===0&&(w+=y.substring(S,E+1),S=E+1)}else b===0?b=A:b===A&&(b=0);else N=!0,E++}if(S<x){var D=y.substring(S);Zm(D)||(w+=D)}return w}(function(y){if(y.indexOf("//")===-1)return y;for(var x=y.length,w=[],S=0,k=0,b=0,N=0;k<x;){var E=y.charCodeAt(k);if(E!==34&&E!==39||k!==0&&y.charCodeAt(k-1)===92)if(b===0)if(E===40&&k>=3&&(32|y.charCodeAt(k-1))==108&&(32|y.charCodeAt(k-2))==114&&(32|y.charCodeAt(k-3))==117)N=1,k++;else if(N>0)E===41?N--:E===40&&N++,k++;else if(E===vi&&k+1<x&&y.charCodeAt(k+1)===vi){for(k>S&&w.push(y.substring(S,k));k<x&&y.charCodeAt(k)!==10;)k++;S=k}else k++;else k++;else b===0?b=E:b===E&&(b=0),k++}return S===0?y:(S<x&&w.push(y.substring(S)),w.join(""))}(h)),f=r2(m||p?"".concat(m," ").concat(p," { ").concat(C," }"):C);o.namespace&&(f=m1(f,o.namespace));var v=[];return cc(f,o2(u.concat(a2(function(y){return v.push(y)})))),v};return d.hash=l.length?l.reduce(function(h,p){return p.name||hs(15),gi(h,p.name)},5381).toString():"",d}var D2=new p1,Gd=$2(),Zd={shouldForwardProp:void 0,styleSheet:D2,stylis:Gd},g1=Ar?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(Zd)}}:he.createContext(Zd);g1.Consumer;Ar||he.createContext(void 0);function Xm(){return Ar?Zd:he.useContext(g1)}var j2=function(){function t(e,n){var r=this;this.inject=function(s,i){i===void 0&&(i=Gd);var o=r.name+i.hash;s.hasNameForId(r.id,o)||s.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,jf(this,function(){throw hs(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Gd),this.name+e.hash},t}();function F2(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in c2||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var L2=function(t){return t>="A"&&t<="Z"};function Ym(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;L2(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var v1=function(t){return t==null||t===!1||t===""},y1=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!v1(r)&&(Array.isArray(r)&&r.isCss||qs(r)?e.push("".concat(Ym(n),":"),r,";"):aa(r)?e.push.apply(e,sc(sc(["".concat(n," {")],y1(r),!1),["}"],!1)):e.push("".concat(Ym(n),": ").concat(F2(n,r),";")))}return e};function Ps(t,e,n,r){if(v1(t))return[];if(Df(t))return[".".concat(t.styledComponentId)];if(qs(t)){if(!qs(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var s=t(e);return Ps(s,e,n,r)}var i;return t instanceof j2?n?(t.inject(n,r),[t.getName(r)]):[t]:aa(t)?y1(t):Array.isArray(t)?Array.prototype.concat.apply(eu,t.map(function(o){return Ps(o,e,n,r)})):[t.toString()]}function V2(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(qs(n)&&!Df(n))return!1}return!0}var z2=l1(Jc),B2=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&V2(e),this.componentId=n,this.baseHash=gi(z2,n),this.baseStyle=r,p1.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=Ms(s,this.staticRulesId);else{var i=qm(Ps(this.rules,e,n,r)),o=qd(gi(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(i,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}s=Ms(s,o),this.staticRulesId=o}else{for(var l=gi(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=qm(Ps(d,e,n,r));l=gi(l,h+u),c+=h}}if(c){var p=qd(l>>>0);if(!n.hasNameForId(this.componentId,p)){var m=r(c,".".concat(p),void 0,this.componentId);n.insertRules(this.componentId,p,m)}s=Ms(s,p)}}return{className:s,css:typeof window>"u"?n.getTag().getGroup(So(this.componentId)):""}},t}(),Hs=Ar?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(void 0)}}:he.createContext(void 0);Hs.Consumer;function W2(){var t=Ar?void 0:he.useContext(Hs);if(!t)throw hs(18);return t}function U2(t){if(Ar)return t.children;var e=he.useContext(Hs),n=he.useMemo(function(){return function(r,s){if(!r)throw hs(14);if(qs(r)){var i=r(s);return i}if(Array.isArray(r)||typeof r!="object")throw hs(8);return s?Nt(Nt({},s),r):r}(t.theme,e)},[t.theme,e]);return t.children?he.createElement(Hs.Provider,{value:n},t.children):null}var $u={};function q2(t,e,n){var r=Df(t),s=t,i=!Pu(t),o=e.attrs,a=o===void 0?eu:o,l=e.componentId,c=l===void 0?function(x,w){var S=typeof x!="string"?"sc":Vm(x);$u[S]=($u[S]||0)+1;var k="".concat(S,"-").concat(p2(Jc+S+$u[S]));return w?"".concat(w,"-").concat(k):k}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(x){return Pu(x)?"styled.".concat(x):"Styled(".concat(c1(x),")")}(t):u,h=e.displayName&&e.componentId?"".concat(Vm(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&s.attrs?s.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&s.shouldForwardProp){var g=s.shouldForwardProp;if(e.shouldForwardProp){var C=e.shouldForwardProp;m=function(x,w){return g(x,w)&&C(x,w)}}else m=g}var f=new B2(n,h,r?s.componentStyle:void 0);function v(x,w){return function(S,k,b){var N=S.attrs,E=S.componentStyle,A=S.defaultProps,M=S.foldedComponentIds,j=S.styledComponentId,D=S.target,P=Ar?void 0:he.useContext(Hs),$=Xm(),F=S.shouldForwardProp||$.shouldForwardProp,R=o1(k,P,A)||Wi,O=function(H,Re,Ee){for(var Le,Ne=Nt(Nt({},Re),{className:void 0,theme:Ee}),Se=0;Se<H.length;Se+=1){var ye=qs(Le=H[Se])?Le(Ne):Le;for(var W in ye)W==="className"?Ne.className=Ms(Ne.className,ye[W]):W==="style"?Ne.style=Nt(Nt({},Ne.style),ye[W]):Ne[W]=ye[W]}return"className"in Re&&typeof Re.className=="string"&&(Ne.className=Ms(Ne.className,Re.className)),Ne}(N,k,R),I=O.as||D,V={};for(var B in O)O[B]===void 0||B[0]==="$"||B==="as"||B==="theme"&&O.theme===R||(B==="forwardedAs"?V.as=O.forwardedAs:F&&!F(B,I)||(V[B]=O[B]));var J=function(H,Re){var Ee=Xm(),Le=H.generateAndInjectStyles(Re,Ee.styleSheet,Ee.stylis);return Le}(E,O),te=J.className,Z=J.css,Q=Ms(M,j);te&&(Q+=" "+te),O.className&&(Q+=" "+O.className),V[Pu(I)&&!a1.has(I)?"class":"className"]=Q,b&&(V.ref=b);var xe=T.createElement(I,V);return Ar&&Z?he.createElement(he.Fragment,null,he.createElement("style",{precedence:"styled-components",href:"sc-".concat(j,"-").concat(te),children:Z}),xe):xe}(y,x,w)}v.displayName=d;var y=he.forwardRef(v);return y.attrs=p,y.componentStyle=f,y.displayName=d,y.shouldForwardProp=m,y.foldedComponentIds=r?Ms(s.foldedComponentIds,s.styledComponentId):"",y.styledComponentId=h,y.target=r?s.target:t,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(w){for(var S=[],k=1;k<arguments.length;k++)S[k-1]=arguments[k];for(var b=0,N=S;b<N.length;b++)Hd(w,N[b],!0);return w}({},s.defaultProps,x):x}}),jf(y,function(){return".".concat(y.styledComponentId)}),i&&$f(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function Qm(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var Km=function(t){return Object.assign(t,{isCss:!0})};function H2(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qs(t)||aa(t))return Km(Ps(Qm(eu,sc([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ps(r):Km(Ps(Qm(r,e)))}function Xd(t,e,n){if(n===void 0&&(n=Wi),!e)throw hs(1,e);var r=function(s){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,H2.apply(void 0,sc([s],i,!1)))};return r.attrs=function(s){return Xd(t,e,Nt(Nt({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return Xd(t,e,Nt(Nt({},n),s))},r}var w1=function(t){return Xd(q2,t)},L=w1;a1.forEach(function(t){L[t]=w1(t)});function _1(t){var e=he.forwardRef(function(n,r){var s=o1(n,Ar?void 0:he.useContext(Hs),t.defaultProps);return he.createElement(t,Nt(Nt({},n),{theme:s,ref:r}))});return e.displayName="WithTheme(".concat(c1(t),")"),$f(e,t)}const tu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ro(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Ff(t){return"nodeType"in t}function un(t){var e,n;return t?ro(t)?t:Ff(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Lf(t){const{Document:e}=un(t);return t instanceof e}function Oa(t){return ro(t)?!1:t instanceof un(t).HTMLElement}function x1(t){return t instanceof un(t).SVGElement}function so(t){return t?ro(t)?t.document:Ff(t)?Lf(t)?t:Oa(t)||x1(t)?t.ownerDocument:document:document:document}const fs=tu?T.useLayoutEffect:T.useEffect;function Vf(t){const e=T.useRef(t);return fs(()=>{e.current=t}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function G2(){const t=T.useRef(null),e=T.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=T.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function zf(t,e){e===void 0&&(e=[t]);const n=T.useRef(t);return fs(()=>{n.current!==t&&(n.current=t)},e),n}function Ia(t,e){const n=T.useRef();return T.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Yd(t){const e=Vf(t),n=T.useRef(null),r=T.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function Qd(t){const e=T.useRef();return T.useEffect(()=>{e.current=t},[t]),e.current}let Du={};function Bf(t,e){return T.useMemo(()=>{if(e)return e;const n=Du[t]==null?0:Du[t]+1;return Du[t]=n,t+"-"+n},[t,e])}function S1(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+t*c)}return i},{...e})}}const Ti=S1(1),hc=S1(-1);function Z2(t){return"clientX"in t&&"clientY"in t}function k1(t){if(!t)return!1;const{KeyboardEvent:e}=un(t.target);return e&&t instanceof e}function X2(t){if(!t)return!1;const{TouchEvent:e}=un(t.target);return e&&t instanceof e}function Kd(t){if(X2(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Z2(t)?{x:t.clientX,y:t.clientY}:null}const Jm="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Y2(t){return t.matches(Jm)?t:t.querySelector(Jm)}const Q2={display:"none"};function K2(t){let{id:e,value:n}=t;return he.createElement("div",{id:e,style:Q2},n)}function J2(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return he.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function eN(){const[t,e]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const C1=T.createContext(null);function tN(t){const e=T.useContext(C1);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function nN(){const[t]=T.useState(()=>new Set),e=T.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[T.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const rN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},sN={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function iN(t){let{announcements:e=sN,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=rN}=t;const{announce:i,announcement:o}=eN(),a=Bf("DndLiveRegion"),[l,c]=T.useState(!1);if(T.useEffect(()=>{c(!0)},[]),tN(T.useMemo(()=>({onDragStart(d){let{active:h}=d;i(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:p}=d;e.onDragMove&&i(e.onDragMove({active:h,over:p}))},onDragOver(d){let{active:h,over:p}=d;i(e.onDragOver({active:h,over:p}))},onDragEnd(d){let{active:h,over:p}=d;i(e.onDragEnd({active:h,over:p}))},onDragCancel(d){let{active:h,over:p}=d;i(e.onDragCancel({active:h,over:p}))}}),[i,e])),!l)return null;const u=he.createElement(he.Fragment,null,he.createElement(K2,{id:r,value:s.draggable}),he.createElement(J2,{id:a,announcement:o}));return n?pi.createPortal(u,n):u}var Vt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Vt||(Vt={}));function fc(){}function ju(t,e){return T.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function oN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Kn=Object.freeze({x:0,y:0});function aN(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function lN(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function cN(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,c=t.width*t.height,u=o*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const uN=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=cN(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(aN)};function dN(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function b1(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Kn}function hN(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const fN=hN(1);function pN(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function mN(t,e,n){const r=pN(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),c=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=s?t.width/s:t.width,d=i?t.height/i:t.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const gN={ignoreTransform:!1};function Pa(t,e){e===void 0&&(e=gN);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=un(t).getComputedStyle(t);c&&(n=mN(n,c,u))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function eg(t){return Pa(t,{ignoreTransform:!0})}function vN(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function yN(t,e){return e===void 0&&(e=un(t).getComputedStyle(t)),e.position==="fixed"}function wN(t,e){e===void 0&&(e=un(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function Wf(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Lf(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Oa(s)||x1(s)||n.includes(s))return n;const i=un(t).getComputedStyle(s);return s!==t&&wN(s,i)&&n.push(s),yN(s,i)?n:r(s.parentNode)}return t?r(t):n}function T1(t){const[e]=Wf(t,1);return e??null}function Fu(t){return!tu||!t?null:ro(t)?t:Ff(t)?Lf(t)||t===so(t).scrollingElement?window:Oa(t)?t:null:null}function E1(t){return ro(t)?t.scrollX:t.scrollLeft}function N1(t){return ro(t)?t.scrollY:t.scrollTop}function Jd(t){return{x:E1(t),y:N1(t)}}var Et;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Et||(Et={}));function A1(t){return!tu||!t?!1:t===document.scrollingElement}function M1(t){const e={x:0,y:0},n=A1(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const _N={x:.2,y:.2};function xN(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=_N);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=M1(t),p={x:0,y:0},m={x:0,y:0},g={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+g.height?(p.y=Et.Backward,m.y=r*Math.abs((e.top+g.height-i)/g.height)):!u&&l>=e.bottom-g.height&&(p.y=Et.Forward,m.y=r*Math.abs((e.bottom-g.height-l)/g.height)),!h&&a>=e.right-g.width?(p.x=Et.Forward,m.x=r*Math.abs((e.right-g.width-a)/g.width)):!d&&o<=e.left+g.width&&(p.x=Et.Backward,m.x=r*Math.abs((e.left+g.width-o)/g.width)),{direction:p,speed:m}}function SN(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function R1(t){return t.reduce((e,n)=>Ti(e,Jd(n)),Kn)}function kN(t){return t.reduce((e,n)=>e+E1(n),0)}function CN(t){return t.reduce((e,n)=>e+N1(n),0)}function bN(t,e){if(e===void 0&&(e=Pa),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);T1(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const TN=[["x",["left","right"],kN],["y",["top","bottom"],CN]];class Uf{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Wf(n),s=R1(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of TN)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=s[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Po{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function EN(t){const{EventTarget:e}=un(t);return t instanceof e?t:so(t)}function Lu(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var An;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(An||(An={}));function tg(t){t.preventDefault()}function NN(t){t.stopPropagation()}var Fe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Fe||(Fe={}));const O1={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},AN=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class I1{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Po(so(n)),this.windowListeners=new Po(un(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(An.Resize,this.handleCancel),this.windowListeners.add(An.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(An.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&bN(r),n(Kn)}handleKeyDown(e){if(k1(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=O1,coordinateGetter:o=AN,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Kn;this.referenceCoordinates||(this.referenceCoordinates=u);const d=o(e,{active:n,context:r.current,currentCoordinates:u});if(d){const h=hc(d,u),p={x:0,y:0},{scrollableAncestors:m}=r.current;for(const g of m){const C=e.code,{isTop:f,isRight:v,isLeft:y,isBottom:x,maxScroll:w,minScroll:S}=M1(g),k=SN(g),b={x:Math.min(C===Fe.Right?k.right-k.width/2:k.right,Math.max(C===Fe.Right?k.left:k.left+k.width/2,d.x)),y:Math.min(C===Fe.Down?k.bottom-k.height/2:k.bottom,Math.max(C===Fe.Down?k.top:k.top+k.height/2,d.y))},N=C===Fe.Right&&!v||C===Fe.Left&&!y,E=C===Fe.Down&&!x||C===Fe.Up&&!f;if(N&&b.x!==d.x){const A=g.scrollLeft+h.x,M=C===Fe.Right&&A<=w.x||C===Fe.Left&&A>=S.x;if(M&&!h.y){g.scrollTo({left:A,behavior:a});return}M?p.x=g.scrollLeft-A:p.x=C===Fe.Right?g.scrollLeft-w.x:g.scrollLeft-S.x,p.x&&g.scrollBy({left:-p.x,behavior:a});break}else if(E&&b.y!==d.y){const A=g.scrollTop+h.y,M=C===Fe.Down&&A<=w.y||C===Fe.Up&&A>=S.y;if(M&&!h.x){g.scrollTo({top:A,behavior:a});return}M?p.y=g.scrollTop-A:p.y=C===Fe.Down?g.scrollTop-w.y:g.scrollTop-S.y,p.y&&g.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,Ti(hc(d,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}I1.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=O1,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function ng(t){return!!(t&&"distance"in t)}function rg(t){return!!(t&&"delay"in t)}class qf{constructor(e,n,r){var s;r===void 0&&(r=EN(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=so(o),this.documentListeners=new Po(this.document),this.listeners=new Po(r),this.windowListeners=new Po(un(o)),this.initialCoordinates=(s=Kd(i))!=null?s:Kn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(An.Resize,this.handleCancel),this.windowListeners.add(An.DragStart,tg),this.windowListeners.add(An.VisibilityChange,this.handleCancel),this.windowListeners.add(An.ContextMenu,tg),this.documentListeners.add(An.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ng(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(An.Click,NN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(An.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=Kd(e))!=null?n:Kn,c=hc(s,l);if(!r&&a){if(ng(a)){if(a.tolerance!=null&&Lu(c,a.tolerance))return this.handleCancel();if(Lu(c,a.distance))return this.handleStart()}if(rg(a)&&Lu(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const MN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Hf extends qf{constructor(e){const{event:n}=e,r=so(n.target);super(e,MN,r)}}Hf.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const RN={move:{name:"mousemove"},end:{name:"mouseup"}};var eh;(function(t){t[t.RightClick=2]="RightClick"})(eh||(eh={}));class P1 extends qf{constructor(e){super(e,RN,so(e.event.target))}}P1.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===eh.RightClick?!1:(r==null||r({event:n}),!0)}}];const Vu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $1 extends qf{constructor(e){super(e,Vu)}static setup(){return window.addEventListener(Vu.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Vu.move.name,e)};function e(){}}}$1.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var $o;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})($o||($o={}));var pc;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(pc||(pc={}));function ON(t){let{acceleration:e,activator:n=$o.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=pc.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:h}=t;const p=PN({delta:d,disabled:!i}),[m,g]=G2(),C=T.useRef({x:0,y:0}),f=T.useRef({x:0,y:0}),v=T.useMemo(()=>{switch(n){case $o.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case $o.DraggableRect:return s}},[n,s,l]),y=T.useRef(null),x=T.useCallback(()=>{const S=y.current;if(!S)return;const k=C.current.x*f.current.x,b=C.current.y*f.current.y;S.scrollBy(k,b)},[]),w=T.useMemo(()=>a===pc.TreeOrder?[...c].reverse():c,[a,c]);T.useEffect(()=>{if(!i||!c.length||!v){g();return}for(const S of w){if((r==null?void 0:r(S))===!1)continue;const k=c.indexOf(S),b=u[k];if(!b)continue;const{direction:N,speed:E}=xN(S,b,v,e,h);for(const A of["x","y"])p[A][N[A]]||(E[A]=0,N[A]=0);if(E.x>0||E.y>0){g(),y.current=S,m(x,o),C.current=E,f.current=N;return}}C.current={x:0,y:0},f.current={x:0,y:0},g()},[e,x,r,g,i,o,JSON.stringify(v),JSON.stringify(p),m,c,w,u,JSON.stringify(h)])}const IN={x:{[Et.Backward]:!1,[Et.Forward]:!1},y:{[Et.Backward]:!1,[Et.Forward]:!1}};function PN(t){let{delta:e,disabled:n}=t;const r=Qd(e);return Ia(s=>{if(n||!r||!s)return IN;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Et.Backward]:s.x[Et.Backward]||i.x===-1,[Et.Forward]:s.x[Et.Forward]||i.x===1},y:{[Et.Backward]:s.y[Et.Backward]||i.y===-1,[Et.Forward]:s.y[Et.Forward]||i.y===1}}},[n,e,r])}function $N(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ia(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function DN(t,e){return T.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var la;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(la||(la={}));var th;(function(t){t.Optimized="optimized"})(th||(th={}));const sg=new Map;function jN(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=T.useState(null),{frequency:a,measure:l,strategy:c}=s,u=T.useRef(t),d=C(),h=zf(d),p=T.useCallback(function(f){f===void 0&&(f=[]),!h.current&&o(v=>v===null?f:v.concat(f.filter(y=>!v.includes(y))))},[h]),m=T.useRef(null),g=Ia(f=>{if(d&&!n)return sg;if(!f||f===sg||u.current!==t||i!=null){const v=new Map;for(let y of t){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){v.set(y.id,y.rect.current);continue}const x=y.node.current,w=x?new Uf(l(x),x):null;y.rect.current=w,w&&v.set(y.id,w)}return v}return f},[t,i,n,d,l]);return T.useEffect(()=>{u.current=t},[t]),T.useEffect(()=>{d||p()},[n,d]),T.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),T.useEffect(()=>{d||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},a))},[a,d,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:i!=null};function C(){switch(c){case la.Always:return!1;case la.BeforeDragging:return n;default:return!n}}}function D1(t,e){return Ia(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function FN(t,e){return D1(t,e)}function LN(t){let{callback:e,disabled:n}=t;const r=Vf(e),s=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Gf(t){let{callback:e,disabled:n}=t;const r=Vf(e),s=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function VN(t){return new Uf(Pa(t),t)}function ig(t,e,n){e===void 0&&(e=VN);const[r,s]=T.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=LN({callback(l){if(t)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(t)){i();break}}}}),a=Gf({callback:i});return fs(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function zN(t){const e=D1(t);return b1(t,e)}const og=[];function BN(t){const e=T.useRef(t),n=Ia(r=>t?r&&r!==og&&t&&e.current&&t.parentNode===e.current.parentNode?r:Wf(t):og,[t]);return T.useEffect(()=>{e.current=t},[t]),n}function WN(t){const[e,n]=T.useState(null),r=T.useRef(t),s=T.useCallback(i=>{const o=Fu(i.target);o&&n(a=>a?(a.set(o,Jd(o)),new Map(a)):null)},[]);return T.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const c=Fu(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,Jd(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const c=Fu(l);c==null||c.removeEventListener("scroll",s)})}},[s,t]),T.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>Ti(i,o),Kn):R1(t):Kn,[t,e])}function ag(t,e){e===void 0&&(e=[]);const n=T.useRef(null);return T.useEffect(()=>{n.current=null},e),T.useEffect(()=>{const r=t!==Kn;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?hc(t,n.current):Kn}function UN(t){T.useEffect(()=>{if(!tu)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function qN(t,e){return T.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function j1(t){return T.useMemo(()=>t?vN(t):null,[t])}const lg=[];function HN(t,e){e===void 0&&(e=Pa);const[n]=t,r=j1(n?un(n):null),[s,i]=T.useState(lg);function o(){i(()=>t.length?t.map(l=>A1(l)?r:new Uf(e(l),l)):lg)}const a=Gf({callback:o});return fs(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function GN(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Oa(e)?e:t}function ZN(t){let{measure:e}=t;const[n,r]=T.useState(null),s=T.useCallback(c=>{for(const{target:u}of c)if(Oa(u)){r(d=>{const h=e(u);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),i=Gf({callback:s}),o=T.useCallback(c=>{const u=GN(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[a,l]=Yd(o);return T.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const XN=[{sensor:Hf,options:{}},{sensor:I1,options:{}}],YN={current:{}},Sl={draggable:{measure:eg},droppable:{measure:eg,strategy:la.WhileDragging,frequency:th.Optimized},dragOverlay:{measure:Pa}};class Do extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const QN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Do,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Sl,measureDroppableContainers:fc,windowRect:null,measuringScheduled:!1},KN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fc,draggableNodes:new Map,over:null,measureDroppableContainers:fc},Zf=T.createContext(KN),JN=T.createContext(QN);function eA(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Do}}}function tA(t,e){switch(e.type){case Vt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Vt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Vt.DragEnd:case Vt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Do(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Vt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new Do(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case Vt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new Do(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function nA(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=T.useContext(Zf),i=Qd(r),o=Qd(n==null?void 0:n.id);return T.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!k1(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=Y2(u);if(d){d.focus();break}}})}},[r,e,s,o,i]),null}function rA(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function sA(t){return T.useMemo(()=>({draggable:{...Sl.draggable,...t==null?void 0:t.draggable},droppable:{...Sl.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Sl.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function iA(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=T.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;fs(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=b1(u,r);if(o||(d.x=0),a||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=T1(c);h&&h.scrollBy({top:d.y,left:d.x})}},[e,o,a,r,n])}const F1=T.createContext({...Kn,scaleX:1,scaleY:1});var qr;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(qr||(qr={}));const oA=T.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=XN,collisionDetection:d=uN,measuring:h,modifiers:p,...m}=e;const g=T.useReducer(tA,void 0,eA),[C,f]=g,[v,y]=nN(),[x,w]=T.useState(qr.Uninitialized),S=x===qr.Initialized,{draggable:{active:k,nodes:b,translate:N},droppable:{containers:E}}=C,A=k!=null?b.get(k):null,M=T.useRef({initial:null,translated:null}),j=T.useMemo(()=>{var Pe;return k!=null?{id:k,data:(Pe=A==null?void 0:A.data)!=null?Pe:YN,rect:M}:null},[k,A]),D=T.useRef(null),[P,$]=T.useState(null),[F,R]=T.useState(null),O=zf(m,Object.values(m)),I=Bf("DndDescribedBy",o),V=T.useMemo(()=>E.getEnabled(),[E]),B=sA(h),{droppableRects:J,measureDroppableContainers:te,measuringScheduled:Z}=jN(V,{dragging:S,dependencies:[N.x,N.y],config:B.droppable}),Q=$N(b,k),xe=T.useMemo(()=>F?Kd(F):null,[F]),H=en(),Re=FN(Q,B.draggable.measure);iA({activeNode:k!=null?b.get(k):null,config:H.layoutShiftCompensation,initialRect:Re,measure:B.draggable.measure});const Ee=ig(Q,B.draggable.measure,Re),Le=ig(Q?Q.parentElement:null),Ne=T.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=E.getNodeFor((n=Ne.current.over)==null?void 0:n.id),ye=ZN({measure:B.dragOverlay.measure}),W=(r=ye.nodeRef.current)!=null?r:Q,X=S?(s=ye.rect)!=null?s:Ee:null,ne=!!(ye.nodeRef.current&&ye.rect),me=zN(ne?null:Ee),le=j1(W?un(W):null),U=BN(S?Se??Q:null),Oe=HN(U),fe=rA(p,{transform:{x:N.x-me.x,y:N.y-me.y,scaleX:1,scaleY:1},activatorEvent:F,active:j,activeNodeRect:Ee,containerNodeRect:Le,draggingNodeRect:X,over:Ne.current.over,overlayNodeRect:ye.rect,scrollableAncestors:U,scrollableAncestorRects:Oe,windowRect:le}),Ie=xe?Ti(xe,N):null,dn=WN(U),Y=ag(dn),ee=ag(dn,[Ee]),se=Ti(fe,Y),ke=X?fN(X,fe):null,we=j&&ke?d({active:j,collisionRect:ke,droppableRects:J,droppableContainers:V,pointerCoordinates:Ie}):null,Ve=lN(we,"id"),[Ce,Jt]=T.useState(null),K=ne?fe:Ti(fe,ee),oe=dN(K,(i=Ce==null?void 0:Ce.rect)!=null?i:null,Ee),Ae=T.useRef(null),be=T.useCallback((Pe,it)=>{let{sensor:Ct,options:rr}=it;if(D.current==null)return;const gt=b.get(D.current);if(!gt)return;const qt=Pe.nativeEvent,jt=new Ct({active:D.current,activeNode:gt,event:qt,options:rr,context:Ne,onAbort(vt){if(!b.get(vt))return;const{onDragAbort:bt}=O.current,ot={id:vt};bt==null||bt(ot),v({type:"onDragAbort",event:ot})},onPending(vt,hn,bt,ot){if(!b.get(vt))return;const{onDragPending:ws}=O.current,sr={id:vt,constraint:hn,initialCoordinates:bt,offset:ot};ws==null||ws(sr),v({type:"onDragPending",event:sr})},onStart(vt){const hn=D.current;if(hn==null)return;const bt=b.get(hn);if(!bt)return;const{onDragStart:ot}=O.current,gr={activatorEvent:qt,active:{id:hn,data:bt.data,rect:M}};pi.unstable_batchedUpdates(()=>{ot==null||ot(gr),w(qr.Initializing),f({type:Vt.DragStart,initialCoordinates:vt,active:hn}),v({type:"onDragStart",event:gr}),$(Ae.current),R(qt)})},onMove(vt){f({type:Vt.DragMove,coordinates:vt})},onEnd:jr(Vt.DragEnd),onCancel:jr(Vt.DragCancel)});Ae.current=jt;function jr(vt){return async function(){const{active:bt,collisions:ot,over:gr,scrollAdjustedTranslate:ws}=Ne.current;let sr=null;if(bt&&ws){const{cancelDrop:_s}=O.current;sr={activatorEvent:qt,active:bt,collisions:ot,delta:ws,over:gr},vt===Vt.DragEnd&&typeof _s=="function"&&await Promise.resolve(_s(sr))&&(vt=Vt.DragCancel)}D.current=null,pi.unstable_batchedUpdates(()=>{f({type:vt}),w(qr.Uninitialized),Jt(null),$(null),R(null),Ae.current=null;const _s=vt===Vt.DragEnd?"onDragEnd":"onDragCancel";if(sr){const io=O.current[_s];io==null||io(sr),v({type:_s,event:sr})}})}}},[b]),ht=T.useCallback((Pe,it)=>(Ct,rr)=>{const gt=Ct.nativeEvent,qt=b.get(rr);if(D.current!==null||!qt||gt.dndKit||gt.defaultPrevented)return;const jt={active:qt};Pe(Ct,it.options,jt)===!0&&(gt.dndKit={capturedBy:it.sensor},D.current=rr,be(Ct,it))},[b,be]),Ut=DN(u,ht);UN(u),fs(()=>{Ee&&x===qr.Initializing&&w(qr.Initialized)},[Ee,x]),T.useEffect(()=>{const{onDragMove:Pe}=O.current,{active:it,activatorEvent:Ct,collisions:rr,over:gt}=Ne.current;if(!it||!Ct)return;const qt={active:it,activatorEvent:Ct,collisions:rr,delta:{x:se.x,y:se.y},over:gt};pi.unstable_batchedUpdates(()=>{Pe==null||Pe(qt),v({type:"onDragMove",event:qt})})},[se.x,se.y]),T.useEffect(()=>{const{active:Pe,activatorEvent:it,collisions:Ct,droppableContainers:rr,scrollAdjustedTranslate:gt}=Ne.current;if(!Pe||D.current==null||!it||!gt)return;const{onDragOver:qt}=O.current,jt=rr.get(Ve),jr=jt&&jt.rect.current?{id:jt.id,rect:jt.rect.current,data:jt.data,disabled:jt.disabled}:null,vt={active:Pe,activatorEvent:it,collisions:Ct,delta:{x:gt.x,y:gt.y},over:jr};pi.unstable_batchedUpdates(()=>{Jt(jr),qt==null||qt(vt),v({type:"onDragOver",event:vt})})},[Ve]),fs(()=>{Ne.current={activatorEvent:F,active:j,activeNode:Q,collisionRect:ke,collisions:we,droppableRects:J,draggableNodes:b,draggingNode:W,draggingNodeRect:X,droppableContainers:E,over:Ce,scrollableAncestors:U,scrollAdjustedTranslate:se},M.current={initial:X,translated:ke}},[j,Q,we,ke,b,W,X,J,E,Ce,U,se]),ON({...H,delta:N,draggingRect:ke,pointerCoordinates:Ie,scrollableAncestors:U,scrollableAncestorRects:Oe});const Ke=T.useMemo(()=>({active:j,activeNode:Q,activeNodeRect:Ee,activatorEvent:F,collisions:we,containerNodeRect:Le,dragOverlay:ye,draggableNodes:b,droppableContainers:E,droppableRects:J,over:Ce,measureDroppableContainers:te,scrollableAncestors:U,scrollableAncestorRects:Oe,measuringConfiguration:B,measuringScheduled:Z,windowRect:le}),[j,Q,Ee,F,we,Le,ye,b,E,J,Ce,te,U,Oe,B,Z,le]),En=T.useMemo(()=>({activatorEvent:F,activators:Ut,active:j,activeNodeRect:Ee,ariaDescribedById:{draggable:I},dispatch:f,draggableNodes:b,over:Ce,measureDroppableContainers:te}),[F,Ut,j,Ee,f,I,b,Ce,te]);return he.createElement(C1.Provider,{value:y},he.createElement(Zf.Provider,{value:En},he.createElement(JN.Provider,{value:Ke},he.createElement(F1.Provider,{value:oe},c)),he.createElement(nA,{disabled:(a==null?void 0:a.restoreFocus)===!1})),he.createElement(iN,{...a,hiddenTextDescribedById:I}));function en(){const Pe=(P==null?void 0:P.autoScrollEnabled)===!1,it=typeof l=="object"?l.enabled===!1:l===!1,Ct=S&&!Pe&&!it;return typeof l=="object"?{...l,enabled:Ct}:{enabled:Ct}}}),aA=T.createContext(null),cg="button",lA="Draggable";function jo(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=Bf(lA),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=T.useContext(Zf),{role:p=cg,roleDescription:m="draggable",tabIndex:g=0}=s??{},C=(l==null?void 0:l.id)===e,f=T.useContext(C?F1:aA),[v,y]=Yd(),[x,w]=Yd(),S=qN(o,e),k=zf(n);fs(()=>(d.set(e,{id:e,key:i,node:v,activatorNode:x,data:k}),()=>{const N=d.get(e);N&&N.key===i&&d.delete(e)}),[d,e]);const b=T.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":C&&p===cg?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,g,C,m,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:b,isDragging:C,listeners:r?void 0:S,node:v,over:h,setNodeRef:y,setActivatorNodeRef:w,transform:f}}const cA=t=>{let{transform:e}=t;return{...e,y:0}};function ug(t,e){const n=new Float32Array(t),r=t-1;for(let s=0;s<t;s++){const i=s/r;n[s]=e?i:1-i}return n}function uA(t,e){const n=new Float32Array(t),r=t-1;for(let s=0;s<t;s++){const i=s/r,o=e?s:t-1-s;n[o]=Math.exp(2*i-1)/Math.E}return n}function dA(t,e){const n=new Float32Array(t),r=e?Math.PI/2:-Math.PI/2;for(let s=0;s<t;s++)n[s]=Math.sin(Math.PI*s/t-r)/2+.5;return n}function hA(t,e,n=10){const r=new Float32Array(t);for(let s=0;s<t;s++){const i=e?s:t-1-s,o=s/t;r[i]=Math.log(1+n*o)/Math.log(1+n)}return r}function L1(t,e,n){switch(t){case"linear":return ug(e,n);case"exponential":return uA(e,n);case"sCurve":return dA(e,n);case"logarithmic":return hA(e,n);default:return ug(e,n)}}function dg(t,e,n,r="linear",s=0,i=1){if(!(n<=0))if(r==="linear")t.setValueAtTime(s,e),t.linearRampToValueAtTime(i,e+n);else if(r==="exponential")t.setValueAtTime(Math.max(s,.001),e),t.exponentialRampToValueAtTime(Math.max(i,.001),e+n);else{const o=L1(r,1e4,!0),a=new Float32Array(o.length),l=i-s;for(let c=0;c<o.length;c++)a[c]=s+o[c]*l;t.setValueCurveAtTime(a,e,n)}}function hg(t,e,n,r="linear",s=1,i=0){if(!(n<=0))if(r==="linear")t.setValueAtTime(s,e),t.linearRampToValueAtTime(i,e+n);else if(r==="exponential")t.setValueAtTime(Math.max(s,.001),e),t.exponentialRampToValueAtTime(Math.max(i,.001),e+n);else{const o=L1(r,1e4,!1),a=new Float32Array(o.length),l=s-i;for(let c=0;c<o.length;c++)a[c]=i+o[c]*l;t.setValueCurveAtTime(a,e,n)}}var fA=class{constructor(t){this.activePlayers=0,this.track=t.track,this.volumeNode=new Ir(this.gainToDb(t.track.gain)),this.panNode=new Ra(t.track.stereoPan),this.muteGain=new xt(t.track.muted?0:1);const e=t.destination||Rf();if(t.effects){const r=t.effects(this.muteGain,e,!1);r&&(this.effectsCleanup=r)}else this.muteGain.connect(e);const n=t.clips||(t.buffer?[{buffer:t.buffer,startTime:0,duration:t.buffer.duration,offset:0,fadeIn:t.track.fadeIn,fadeOut:t.track.fadeOut,gain:1}]:[]);this.clips=n.map(r=>{const s=new Ws({url:r.buffer,loop:!1,onstop:()=>{this.activePlayers--,this.activePlayers===0&&this.onStopCallback&&this.onStopCallback()}}),i=new xt(r.gain);return s.connect(i),i.chain(this.volumeNode,this.panNode,this.muteGain),{player:s,clipInfo:r,fadeGain:i,pausedPosition:0,playStartTime:0}})}scheduleFades(t,e,n=0){const{clipInfo:r,fadeGain:s}=t,i=s.gain._param;i.cancelScheduledValues(0);const o=n-r.offset;if(r.fadeIn&&o<r.fadeIn.duration){const a=r.fadeIn.duration;if(o<=0)dg(i,e,a,r.fadeIn.type||"linear",0,r.gain);else{const l=a-o,c=o/a,u=r.gain*c;dg(i,e,l,r.fadeIn.type||"linear",u,r.gain)}}else i.setValueAtTime(r.gain,e);if(r.fadeOut){const a=r.duration-r.fadeOut.duration-o;if(a>0){const l=e+a;hg(i,l,r.fadeOut.duration,r.fadeOut.type||"linear",r.gain,0)}else if(a>-r.fadeOut.duration){const l=-a,c=r.fadeOut.duration-l,u=l/r.fadeOut.duration,d=r.gain*(1-u);hg(i,e,c,r.fadeOut.type||"linear",d,0)}}}gainToDb(t){return 20*Math.log10(t)}setVolume(t){this.track.gain=t,this.volumeNode.volume.value=this.gainToDb(t)}setPan(t){this.track.stereoPan=t,this.panNode.pan.value=t}setMute(t){this.track.muted=t,this.muteGain.gain.value=t?0:1}setSolo(t){this.track.soloed=t}play(t,e=0,n){this.clips.forEach(r=>{r.player.stop(),r.player.disconnect(),r.player.dispose();const s=new Ws({url:r.clipInfo.buffer,loop:!1,onstop:()=>{this.activePlayers--,this.activePlayers===0&&this.onStopCallback&&this.onStopCallback()}});s.connect(r.fadeGain),r.player=s,r.pausedPosition=0}),this.activePlayers=0,this.clips.forEach(r=>{const{player:s,clipInfo:i}=r,o=e,a=i.startTime,l=i.startTime+i.duration;if(o<l){this.activePlayers++;const c=t??Oo();if(r.playStartTime=c,o>=a){const u=o-a+i.offset,d=i.duration-(o-a),h=n?Math.min(n,d):d;r.pausedPosition=u,this.scheduleFades(r,c,u),s.start(c,u,h)}else{const u=a-o,d=n?Math.min(n-u,i.duration):i.duration;u<(n??1/0)?(r.pausedPosition=i.offset,this.scheduleFades(r,c+u,i.offset),s.start(c+u,i.offset,d)):this.activePlayers--}}})}pause(){this.clips.forEach(t=>{if(t.player.state==="started"){const e=(Oo()-t.playStartTime)*t.player.playbackRate;t.pausedPosition=t.pausedPosition+e}t.player.stop()}),this.activePlayers=0}stop(t){const e=t??Oo();this.clips.forEach(n=>{n.player.stop(e),n.pausedPosition=0}),this.activePlayers=0}dispose(){this.effectsCleanup&&this.effectsCleanup(),this.clips.forEach(t=>{t.player.dispose(),t.fadeGain.dispose()}),this.volumeNode.dispose(),this.panNode.dispose(),this.muteGain.dispose()}get id(){return this.track.id}get duration(){if(this.clips.length===0)return 0;const t=this.clips[this.clips.length-1];return t.clipInfo.startTime+t.clipInfo.duration}get buffer(){var t;return(t=this.clips[0])==null?void 0:t.clipInfo.buffer}get isPlaying(){return this.clips.some(t=>t.player.state==="started")}get muted(){return this.track.muted}get startTime(){return this.track.startTime}setOnStopCallback(t){this.onStopCallback=t}},pA=class{constructor(t={}){if(this.tracks=new Map,this.isInitialized=!1,this.soloedTracks=new Set,this.manualMuteState=new Map,this.activeTracks=new Map,this.playbackSessionId=0,this.masterVolume=new Ir(this.gainToDb(t.masterGain??1)),t.effects){const e=t.effects(this.masterVolume,Rf(),!1);e&&(this.effectsCleanup=e)}else this.masterVolume.toDestination();t.tracks&&t.tracks.forEach(e=>{this.tracks.set(e.id,e),this.manualMuteState.set(e.id,e.muted)})}gainToDb(t){return 20*Math.log10(t)}async init(){this.isInitialized||(await xf(),this.isInitialized=!0)}addTrack(t){const e={...t,destination:this.masterVolume},n=new fA(e);return this.tracks.set(n.id,n),this.manualMuteState.set(n.id,t.track.muted??!1),t.track.soloed&&this.soloedTracks.add(n.id),n}applyInitialSoloState(){this.updateSoloMuting()}removeTrack(t){const e=this.tracks.get(t);e&&(e.dispose(),this.tracks.delete(t),this.manualMuteState.delete(t),this.soloedTracks.delete(t))}getTrack(t){return this.tracks.get(t)}play(t,e,n){if(!this.isInitialized){console.warn("TonePlayout not initialized. Call init() first.");return}const r=t??Oo(),s=e??0;this.playbackSessionId++;const i=this.playbackSessionId;this.activeTracks.clear(),this.tracks.forEach(o=>{const a=o.startTime;if(s>=a){const l=s-a;n!==void 0&&(this.activeTracks.set(o.id,i),o.setOnStopCallback(()=>{this.activeTracks.get(o.id)===i&&(this.activeTracks.delete(o.id),this.activeTracks.size===0&&this.onPlaybackCompleteCallback&&this.onPlaybackCompleteCallback())})),o.play(r,l,n)}else{const l=a-s;n!==void 0&&(this.activeTracks.set(o.id,i),o.setOnStopCallback(()=>{this.activeTracks.get(o.id)===i&&(this.activeTracks.delete(o.id),this.activeTracks.size===0&&this.onPlaybackCompleteCallback&&this.onPlaybackCompleteCallback())})),o.play(r+l,0,n)}}),e!==void 0?ks().start(r,e):ks().start(r)}pause(){ks().pause(),this.tracks.forEach(t=>{t.pause()})}stop(){ks().stop(),this.tracks.forEach(t=>{t.stop()})}setMasterGain(t){this.masterVolume.volume.value=this.gainToDb(t)}setSolo(t,e){const n=this.tracks.get(t);n&&(n.setSolo(e),e?this.soloedTracks.add(t):this.soloedTracks.delete(t),this.updateSoloMuting())}updateSoloMuting(){const t=this.soloedTracks.size>0;this.tracks.forEach((e,n)=>{if(t)if(!this.soloedTracks.has(n))e.setMute(!0);else{const r=this.manualMuteState.get(n)??!1;e.setMute(r)}else{const r=this.manualMuteState.get(n)??!1;e.setMute(r)}})}setMute(t,e){const n=this.tracks.get(t);n&&(this.manualMuteState.set(t,e),n.setMute(e))}getCurrentTime(){return ks().seconds}seekTo(t){ks().seconds=t}dispose(){this.tracks.forEach(t=>{t.dispose()}),this.tracks.clear(),this.effectsCleanup&&this.effectsCleanup(),this.masterVolume.dispose()}get context(){return Me()}get sampleRate(){return Me().sampleRate}setOnPlaybackComplete(t){this.onPlaybackCompleteCallback=t}};const nh=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[nh.Translate.toString(t),nh.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),mA=new Map([["bold",T.createElement(T.Fragment,null,T.createElement("path",{d:"M157.27,21.22a12,12,0,0,0-12.64,1.31L75.88,76H32A20,20,0,0,0,12,96v64a20,20,0,0,0,20,20H75.88l68.75,53.47A12,12,0,0,0,164,224V32A12,12,0,0,0,157.27,21.22ZM36,100H68v56H36Zm104,99.46L92,162.13V93.87l48-37.33ZM212,128a44,44,0,0,1-11,29.11,12,12,0,1,1-18-15.88,20,20,0,0,0,0-26.43,12,12,0,0,1,18-15.86A43.94,43.94,0,0,1,212,128Zm40,0a83.87,83.87,0,0,1-21.39,56,12,12,0,0,1-17.89-16,60,60,0,0,0,0-80,12,12,0,1,1,17.88-16A83.87,83.87,0,0,1,252,128Z"}))],["duotone",T.createElement(T.Fragment,null,T.createElement("path",{d:"M80,88v80H32a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8Z",opacity:"0.2"}),T.createElement("path",{d:"M155.51,24.81a8,8,0,0,0-8.42.88L77.25,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H77.25l69.84,54.31A8,8,0,0,0,160,224V32A8,8,0,0,0,155.51,24.81ZM32,96H72v64H32ZM144,207.64,88,164.09V91.91l56-43.55Zm54-106.08a40,40,0,0,1,0,52.88,8,8,0,0,1-12-10.58,24,24,0,0,0,0-31.72,8,8,0,0,1,12-10.58ZM248,128a79.9,79.9,0,0,1-20.37,53.34,8,8,0,0,1-11.92-10.67,64,64,0,0,0,0-85.33,8,8,0,1,1,11.92-10.67A79.83,79.83,0,0,1,248,128Z"}))],["fill",T.createElement(T.Fragment,null,T.createElement("path",{d:"M160,32.25V223.69a8.29,8.29,0,0,1-3.91,7.18,8,8,0,0,1-9-.56l-65.57-51A4,4,0,0,1,80,176.16V79.84a4,4,0,0,1,1.55-3.15l65.57-51a8,8,0,0,1,10,.16A8.27,8.27,0,0,1,160,32.25ZM60,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H60a4,4,0,0,0,4-4V84A4,4,0,0,0,60,80Zm126.77,20.84a8,8,0,0,0-.72,11.3,24,24,0,0,1,0,31.72,8,8,0,1,0,12,10.58,40,40,0,0,0,0-52.88A8,8,0,0,0,186.74,100.84Zm40.89-26.17a8,8,0,1,0-11.92,10.66,64,64,0,0,1,0,85.34,8,8,0,1,0,11.92,10.66,80,80,0,0,0,0-106.66Z"}))],["light",T.createElement(T.Fragment,null,T.createElement("path",{d:"M154.64,26.61a6,6,0,0,0-6.32.65L77.94,82H32A14,14,0,0,0,18,96v64a14,14,0,0,0,14,14H77.94l70.38,54.74A6,6,0,0,0,158,224V32A6,6,0,0,0,154.64,26.61ZM30,160V96a2,2,0,0,1,2-2H74v68H32A2,2,0,0,1,30,160Zm116,51.73L86,165.07V90.93l60-46.66Zm50.53-108.85a38,38,0,0,1,0,50.24,6,6,0,1,1-9-7.94,26,26,0,0,0,0-34.37,6,6,0,0,1,9-7.93ZM246,128a77.86,77.86,0,0,1-19.86,52,6,6,0,1,1-8.94-8,66,66,0,0,0,0-88,6,6,0,1,1,8.94-8A77.86,77.86,0,0,1,246,128Z"}))],["regular",T.createElement(T.Fragment,null,T.createElement("path",{d:"M155.51,24.81a8,8,0,0,0-8.42.88L77.25,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H77.25l69.84,54.31A8,8,0,0,0,160,224V32A8,8,0,0,0,155.51,24.81ZM32,96H72v64H32ZM144,207.64,88,164.09V91.91l56-43.55Zm54-106.08a40,40,0,0,1,0,52.88,8,8,0,0,1-12-10.58,24,24,0,0,0,0-31.72,8,8,0,0,1,12-10.58ZM248,128a79.9,79.9,0,0,1-20.37,53.34,8,8,0,0,1-11.92-10.67,64,64,0,0,0,0-85.33,8,8,0,1,1,11.92-10.67A79.83,79.83,0,0,1,248,128Z"}))],["thin",T.createElement(T.Fragment,null,T.createElement("path",{d:"M153.76,28.41a4,4,0,0,0-4.22.43L78.63,84H32A12,12,0,0,0,20,96v64a12,12,0,0,0,12,12H78.63l70.91,55.16A4.07,4.07,0,0,0,152,228a3.92,3.92,0,0,0,1.76-.41A4,4,0,0,0,156,224V32A4,4,0,0,0,153.76,28.41ZM28,160V96a4,4,0,0,1,4-4H76v72H32A4,4,0,0,1,28,160Zm120,55.82L84,166V90l64-49.78Zm47-111.61a36,36,0,0,1,0,47.59,4,4,0,1,1-6-5.3,28,28,0,0,0,0-37,4,4,0,0,1,6-5.28ZM244,128a75.88,75.88,0,0,1-19.35,50.67,4,4,0,0,1-6-5.34,68,68,0,0,0,0-90.66,4,4,0,0,1,6-5.34A75.88,75.88,0,0,1,244,128Z"}))]]),gA=new Map([["bold",T.createElement(T.Fragment,null,T.createElement("path",{d:"M157.27,21.22a12,12,0,0,0-12.64,1.31L75.88,76H32A20,20,0,0,0,12,96v64a20,20,0,0,0,20,20H75.88l68.75,53.47A12,12,0,0,0,164,224V32A12,12,0,0,0,157.27,21.22ZM36,100H68v56H36Zm104,99.46L92,162.13V93.87l48-37.33ZM212,128a44,44,0,0,1-11,29.11,12,12,0,0,1-18-15.88,20,20,0,0,0,0-26.44,12,12,0,0,1,18-15.85A43.94,43.94,0,0,1,212,128Z"}))],["duotone",T.createElement(T.Fragment,null,T.createElement("path",{d:"M80,88v80H32a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8Z",opacity:"0.2"}),T.createElement("path",{d:"M155.51,24.81a8,8,0,0,0-8.42.88L77.25,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H77.25l69.84,54.31A8,8,0,0,0,160,224V32A8,8,0,0,0,155.51,24.81ZM32,96H72v64H32ZM144,207.64,88,164.09V91.91l56-43.55ZM208,128a39.93,39.93,0,0,1-10,26.46,8,8,0,0,1-12-10.58,24,24,0,0,0,0-31.72,8,8,0,1,1,12-10.58A40,40,0,0,1,208,128Z"}))],["fill",T.createElement(T.Fragment,null,T.createElement("path",{d:"M160,32.25V223.69a8.29,8.29,0,0,1-3.91,7.18,8,8,0,0,1-9-.56l-65.57-51A4,4,0,0,1,80,176.16V79.84a4,4,0,0,1,1.55-3.15l65.57-51a8,8,0,0,1,10,.16A8.27,8.27,0,0,1,160,32.25ZM60,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H60a4,4,0,0,0,4-4V84A4,4,0,0,0,60,80ZM198,101.56a8,8,0,1,0-12,10.58,24,24,0,0,1,0,31.72,8,8,0,1,0,12,10.58,40,40,0,0,0,0-52.88Z"}))],["light",T.createElement(T.Fragment,null,T.createElement("path",{d:"M154.64,26.61a6,6,0,0,0-6.32.65L77.94,82H32A14,14,0,0,0,18,96v64a14,14,0,0,0,14,14H77.94l70.38,54.74A6,6,0,0,0,158,224V32A6,6,0,0,0,154.64,26.61ZM30,160V96a2,2,0,0,1,2-2H74v68H32A2,2,0,0,1,30,160Zm116,51.73L86,165.07V90.93l60-46.66ZM206,128a37.94,37.94,0,0,1-9.5,25.14,6,6,0,1,1-9-7.94,26,26,0,0,0,0-34.37,6,6,0,0,1,9-7.93A38,38,0,0,1,206,128Z"}))],["regular",T.createElement(T.Fragment,null,T.createElement("path",{d:"M155.51,24.81a8,8,0,0,0-8.42.88L77.25,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H77.25l69.84,54.31A8,8,0,0,0,160,224V32A8,8,0,0,0,155.51,24.81ZM32,96H72v64H32ZM144,207.64,88,164.09V91.91l56-43.55ZM208,128a39.93,39.93,0,0,1-10,26.46,8,8,0,0,1-12-10.58,24,24,0,0,0,0-31.72,8,8,0,1,1,12-10.58A40,40,0,0,1,208,128Z"}))],["thin",T.createElement(T.Fragment,null,T.createElement("path",{d:"M153.76,28.41a4,4,0,0,0-4.22.43L78.63,84H32A12,12,0,0,0,20,96v64a12,12,0,0,0,12,12H78.63l70.91,55.16A4.07,4.07,0,0,0,152,228a3.92,3.92,0,0,0,1.76-.41A4,4,0,0,0,156,224V32A4,4,0,0,0,153.76,28.41ZM28,160V96a4,4,0,0,1,4-4H76v72H32A4,4,0,0,1,28,160Zm120,55.82L84,166V90l64-49.78ZM204,128a36,36,0,0,1-9,23.82,4,4,0,1,1-6-5.3,28,28,0,0,0,0-37,4,4,0,0,1,6-5.28A36,36,0,0,1,204,128Z"}))]]),vA=T.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Xf=T.forwardRef((t,e)=>{const{alt:n,color:r,size:s,weight:i,mirrored:o,children:a,weights:l,...c}=t,{color:u="currentColor",size:d,weight:h="regular",mirrored:p=!1,...m}=T.useContext(vA);return T.createElement("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",width:s??d,height:s??d,fill:r??u,viewBox:"0 0 256 256",transform:o||p?"scale(-1, 1)":void 0,...m,...c},!!n&&T.createElement("title",null,n),a,l.get(i??h))});Xf.displayName="IconBase";const V1=T.forwardRef((t,e)=>T.createElement(Xf,{ref:e,...t,weights:mA}));V1.displayName="SpeakerHighIcon";const z1=T.forwardRef((t,e)=>T.createElement(Xf,{ref:e,...t,weights:gA}));z1.displayName="SpeakerLowIcon";L.span`
  font-family: 'Courier New', Monaco, monospace;
  font-size: 1rem;
  font-weight: 600;
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColor)||"#333"}};
  user-select: none;
`;var Yf=L.button`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1rem;
  font-family: ${t=>t.theme.fontFamily};
  font-size: ${t=>t.theme.fontSize};
  font-weight: 500;
  color: ${t=>t.theme.buttonText};
  background-color: ${t=>t.theme.buttonBackground};
  border: 1px solid ${t=>t.theme.buttonBorder};
  border-radius: ${t=>t.theme.borderRadius};
  cursor: pointer;
  outline: none;
  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,
    box-shadow 0.15s ease-in-out;

  &:hover:not(:disabled) {
    background-color: ${t=>t.theme.buttonHoverBackground};
  }

  &:focus {
    box-shadow: 0 0 0 2px ${t=>t.theme.inputFocusBorder}33;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`;L(Yf)`
  padding: 0.25rem 0.5rem;
  font-size: ${t=>t.theme.fontSizeSmall};
`;L(Yf)`
  padding: 0.5rem;
  min-width: 2.25rem;
  min-height: 2.25rem;
`;L(Yf)`
  padding: 0.25rem;
  min-width: 1.75rem;
  min-height: 1.75rem;
  font-size: ${t=>t.theme.fontSizeSmall};
`;L.div`
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
`;L.input`
  cursor: pointer;
  accent-color: ${t=>t.theme.inputFocusBorder};

  &:disabled {
    cursor: not-allowed;
  }
`;L.label`
  margin: 0;
  cursor: pointer;
  user-select: none;
  font-family: ${t=>t.theme.fontFamily};
  font-size: ${t=>t.theme.fontSize};
  color: ${t=>t.theme.textColor};
`;var Dr=L.button`
  padding: 0.5rem 1rem;
  background: ${t=>t.theme.buttonBackground||"#007bff"};
  color: ${t=>t.theme.buttonText||"white"};
  border: none;
  border-radius: ${t=>t.theme.borderRadius};
  cursor: pointer;
  font-family: ${t=>t.theme.fontFamily};
  font-size: ${t=>t.theme.fontSize};
  font-weight: 500;
  transition: background-color 0.15s ease-in-out;

  &:hover:not(:disabled) {
    background: ${t=>t.theme.buttonHoverBackground||"#0056b3"};
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px ${t=>t.theme.buttonBackground||"#007bff"}66;
  }

  &:disabled {
    background: #6c757d;
    cursor: not-allowed;
    opacity: 0.6;
  }
`,yA=L.input`
  padding: 0.5rem 0.75rem;
  font-family: ${t=>t.theme.fontFamily};
  font-size: ${t=>t.theme.fontSize};
  color: ${t=>t.theme.inputText};
  background-color: ${t=>t.theme.inputBackground};
  border: 1px solid ${t=>t.theme.inputBorder};
  border-radius: ${t=>t.theme.borderRadius};
  outline: none;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

  &::placeholder {
    color: ${t=>t.theme.inputPlaceholder};
  }

  &:focus {
    border-color: ${t=>t.theme.inputFocusBorder};
    box-shadow: 0 0 0 2px ${t=>t.theme.inputFocusBorder}33;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`;L(yA)`
  padding: 0.25rem 0.5rem;
  font-size: ${t=>t.theme.fontSizeSmall};
`;var B1=L.label`
  font-family: ${t=>t.theme.fontFamily};
  font-size: ${t=>t.theme.fontSizeSmall};
  font-weight: 500;
  color: ${t=>t.theme.textColorMuted};
  margin-bottom: 0.25rem;
  display: block;
`;L.label`
  font-family: ${t=>t.theme.fontFamily};
  font-size: ${t=>t.theme.fontSize};
  color: ${t=>t.theme.textColor};
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
`;L.span`
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
`;var W1=L.select`
  padding: 0.5rem 2rem 0.5rem 0.75rem;
  font-family: ${t=>t.theme.fontFamily};
  font-size: ${t=>t.theme.fontSize};
  color: ${t=>t.theme.inputText};
  background-color: ${t=>t.theme.inputBackground};
  border: 1px solid ${t=>t.theme.inputBorder};
  border-radius: ${t=>t.theme.borderRadius};
  outline: none;
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

  &:focus {
    border-color: ${t=>t.theme.inputFocusBorder};
    box-shadow: 0 0 0 2px ${t=>t.theme.inputFocusBorder}33;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Style native option elements for dark mode support */
  option {
    color: ${t=>t.theme.inputText};
    background-color: ${t=>t.theme.inputBackground};
  }
`;L(W1)`
  padding: 0.25rem 1.75rem 0.25rem 0.5rem;
  font-size: ${t=>t.theme.fontSizeSmall};
`;var U1=L.input.attrs({type:"range"})`
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  background: ${t=>t.theme.sliderTrackColor};
  border-radius: 3px;
  cursor: pointer;
  outline: none;

  /* WebKit (Chrome, Safari) */
  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: ${t=>t.theme.sliderThumbColor};
    border: 2px solid ${t=>t.theme.inputBackground};
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  &::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  /* Firefox */
  &::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: ${t=>t.theme.sliderThumbColor};
    border: 2px solid ${t=>t.theme.inputBackground};
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  &::-moz-range-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  &::-moz-range-track {
    background: ${t=>t.theme.sliderTrackColor};
    border-radius: 3px;
    height: 6px;
  }

  &:focus {
    outline: none;
  }

  &:focus::-webkit-slider-thumb {
    box-shadow: 0 0 0 3px ${t=>t.theme.inputFocusBorder}33;
  }

  &:focus::-moz-range-thumb {
    box-shadow: 0 0 0 3px ${t=>t.theme.inputFocusBorder}33;
  }

  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  &:disabled::-webkit-slider-thumb {
    cursor: not-allowed;
  }

  &:disabled::-moz-range-thumb {
    cursor: not-allowed;
  }
`;function q1(t){return typeof t=="object"&&t!==null&&"type"in t}function mc(t){if(!q1(t))return t;const e=t.direction==="vertical"?"to bottom":"to right",n=t.stops.map(r=>`${r.color} ${r.offset*100}%`).join(", ");return`linear-gradient(${e}, ${n})`}var wA={waveformDrawMode:"inverted",waveOutlineColor:"#ffffff",waveFillColor:"#1a7f8e",waveProgressColor:"rgba(0, 0, 0, 0.10)",selectedWaveOutlineColor:"#ffffff",selectedWaveFillColor:"#00b4d8",selectedTrackControlsBackground:"#d9e9ff",timeColor:"#000",timescaleBackgroundColor:"#fff",playheadColor:"#f00",selectionColor:"rgba(255, 105, 180, 0.7)",loopRegionColor:"rgba(59, 130, 246, 0.3)",loopMarkerColor:"#3b82f6",clipHeaderBackgroundColor:"rgba(0, 0, 0, 0.1)",clipHeaderBorderColor:"rgba(0, 0, 0, 0.2)",clipHeaderTextColor:"#333",clipHeaderFontFamily:"inherit",selectedClipHeaderBackgroundColor:"#b3d9ff",fadeOverlayColor:"rgba(0, 0, 0, 0.4)",backgroundColor:"#ffffff",surfaceColor:"#f5f5f5",borderColor:"#ddd",textColor:"#333",textColorMuted:"#666",inputBackground:"#ffffff",inputBorder:"#ccc",inputText:"#333",inputPlaceholder:"#999",inputFocusBorder:"#0066cc",buttonBackground:"#0091ff",buttonText:"#ffffff",buttonBorder:"#0081e6",buttonHoverBackground:"#0081e6",sliderTrackColor:"#ddd",sliderThumbColor:"#daa520",annotationBoxBackground:"rgba(255, 255, 255, 0.85)",annotationBoxActiveBackground:"rgba(255, 255, 255, 0.95)",annotationBoxHoverBackground:"rgba(255, 255, 255, 0.98)",annotationBoxBorder:"#ff9800",annotationBoxActiveBorder:"#d67600",annotationLabelColor:"#2a2a2a",annotationResizeHandleColor:"rgba(0, 0, 0, 0.4)",annotationResizeHandleActiveColor:"rgba(0, 0, 0, 0.8)",annotationTextItemHoverBackground:"rgba(0, 0, 0, 0.03)",borderRadius:"4px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif',fontSize:"14px",fontSizeSmall:"12px"},_A=1e3;function xA(t,e,n,r){if(!q1(e))return e;let s;e.direction==="vertical"?s=t.createLinearGradient(0,0,0,r):s=t.createLinearGradient(0,0,n,0);for(const i of e.stops)s.addColorStop(i.offset,i.color);return s}var SA=L.canvas.attrs(t=>({style:{width:`${t.$cssWidth}px`,height:`${t.$waveHeight}px`}}))`
  float: left;
  position: relative;
  /* Promote to own compositing layer for smoother scrolling */
  will-change: transform;
  /* Disable image rendering interpolation */
  image-rendering: pixelated;
  image-rendering: crisp-edges;
`,kA=L.div.attrs(t=>({style:{top:`${t.$waveHeight*t.$index}px`,width:`${t.$cssWidth}px`,height:`${t.$waveHeight}px`}}))`
  position: absolute;
  background: ${t=>t.$waveFillColor};
  /* Force GPU compositing layer to reduce scroll flickering */
  transform: translateZ(0);
  backface-visibility: hidden;
`,CA=t=>{const{data:e,bits:n,length:r,index:s,className:i,devicePixelRatio:o=1,waveHeight:a=80,waveOutlineColor:l="#E0EFF1",waveFillColor:c="grey",barWidth:u=1,barGap:d=0,transparentBackground:h=!1,drawMode:p="inverted"}=t,m=T.useRef([]),g=T.useCallback(x=>{if(x!==null){const w=parseInt(x.dataset.index,10);m.current[w]=x}},[]);T.useLayoutEffect(()=>{const x=m.current,w=u+d;let S=0;for(let k=0;k<x.length;k++){const b=x[k],N=b.getContext("2d"),E=Math.floor(a/2),A=2**(n-1);if(N){N.resetTransform(),N.clearRect(0,0,b.width,b.height),N.imageSmoothingEnabled=!1,N.scale(o,o);const M=b.width/o;let j;p==="normal"?j=c:j=l,N.fillStyle=xA(N,j,M,a);const D=S,P=S+M,$=Math.floor((D-u+w)/w)*w;for(let F=Math.max(0,$);F<P;F+=w){const R=F-D;if(R+u<=0)continue;const O=F;if(O*2+1<e.length){const I=e[O*2]/A,V=e[O*2+1]/A,B=Math.abs(I*E),J=Math.abs(V*E);p==="normal"?N.fillRect(R,E-J,u,J+B):(N.fillRect(R,0,u,E-J),N.fillRect(R,E+B,u,E-B))}}}S+=b.width/o}},[e,n,a,l,c,o,r,u,d,p]);let C=r,f=0;const v=[];for(;C>0;){const x=Math.min(C,_A),w=_.jsx(SA,{$cssWidth:x,width:x*o,height:a*o,$waveHeight:a,"data-index":f,ref:g},`${r}-${f}`);v.push(w),C-=x,f+=1}const y=h?"transparent":mc(c);return _.jsx(kA,{$index:s,$cssWidth:r,className:i,$waveHeight:a,$waveFillColor:y,children:v})},H1=22,G1=L.div`
  position: relative;
  height: ${H1}px;
  background: ${t=>t.$isSelected?t.theme.selectedClipHeaderBackgroundColor:t.theme.clipHeaderBackgroundColor};
  border-bottom: 1px solid ${t=>t.theme.clipHeaderBorderColor};
  display: flex;
  align-items: center;
  padding: 0 8px;
  cursor: ${t=>t.$interactive?t.$isDragging?"grabbing":"grab":"default"};
  user-select: none;
  z-index: 110;
  flex-shrink: 0;
  pointer-events: auto; /* Re-enable pointer events (parent ClipContainer has pointer-events: none) */
  touch-action: ${t=>t.$interactive?"none":"auto"}; /* Prevent browser scroll during drag on touch devices */

  ${t=>t.$interactive&&`
    &:hover {
      background: ${t.theme.clipHeaderBackgroundColor}dd;
    }

    &:active {
      cursor: grabbing;
    }
  `}
`,Z1=L.span`
  font-size: 11px;
  font-weight: 600;
  font-family: ${t=>t.theme.clipHeaderFontFamily};
  color: ${t=>t.theme.clipHeaderTextColor};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,bA=({trackName:t,isSelected:e=!1})=>_.jsx(G1,{$isDragging:!1,$interactive:!1,$isSelected:e,children:_.jsx(Z1,{children:t})}),TA=({clipId:t,trackIndex:e,clipIndex:n,trackName:r,isSelected:s=!1,disableDrag:i=!1,dragHandleProps:o})=>{if(i||!o)return _.jsx(bA,{trackName:r,isSelected:s});const{attributes:a,listeners:l,setActivatorNodeRef:c}=o;return _.jsx(G1,{ref:c,"data-clip-id":t,$interactive:!0,$isSelected:s,...l,...a,children:_.jsx(Z1,{children:r})})},EA=8,NA=24,AA=L.div`
  position: absolute;
  ${t=>t.$edge==="left"?"left: 0;":"right: 0;"}
  top: 0;
  bottom: 0;
  width: ${t=>t.$touchOptimized?NA:EA}px;
  cursor: col-resize;
  user-select: none;
  z-index: 105; /* Above waveform, below header */
  pointer-events: auto; /* Re-enable pointer events (parent ClipContainer has pointer-events: none) */
  touch-action: none; /* Prevent browser scroll during drag on touch devices */

  /* Invisible by default, visible on hover */
  background: ${t=>t.$isDragging?"rgba(255, 255, 255, 0.4)":t.$isHovered?"rgba(255, 255, 255, 0.2)":"transparent"};

  ${t=>t.$edge==="left"?`border-left: 2px solid ${t.$isDragging?"rgba(255, 255, 255, 0.8)":t.$isHovered?"rgba(255, 255, 255, 0.5)":"transparent"};`:`border-right: 2px solid ${t.$isDragging?"rgba(255, 255, 255, 0.8)":t.$isHovered?"rgba(255, 255, 255, 0.5)":"transparent"};`}

  transition: background 0.15s ease, border-color 0.15s ease;

  &:hover {
    background: rgba(255, 255, 255, 0.2);
    ${t=>t.$edge==="left"?"border-left: 2px solid rgba(255, 255, 255, 0.5);":"border-right: 2px solid rgba(255, 255, 255, 0.5);"}
  }

  &:active {
    background: rgba(255, 255, 255, 0.4);
    ${t=>t.$edge==="left"?"border-left: 2px solid rgba(255, 255, 255, 0.8);":"border-right: 2px solid rgba(255, 255, 255, 0.8);"}
  }
`,fg=({clipId:t,trackIndex:e,clipIndex:n,edge:r,dragHandleProps:s,touchOptimized:i=!1})=>{const[o,a]=he.useState(!1);if(!s)return null;const{attributes:l,listeners:c,setActivatorNodeRef:u,isDragging:d}=s;return _.jsx(AA,{ref:u,"data-clip-id":t,"data-boundary-edge":r,$edge:r,$isDragging:d,$isHovered:o,$touchOptimized:i,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),...c,...l})},MA=L.div.attrs(t=>({style:{left:`${t.$left}px`,width:`${t.$width}px`}}))`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 50;
`,RA=L.svg`
  width: 100%;
  height: 100%;
  display: block;
  /* Flip horizontally for fadeOut - makes it mirror of fadeIn */
  transform: ${t=>t.$type==="fadeOut"?"scaleX(-1)":"none"};
`;function OA(t,e,n="logarithmic"){const r=[],s=Math.max(20,Math.min(t,100));for(let i=0;i<=s;i++){const o=i/s*t,a=i/s;let l;switch(n){case"linear":l=a;break;case"exponential":l=a*a;break;case"sCurve":l=(1-Math.cos(a*Math.PI))/2;break;case"logarithmic":default:l=Math.log10(1+a*9)/Math.log10(10);break}const c=(1-l)*e;r.push(`${o},${c}`)}return`M 0,${e} L ${r.join(" L ")} L ${t},0 L 0,0 Z`}var pg=({left:t,width:e,type:n,curveType:r="logarithmic",color:s})=>{const i=W2();if(e<1)return null;const o=s||(i==null?void 0:i.fadeOverlayColor)||"rgba(0, 0, 0, 0.4)";return _.jsx(MA,{$left:t,$width:e,$type:n,children:_.jsx(RA,{$type:n,viewBox:`0 0 ${e} 100`,preserveAspectRatio:"none",children:_.jsx("path",{d:OA(e,100,r),fill:o})})})},IA=L.div.attrs(t=>({style:t.$isOverlay?{}:{left:`${t.$left}px`,width:`${t.$width}px`}}))`
  position: ${t=>t.$isOverlay?"relative":"absolute"};
  top: 0;
  height: ${t=>t.$isOverlay?"auto":"100%"};
  width: ${t=>t.$isOverlay?`${t.$width}px`:"auto"};
  display: flex;
  flex-direction: column;
  background: rgba(255, 255, 255, 0.05);
  z-index: 10; /* Above progress overlay (z-index: 2) but below controls/playhead */
  pointer-events: none; /* Let clicks pass through to ClickOverlay for playhead positioning */

  &:hover {
    background: rgba(255, 255, 255, 0.08);
  }
`,PA=L.div`
  flex: 1;
  position: relative;
  overflow: ${t=>t.$isOverlay?"visible":"hidden"};
`,mg=({children:t,className:e,clipId:n,trackIndex:r,clipIndex:s,trackName:i,startSample:o,durationSamples:a,samplesPerPixel:l,showHeader:c=!1,disableHeaderDrag:u=!1,isOverlay:d=!1,isSelected:h=!1,onMouseDown:p,trackId:m,fadeIn:g,fadeOut:C,sampleRate:f=44100,showFades:v=!1,touchOptimized:y=!1})=>{const x=Math.floor(o/l),w=Math.floor((o+a)/l)-x,S=c&&!u&&!d,k=`clip-${r}-${s}`,{attributes:b,listeners:N,setNodeRef:E,setActivatorNodeRef:A,transform:M,isDragging:j}=jo({id:k,data:{clipId:n,trackIndex:r,clipIndex:s},disabled:!S}),D=`clip-boundary-left-${r}-${s}`,{attributes:P,listeners:$,setActivatorNodeRef:F,isDragging:R}=jo({id:D,data:{clipId:n,trackIndex:r,clipIndex:s,boundary:"left"},disabled:!S}),O=`clip-boundary-right-${r}-${s}`,{attributes:I,listeners:V,setActivatorNodeRef:B,isDragging:J}=jo({id:O,data:{clipId:n,trackIndex:r,clipIndex:s,boundary:"right"},disabled:!S}),te=M?{transform:nh.Translate.toString(M),zIndex:j?100:void 0}:void 0;return _.jsxs(IA,{ref:E,style:te,className:e,$left:x,$width:w,$isOverlay:d,"data-clip-container":"true","data-track-id":m,onMouseDown:p,children:[c&&_.jsx(TA,{clipId:n,trackIndex:r,clipIndex:s,trackName:i,isSelected:h,disableDrag:u,dragHandleProps:S?{attributes:b,listeners:N,setActivatorNodeRef:A}:void 0}),_.jsxs(PA,{$isOverlay:d,children:[t,v&&g&&g.duration>0&&_.jsx(pg,{left:0,width:Math.floor(g.duration*f/l),type:"fadeIn",curveType:g.type}),v&&C&&C.duration>0&&_.jsx(pg,{left:w-Math.floor(C.duration*f/l),width:Math.floor(C.duration*f/l),type:"fadeOut",curveType:C.type})]}),c&&!u&&!d&&_.jsxs(_.Fragment,{children:[_.jsx(fg,{clipId:n,trackIndex:r,clipIndex:s,edge:"left",touchOptimized:y,dragHandleProps:{attributes:P,listeners:$,setActivatorNodeRef:F,isDragging:R}}),_.jsx(fg,{clipId:n,trackIndex:r,clipIndex:s,edge:"right",touchOptimized:y,dragHandleProps:{attributes:I,listeners:V,setActivatorNodeRef:B,isDragging:J}})]})]})};L.div`
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
`;L(B1)`
  margin: 0;
  white-space: nowrap;
`;L(U1)`
  width: 120px;
`;L.div.attrs(t=>({style:{transform:`translate3d(${t.$position}px, 0, 0)`}}))`
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  background: ${t=>t.$color};
  height: 100%;
  z-index: 100; /* Below sticky controls (z-index: 101) so playhead is hidden when scrolled behind controls */
  pointer-events: none;
  will-change: transform;
`;L.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  z-index: 100; /* Below sticky controls (z-index: 101) so playhead is hidden when scrolled behind controls */
  pointer-events: none;
  will-change: transform;
`;L.div`
  position: absolute;
  top: -10px;
  left: -6px;
  width: 0;
  height: 0;
  border-left: 7px solid transparent;
  border-right: 7px solid transparent;
  border-top: 10px solid ${t=>t.$color};
`;L.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 100%;
  background: ${t=>t.$color};
`;var $A=L.div`
  overflow-y: hidden;
  overflow-x: auto;
  position: relative;
`,DA=L.div.attrs(t=>({style:t.$width!==void 0?{width:`${t.$width}px`}:{}}))`
  position: relative;
  background: ${t=>t.$backgroundColor||"transparent"};
`,jA=L.div.attrs(t=>({style:t.$width?{minWidth:`${t.$width}px`}:{}}))`
  background: ${t=>t.$backgroundColor||"white"};
  width: 100%;
  position: relative;
  overflow: hidden; /* Constrain loop region to timescale area */
`,FA=L.div.attrs(t=>({style:t.$width!==void 0?{minWidth:`${t.$width}px`}:{}}))`
  position: relative;
  background: ${t=>t.$backgroundColor||"transparent"};
  width: 100%;
`,LA=L.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  cursor: crosshair;
  /* When selecting, raise z-index above clip boundaries (z-index: 105) to prevent interference */
  z-index: ${t=>t.$isSelecting?110:1};
`,X1=({children:t,backgroundColor:e,timescaleBackgroundColor:n,timescale:r,timescaleWidth:s,tracksWidth:i,scrollContainerWidth:o,controlsWidth:a,onTracksClick:l,onTracksMouseDown:c,onTracksMouseMove:u,onTracksMouseUp:d,scrollContainerRef:h,isSelecting:p,"data-playlist-state":m})=>_.jsx($A,{"data-scroll-container":"true","data-playlist-state":m,ref:h,children:_.jsxs(DA,{$backgroundColor:e,$width:o,children:[r&&_.jsx(jA,{$width:s,$backgroundColor:n,children:r}),_.jsxs(FA,{$width:i,$backgroundColor:e,children:[t,(l||c)&&_.jsx(LA,{$controlsWidth:a,$isSelecting:p,onClick:l,onMouseDown:c,onMouseMove:u,onMouseUp:d})]})]})});_1(X1);var VA=L.div.attrs(t=>({style:{left:`${t.$left}px`,width:`${t.$width}px`}}))`
  position: absolute;
  top: 0;
  background: ${t=>t.$color};
  height: 100%;
  z-index: 60; /* Above clips (z-index: 10) and fades (z-index: 50), below playhead (z-index: 100) */
  pointer-events: none;
  opacity: 0.3;
`,zA=({startPosition:t,endPosition:e,color:n="#00ff00"})=>{const r=Math.max(0,e-t);return r<=0?null:_.jsx(VA,{$left:t,$width:r,$color:n,"data-selection":!0})};L.div.attrs(t=>({style:{left:`${t.$left}px`,width:`${t.$width}px`}}))`
  position: absolute;
  top: 0;
  background: ${t=>t.$color};
  height: 100%;
  z-index: 55; /* Between clips (z-index: 50) and selection (z-index: 60) */
  pointer-events: none;
`;L.div.attrs(t=>({style:{left:`${t.$left}px`}}))`
  position: absolute;
  top: 0;
  width: 2px;
  height: 100%;
  background: ${t=>t.$color};
  z-index: 90; /* Below playhead (z-index: 100) */
  pointer-events: none;

  /* Triangle marker at top */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    ${t=>t.$isStart?"left: 0":"right: 0"};
    width: 0;
    height: 0;
    border-top: 8px solid ${t=>t.$color};
    ${t=>t.$isStart?"border-right: 8px solid transparent;":"border-left: 8px solid transparent;"}
  }
`;var gg=L.div.attrs(t=>({style:{left:`${t.$left}px`}}))`
  position: absolute;
  top: 0;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
  z-index: 100;
  /* Center the handle on the marker position */
  transform: translateX(-5px);

  /* Visual marker line */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 5px;
    width: 2px;
    height: 100%;
    background: ${t=>t.$color};
    opacity: ${t=>t.$isDragging?1:.8};
  }

  /* Triangle marker at top */
  &::after {
    content: '';
    position: absolute;
    top: 0;
    ${t=>t.$isStart?"left: 5px":"left: -1px"};
    width: 0;
    height: 0;
    border-top: 10px solid ${t=>t.$color};
    ${t=>t.$isStart?"border-right: 10px solid transparent;":"border-left: 10px solid transparent;"}
  }

  &:hover::before {
    opacity: 1;
  }
`,BA=L.div.attrs(t=>({style:{left:`${t.$left}px`,width:`${t.$width}px`}}))`
  position: absolute;
  top: 0;
  height: 100%;
  background: ${t=>t.$color};
  z-index: 50;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }
`,WA=({startPosition:t,endPosition:e,markerColor:n="#3b82f6",regionColor:r="rgba(59, 130, 246, 0.3)",onLoopStartChange:s,onLoopEndChange:i,onLoopRegionMove:o,minPosition:a=0,maxPosition:l=1/0})=>{const[c,u]=T.useState(null),d=T.useRef(0),h=T.useRef(0),p=T.useRef(0),m=Math.max(0,e-t),g=T.useCallback((f,v)=>{f.preventDefault(),f.stopPropagation(),u(v),d.current=f.clientX,h.current=v==="start"?t:e;const y=w=>{const S=w.clientX-d.current,k=h.current+S;if(v==="start"){const b=Math.max(a,Math.min(e-10,k));s==null||s(b)}else{const b=Math.max(t+10,Math.min(l,k));i==null||i(b)}},x=()=>{u(null),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",x)},[t,e,a,l,s,i]),C=T.useCallback(f=>{f.preventDefault(),f.stopPropagation(),u("region"),d.current=f.clientX,h.current=t,p.current=e;const v=e-t,y=w=>{const S=w.clientX-d.current;let k=h.current+S,b=p.current+S;k<a&&(k=a,b=a+v),b>l&&(b=l,k=l-v),o==null||o(k,b)},x=()=>{u(null),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",x)},[t,e,a,l,o]);return m<=0?null:_.jsxs(_.Fragment,{children:[_.jsx(BA,{$left:t,$width:m,$color:r,$isDragging:c==="region",onMouseDown:C,"data-loop-region-timescale":!0}),_.jsx(gg,{$left:t,$color:n,$isStart:!0,$isDragging:c==="start",onMouseDown:f=>g(f,"start"),"data-loop-marker-handle":"start"}),_.jsx(gg,{$left:e,$color:n,$isStart:!1,$isDragging:c==="end",onMouseDown:f=>g(f,"end"),"data-loop-marker-handle":"end"})]})},UA=L.div.attrs(t=>({style:{left:`${t.$leftOffset||0}px`}}))`
  position: absolute;
  top: 0;
  right: 0;
  height: 100%; /* Stay within timescale bounds, don't extend into tracks */
  cursor: crosshair;
  z-index: 40; /* Below markers and shading */
`,qA=({startPosition:t,endPosition:e,markerColor:n="#3b82f6",regionColor:r="rgba(59, 130, 246, 0.3)",onLoopRegionChange:s,minPosition:i=0,maxPosition:o=1/0,controlsOffset:a=0})=>{const[l,c]=T.useState(!1),u=T.useRef(0),d=T.useRef(null),h=e>t,p=T.useCallback(m=>{var w;const g=m.target;if(g.closest("[data-loop-marker-handle]")||g.closest("[data-loop-region-timescale]"))return;m.preventDefault(),c(!0);const C=(w=d.current)==null?void 0:w.getBoundingClientRect();if(!C)return;const f=m.clientX-C.left,v=Math.max(i,Math.min(o,f));u.current=v,s==null||s(v,v);const y=S=>{const k=S.clientX-C.left,b=Math.max(i,Math.min(o,k)),N=Math.min(u.current,b),E=Math.max(u.current,b);s==null||s(N,E)},x=()=>{c(!1),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",x)},[i,o,s]);return _.jsx(UA,{ref:d,$leftOffset:a,onMouseDown:p,"data-timescale-loop-creator":!0,children:h&&_.jsx(WA,{startPosition:t,endPosition:e,markerColor:n,regionColor:r,minPosition:i,maxPosition:o,onLoopStartChange:m=>s==null?void 0:s(m,e),onLoopEndChange:m=>s==null?void 0:s(t,m),onLoopRegionMove:(m,g)=>s==null?void 0:s(m,g)})})};function mo(t,e){const n=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,s=(t%60).toFixed(e);return String(n).padStart(2,"0")+":"+String(r).padStart(2,"0")+":"+s.padStart(e+3,"0")}function HA(t,e){switch(e){case"seconds":return t.toFixed(0);case"thousandths":return t.toFixed(3);case"hh:mm:ss":return mo(t,0);case"hh:mm:ss.u":return mo(t,1);case"hh:mm:ss.uu":return mo(t,2);case"hh:mm:ss.uuu":return mo(t,3);default:return mo(t,3)}}function GA(t,e){if(!t)return 0;switch(e){case"seconds":case"thousandths":return parseFloat(t)||0;case"hh:mm:ss":case"hh:mm:ss.u":case"hh:mm:ss.uu":case"hh:mm:ss.uuu":{const n=t.split(":");if(n.length!==3)return 0;const r=parseInt(n[0],10)||0,s=parseInt(n[1],10)||0,i=parseFloat(n[2])||0;return r*3600+s*60+i}default:return 0}}function kl(){return window.devicePixelRatio}var Y1=T.createContext(kl()),ZA=({children:t})=>{const[e,n]=T.useState(kl());return matchMedia(`(resolution: ${kl()}dppx)`).addEventListener("change",()=>{n(kl())},{once:!0}),_.jsx(Y1.Provider,{value:Math.ceil(e),children:t})},Q1=()=>T.useContext(Y1),Qf=T.createContext({sampleRate:48e3,samplesPerPixel:1e3,zoomLevels:[1e3,1500,2e3,2500],waveHeight:80,timeScaleHeight:15,controls:{show:!1,width:150},duration:3e4,barWidth:1,barGap:0}),nu=()=>T.useContext(Qf),Kf=()=>T.useContext(Hs),K1=T.createContext(_.jsx(T.Fragment,{})),XA=()=>T.useContext(K1),YA=0,QA=!1,KA=0,JA=0,eM={progress:YA,isPlaying:QA,selectionStart:KA,selectionEnd:JA};T.createContext(eM);T.createContext({setIsPlaying:()=>{},setProgress:()=>{},setSelection:()=>{}});var tM=({isSelected:t,transparentBackground:e,...n})=>{const r=Kf(),{waveHeight:s,barWidth:i,barGap:o}=nu(),a=Q1(),l=t&&r?r.selectedWaveOutlineColor:r==null?void 0:r.waveOutlineColor,c=t&&r?r.selectedWaveFillColor:r==null?void 0:r.waveFillColor,u=(r==null?void 0:r.waveformDrawMode)||"inverted";return _.jsx(CA,{...n,...r,waveOutlineColor:l,waveFillColor:c,waveHeight:s,devicePixelRatio:a,barWidth:i,barGap:o,transparentBackground:e,drawMode:u})};function nM(t,e,n){return Math.ceil(t*n/e)}function rM(t){const e=Math.floor(t/1e3),n=e%60;return`${(e-n)/60}:${String(n).padStart(2,"0")}`}var sM=L.div.attrs(t=>({style:{width:`${t.$cssWidth}px`,marginLeft:`${t.$controlWidth}px`,height:`${t.$timeScaleHeight}px`}}))`
  position: relative;
  overflow: visible; /* Allow time labels to render above the container */
  border-bottom: 1px solid ${t=>t.theme.timeColor};
  box-sizing: border-box;
`,iM=L.canvas.attrs(t=>({style:{width:`${t.$cssWidth}px`,height:`${t.$timeScaleHeight}px`}}))`
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
`,oM=L.div.attrs(t=>({style:{left:`${t.$left+4}px`}}))`
  position: absolute;
  font-size: 0.75rem; /* Smaller font to prevent overflow */
  white-space: nowrap; /* Prevent text wrapping */
  color: ${t=>t.theme.timeColor}; /* Use theme color instead of inheriting */
`,aM=t=>{const{theme:{timeColor:e},duration:n,marker:r,bigStep:s,secondStep:i,renderTimestamp:o}=t,a=new Map,l=[],c=T.useRef(null),{sampleRate:u,samplesPerPixel:d,timeScaleHeight:h,controls:{show:p,width:m}}=T.useContext(Qf),g=Q1();T.useEffect(()=>{if(c.current!==null){const y=c.current,x=y.getContext("2d");if(x){x.resetTransform(),x.clearRect(0,0,y.width,y.height),x.imageSmoothingEnabled=!1,x.fillStyle=e,x.scale(g,g);for(const[w,S]of a.entries()){const k=h-S;x.fillRect(w,k,1,S)}}}},[n,g,e,h,s,i,r,a]);const C=nM(n/1e3,d,u),f=u/d;let v=0;for(let y=0;y<C;y+=f*i/1e3){const x=Math.floor(y);if(v%r===0){const w=v,S=rM(w),k=o?_.jsx(he.Fragment,{children:o(w,x)},`timestamp-${v}`):_.jsx(oM,{$left:x,children:S},S);l.push(k),a.set(x,h)}else v%s===0?a.set(x,Math.floor(h/2)):v%i===0&&a.set(x,Math.floor(h/5));v+=i}return _.jsxs(sM,{$cssWidth:C,$controlWidth:p?m:0,$timeScaleHeight:h,children:[l,_.jsx(iM,{$cssWidth:C,$timeScaleHeight:h,width:C*g,height:h*g,ref:c})]})},lM=_1(aM);L.div`
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
`;var cM=L.div.attrs(t=>({style:{height:`${t.$waveHeight*t.$numChannels+(t.$hasClipHeaders?H1:0)}px`}}))`
  position: relative;
  display: flex;
  ${t=>t.$width!==void 0&&`width: ${t.$width}px;`}
`,uM=L.div.attrs(t=>({style:{paddingLeft:`${t.$offset||0}px`}}))`
  position: relative;
  background: ${t=>t.$backgroundColor||"transparent"};
  flex: 1;
`,dM=L.div.attrs(t=>({style:{width:`${t.$controlWidth}px`}}))`
  position: sticky;
  z-index: 101; /* Above waveform content, below Docusaurus navbar (z-index: 200) */
  left: 0;
  height: 100%;
  flex-shrink: 0;
  pointer-events: auto;
  background: ${t=>t.theme.surfaceColor};
  transition: background 0.15s ease-in-out;

  /* Selected track: highlighted background */
  ${t=>t.$isSelected&&`
    background: ${t.theme.selectedTrackControlsBackground};
  `}
`,hM=({numChannels:t,children:e,className:n,backgroundColor:r,offset:s=0,width:i,hasClipHeaders:o=!1,onClick:a,trackId:l,isSelected:c=!1})=>{const{waveHeight:u,controls:{show:d,width:h}}=nu(),p=XA();return _.jsxs(cM,{$numChannels:t,className:n,$waveHeight:u,$controlWidth:d?h:0,$width:i,$hasClipHeaders:o,$isSelected:c,children:[_.jsx(dM,{$controlWidth:d?h:0,$isSelected:c,children:p}),_.jsx(uM,{$controlWidth:d?h:0,$backgroundColor:r,$offset:s,onClick:a,"data-track-id":l,children:e})]})},vg=L.button.attrs({type:"button"})`
  display: inline-block;
  font-family: ${t=>t.theme.fontFamily};
  font-weight: 500;
  text-align: center;
  vertical-align: middle;
  user-select: none;
  padding: 0.25rem 0.4rem;
  font-size: ${t=>t.theme.fontSizeSmall};
  line-height: 1;
  border-radius: ${t=>t.theme.borderRadius};
  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,
    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  cursor: pointer;

  ${t=>t.$variant==="danger"?`
        color: #fff;
        background-color: #dc3545;
        border: 1px solid #dc3545;

        &:hover {
          background-color: #c82333;
          border-color: #bd2130;
        }

        &:focus {
          outline: none;
          box-shadow: 0 0 0 0.2rem rgba(225, 83, 97, 0.5);
        }
      `:t.$variant==="info"?`
        color: #fff;
        background-color: #17a2b8;
        border: 1px solid #17a2b8;

        &:hover {
          background-color: #138496;
          border-color: #117a8b;
        }

        &:focus {
          outline: none;
          box-shadow: 0 0 0 0.2rem rgba(58, 176, 195, 0.5);
        }
      `:`
        color: ${t.theme.textColor};
        background-color: transparent;
        border: 1px solid ${t.theme.borderColor};

        &:hover {
          color: #fff;
          background-color: ${t.theme.textColor};
          border-color: ${t.theme.textColor};
        }

        &:focus {
          outline: none;
          box-shadow: 0 0 0 0.2rem ${t.theme.inputFocusBorder}33;
        }
      `}
`,fM=L.div`
  margin-bottom: 0.3rem;

  button:not(:first-child) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  button:not(:last-child) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }
`,pM=L.div`
  background: transparent;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  overflow: hidden;
  box-sizing: border-box;
  text-align: center;
  border: 1px solid ${t=>t.theme.borderColor};
  border-radius: ${t=>t.theme.borderRadius};
`,mM=L.header`
  overflow: hidden;
  height: 26px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 0.2rem;
  font-size: ${t=>t.theme.fontSizeSmall};
  color: ${t=>t.theme.textColor};
  background-color: transparent;
`,gM=t=>_.jsx(z1,{weight:"light",...t}),vM=t=>_.jsx(V1,{weight:"light",...t}),yg=L(U1)`
  width: 75%;
  height: 5px;
  background: ${t=>t.theme.sliderTrackColor};

  &::-webkit-slider-thumb {
    width: 12px;
    height: 12px;
    background: ${t=>t.theme.sliderThumbColor};
    border: none;
    margin-top: -4px;
    cursor: ew-resize;
  }

  &::-moz-range-thumb {
    width: 12px;
    height: 12px;
    background: ${t=>t.theme.sliderThumbColor};
    border: none;
    cursor: ew-resize;
  }

  &::-webkit-slider-runnable-track {
    height: 5px;
    background: ${t=>t.theme.sliderTrackColor};
    border-radius: 3px;
  }

  &::-moz-range-track {
    height: 5px;
    background: ${t=>t.theme.sliderTrackColor};
    border-radius: 3px;
  }

  &:focus::-webkit-slider-runnable-track {
    background: ${t=>t.theme.inputBorder};
  }

  &:focus::-moz-range-track {
    background: ${t=>t.theme.inputBorder};
  }

  &:focus::-webkit-slider-thumb {
    border: 2px solid ${t=>t.theme.textColor};
  }

  &:focus::-moz-range-thumb {
    border: 2px solid ${t=>t.theme.textColor};
  }
`,wg=L.label`
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 1rem;
  margin-bottom: 0.2rem;
  font-size: 14px;
`;L.div`
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.5rem 0.5rem 0.25rem 0.5rem;
`;L.span`
  flex: 1;
  font-weight: 600;
  font-size: 0.875rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin: 0 0.25rem;
`;L.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  padding: 0;
  border: none;
  background: transparent;
  color: #999;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
  border-radius: 3px;
  transition: all 0.2s ease-in-out;
  flex-shrink: 0;

  &:hover {
    background: #dc3545;
    color: white;
  }

  &:active {
    transform: scale(0.9);
  }
`;function yM(t){let e=1/0,n=-1/0;for(let r=0;r<t.length;r++){const s=t[r];e>s&&(e=s),n<s&&(n=s)}return{min:e,max:n}}function _g(t,e){const n=Math.pow(2,e-1),r=t<0?t*n:t*(n-1);return Math.max(-n,Math.min(n-1,r))}function J1(t,e){switch(t){case 8:return new Int8Array(e);case 16:return new Int16Array(e)}}function xg(t,e,n){const r=t.length,s=Math.ceil(r/e),i=J1(n,s*2);for(let o=0;o<s;o++){const a=o*e,l=Math.min((o+1)*e,r),c=t.subarray(a,l),u=yM(c),d=_g(u.min,n),h=_g(u.max,n);i[o*2]=d,i[o*2+1]=h}return i}function wM(t,e){const n=t.length,r=1/n,s=t[0].length/2,i=J1(e,s*2);for(let o=0;o<s;o++){let a=0,l=0;for(let c=0;c<n;c++)a+=r*t[c][o*2],l+=r*t[c][o*2+1];i[o*2]=a,i[o*2+1]=l}return[i]}function _M(t,e=1e3,n=!0,r=0,s,i=16){if(i!==8&&i!==16)throw new Error("Invalid number of bits specified for peaks. Must be 8 or 16.");let o=[];if("getChannelData"in t){const a=t.numberOfChannels,l=s??t.length;for(let c=0;c<a;c++){const u=t.getChannelData(c).subarray(r,l);o.push(xg(u,e,i))}}else{const a=s??t.length,l=t.subarray(r,a);o.push(xg(l,e,i))}return n&&o.length>1&&(o=wM(o,i)),{length:o[0].length/2,data:o,bits:i}}function xM(t,e=1e3,n=!0,r=8,s=0,i){const o=i!==void 0?s+i:void 0;return _M(t,e,n,s,o,r)}function SM(t,e,n=0,r,s){let i=t;if(r!==void 0&&s!==void 0){const h=t.scale,p=Math.floor(r/h),m=Math.ceil((r+s)/h);i=i.slice({startIndex:p,endIndex:m})}i.scale!==e&&(i=i.resample({scale:e}));const o=i.channel(n),a=i.bits,l=o.min_array(),c=o.max_array(),u=l.length,d=a===8?new Int8Array(u*2):new Int16Array(u*2);for(let h=0;h<u;h++)d[h*2]=l[h],d[h*2+1]=c[h];return{data:d,bits:a,length:u}}function kM(t){return{id:t.id,start:parseFloat(t.begin),end:parseFloat(t.end),lines:t.lines,lang:t.language}}L.div.attrs(t=>({style:{left:`${t.$left}px`,width:`${t.$width}px`}}))`
  position: absolute;
  top: 0;
  background: ${t=>t.$color};
  height: 100%;
  z-index: 10;
  pointer-events: auto;
  opacity: 0.3;
  border: 2px solid ${t=>t.$color};
  border-radius: 4px;
  cursor: pointer;

  &:hover {
    opacity: 0.5;
    border-color: ${t=>t.$color};
  }
`;L.div`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 4px 8px;
  font-size: 12px;
  line-height: 1.3;
  max-height: 60%;
  overflow: hidden;
  text-overflow: ellipsis;
  pointer-events: none;
  white-space: pre-wrap;
  word-break: break-word;
`;L.textarea`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.9);
  color: white;
  padding: 4px 8px;
  font-size: 12px;
  line-height: 1.3;
  max-height: 60%;
  overflow: auto;
  border: 1px solid #fff;
  resize: none;
  font-family: inherit;

  &:focus {
    outline: none;
    border-color: #4CAF50;
  }
`;L.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  gap: 4px;
  padding: 4px;
  justify-content: flex-start;
  align-items: center;
`;L.button`
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.5);
  color: white;
  padding: 4px 8px;
  font-size: 10px;
  cursor: pointer;
  border-radius: 3px;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  height: 24px;

  &:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: white;
  }

  &:active {
    background: rgba(255, 255, 255, 0.3);
  }
`;var CM=L.div.attrs(t=>({style:{left:`${t.$left}px`,width:`${t.$width}px`}}))`
  position: absolute;
  top: 0;
  height: 100%;
  pointer-events: none; /* Let events pass through to children */
`,bM=L.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background: ${t=>{var e,n;return t.$isActive?((e=t.theme)==null?void 0:e.annotationBoxActiveBackground)||"rgba(255, 200, 100, 0.95)":((n=t.theme)==null?void 0:n.annotationBoxBackground)||"rgba(255, 255, 255, 0.85)"}};
  border: ${t=>t.$isActive?"3px":"2px"} solid ${t=>{var e;return t.$isActive?((e=t.theme)==null?void 0:e.annotationBoxActiveBorder)||"#ff9800":t.$color}};
  border-radius: 4px;
  cursor: pointer;
  pointer-events: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  transition: all 0.2s ease;
  box-shadow: ${t=>t.$isActive?"0 2px 8px rgba(255, 152, 0, 0.4), inset 0 0 0 1px rgba(255, 152, 0, 0.2)":"0 1px 3px rgba(0, 0, 0, 0.1)"};

  &:hover {
    background: ${t=>{var e;return((e=t.theme)==null?void 0:e.annotationBoxHoverBackground)||"rgba(255, 255, 255, 0.98)"}};
    border-color: ${t=>{var e;return((e=t.theme)==null?void 0:e.annotationBoxActiveBorder)||"#ff9800"}};
    border-width: 3px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  }
`,TM=L.span`
  font-size: 12px;
  font-weight: 600;
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.annotationLabelColor)||"#2a2a2a"}};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 0 6px;
  letter-spacing: 0.3px;
  user-select: none;
`,Sg=L.div`
  position: absolute;
  top: 0;
  ${t=>t.$position==="left"?"left: -8px":"right: -8px"};
  width: 16px;
  height: 100%;
  cursor: ew-resize;
  z-index: 120; /* Above ClickOverlay (z-index: 100) and AnnotationBoxesWrapper (z-index: 110) */
  background: ${t=>{var e;return t.$isDragging?((e=t.theme)==null?void 0:e.annotationResizeHandleColor)||"rgba(0, 0, 0, 0.2)":"transparent"}};
  border-radius: 4px;
  touch-action: none; /* Important for @dnd-kit on touch devices */
  pointer-events: auto;

  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 4px;
    height: 60%;
    background: ${t=>{var e,n;return t.$isDragging?((e=t.theme)==null?void 0:e.annotationResizeHandleActiveColor)||"rgba(0, 0, 0, 0.8)":((n=t.theme)==null?void 0:n.annotationResizeHandleColor)||"rgba(0, 0, 0, 0.4)"}};
    border-radius: 2px;
    opacity: ${t=>t.$isDragging?1:.6};
    transition: opacity 0.2s, background 0.2s;
  }

  &:hover {
    background: ${t=>{var e;return((e=t.theme)==null?void 0:e.annotationResizeHandleColor)||"rgba(0, 0, 0, 0.1)"}};
  }

  &:hover::before {
    opacity: 1;
    background: ${t=>{var e;return((e=t.theme)==null?void 0:e.annotationResizeHandleActiveColor)||"rgba(0, 0, 0, 0.7)"}};
  }
`,EM=({annotationId:t,annotationIndex:e,startPosition:n,endPosition:r,label:s,color:i="#ff9800",isActive:o=!1,onClick:a,editable:l=!0})=>{const c=Math.max(0,r-n),u=`annotation-boundary-start-${e}`,{attributes:d,listeners:h,setActivatorNodeRef:p,isDragging:m}=jo({id:u,data:{annotationId:t,annotationIndex:e,edge:"start"},disabled:!l}),g=`annotation-boundary-end-${e}`,{attributes:C,listeners:f,setActivatorNodeRef:v,isDragging:y}=jo({id:g,data:{annotationId:t,annotationIndex:e,edge:"end"},disabled:!l});if(c<=0)return null;const x=S=>k=>{k.stopPropagation(),S==null||S(k)},w=S=>{S.stopPropagation()};return _.jsxs(CM,{$left:n,$width:c,children:[_.jsx(bM,{$color:i,$isActive:o,onClick:a,children:s&&_.jsx(TM,{children:s})}),l&&_.jsx(Sg,{ref:p,$position:"left",$isDragging:m,onClick:w,...h,onPointerDown:x(h==null?void 0:h.onPointerDown),...d}),l&&_.jsx(Sg,{ref:v,$position:"right",$isDragging:y,onClick:w,...f,onPointerDown:x(f==null?void 0:f.onPointerDown),...C})]})},NM=L.div.attrs(t=>({style:{height:`${t.$height}px`}}))`
  position: relative;
  display: flex;
  ${t=>t.$width!==void 0&&`width: ${t.$width}px;`}
  background: transparent;
  z-index: 110;
`,AM=L.div`
  position: sticky;
  z-index: 200;
  left: 0;
  height: 100%;
  width: ${t=>t.$controlWidth}px;
  flex-shrink: 0;
  background: transparent;
`,MM=L.div`
  position: relative;
  flex: 1;
  padding-left: ${t=>t.$offset||0}px;
`,RM=({children:t,className:e,height:n=30,offset:r=0,width:s})=>{const{controls:{show:i,width:o}}=nu();return _.jsxs(NM,{className:e,$height:n,$controlWidth:i?o:0,$width:s,children:[_.jsx(AM,{$controlWidth:i?o:0}),_.jsx(MM,{$offset:r,children:t})]})};L.div.attrs(t=>({style:{height:`${t.$height}px`}}))`
  position: relative;
  display: flex;
  ${t=>t.$width!==void 0&&`width: ${t.$width}px;`}
  background: transparent;
`;L.div`
  position: sticky;
  z-index: 200;
  left: 0;
  height: 100%;
  width: ${t=>t.$controlWidth}px;
  flex-shrink: 0;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColorMuted)||"#666"}};
  font-weight: bold;
`;L.div`
  position: relative;
  flex: 1;
  padding-left: ${t=>t.$offset||0}px;
`;var OM=L.div`
  background: ${t=>{var e;return((e=t.theme)==null?void 0:e.backgroundColor)||"#fff"}};
  ${t=>t.$height?`height: ${t.$height}px;`:"max-height: 200px;"}
  overflow-y: auto;
  padding: 8px;
`,IM=L.div`
  padding: 12px;
  margin-bottom: 6px;
  border-left: 4px solid ${t=>t.$isActive?"#ff9800":"transparent"};
  background: ${t=>t.$isActive?"rgba(255, 152, 0, 0.15)":"transparent"};
  border-radius: 4px;
  transition: all 0.2s;
  cursor: pointer;
  box-shadow: ${t=>t.$isActive?"0 2px 8px rgba(255, 152, 0, 0.25), inset 0 0 0 1px rgba(255, 152, 0, 0.3)":"none"};

  &:hover {
    background: ${t=>{var e;return t.$isActive?"rgba(255, 152, 0, 0.2)":((e=t.theme)==null?void 0:e.annotationTextItemHoverBackground)||"rgba(0, 0, 0, 0.05)"}};
    border-left-color: ${t=>{var e;return t.$isActive?"#ff9800":((e=t.theme)==null?void 0:e.borderColor)||"#ddd"}};
  }

  &:focus-visible {
    outline: 2px solid #ff9800;
    outline-offset: 2px;
  }
`,PM=L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
`,$M=L.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,DM=L.span`
  font-size: 11px;
  font-weight: 600;
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColorMuted)||"#666"}};
  background: transparent;
  padding: 2px 6px;
  border-radius: 3px;
  min-width: 20px;
  outline: ${t=>{var e;return t.$isEditable?`1px dashed ${((e=t.theme)==null?void 0:e.borderColor)||"#ddd"}`:"none"}};

  &[contenteditable='true']:focus {
    outline: 2px solid #ff9800;
    background: rgba(255, 152, 0, 0.1);
  }
`,jM=L.span`
  font-size: 12px;
  font-weight: 500;
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColorMuted)||"#555"}};
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  letter-spacing: 0.5px;
`,FM=L.div`
  display: flex;
  gap: 6px;
`,LM=L.button`
  background: ${t=>{var e;return((e=t.theme)==null?void 0:e.surfaceColor)||"#f5f5f5"}};
  border: 1px solid ${t=>{var e;return((e=t.theme)==null?void 0:e.borderColor)||"#ccc"}};
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColor)||"#333"}};
  padding: 4px 8px;
  font-size: 14px;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.15s ease;

  &:hover {
    background: ${t=>{var e;return((e=t.theme)==null?void 0:e.inputBackground)||"#3d3d3d"}};
    border-color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColorMuted)||"#999"}};
    transform: scale(1.05);
  }

  &:active {
    transform: scale(0.95);
  }
`,VM=L.div`
  font-size: 14px;
  line-height: 1.6;
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColor)||"#2a2a2a"}};
  white-space: pre-wrap;
  word-break: break-word;
  outline: ${t=>{var e;return t.$isEditable?`1px dashed ${((e=t.theme)==null?void 0:e.borderColor)||"#ddd"}`:"none"}};
  padding: ${t=>t.$isEditable?"6px":"0"};
  border-radius: 3px;
  min-height: 20px;

  &[contenteditable='true']:focus {
    outline: 2px solid #ff9800;
    background: rgba(255, 152, 0, 0.1);
  }
`,zM=({annotations:t,activeAnnotationId:e,shouldScrollToActive:n=!1,scrollActivePosition:r="center",scrollActiveContainer:s="nearest",editable:i=!1,controls:o=[],annotationListConfig:a,height:l,onAnnotationClick:c,onAnnotationUpdate:u,renderAnnotationItem:d})=>{const h=T.useRef(null),p=T.useRef(null),m=T.useRef(void 0);T.useEffect(()=>{}),T.useEffect(()=>{const x=p.current;if(!x)return;const w=()=>{};return x.addEventListener("scroll",w),()=>x.removeEventListener("scroll",w)},[]),T.useEffect(()=>{e&&h.current&&n&&h.current.scrollIntoView({behavior:"smooth",block:r,container:s}),m.current=e},[e,n,r,s]);const g=x=>{if(isNaN(x)||!isFinite(x))return"0:00.000";const w=Math.floor(x/60),S=(x%60).toFixed(3);return`${w}:${S.padStart(6,"0")}`},C=(x,w)=>{if(!i||!u)return;const S=[...t];S[x]={...S[x],lines:w.split(`
`)},u(S)},f=(x,w)=>{if(!i||!u)return;const S=w.trim();if(!S)return;const k=[...t];k[x]={...k[x],id:S},u(k)},v=(x,w,S)=>{if(!u)return;const k=[...t];x.action(k[S],S,k,a||{}),u(k)},y=x=>x.replace(/\./g," ");return _.jsx(OM,{ref:p,$height:l,children:t.map((x,w)=>{const S=x.id===e,k=()=>c==null?void 0:c(x);return d?_.jsx("div",{ref:S?h:null,children:d({annotation:x,index:w,isActive:S,onClick:k,formatTime:g})},x.id):_.jsxs(IM,{ref:S?h:null,$isActive:S,onClick:k,children:[_.jsxs(PM,{children:[_.jsxs($M,{children:[_.jsx(DM,{$isEditable:i,contentEditable:i,suppressContentEditableWarning:!0,onBlur:b=>f(w,b.currentTarget.textContent||""),children:x.id}),_.jsxs(jM,{children:[g(x.start)," - ",g(x.end)]})]}),o.length>0&&_.jsx(FM,{onClick:b=>b.stopPropagation(),children:o.map((b,N)=>_.jsx(LM,{title:b.title,onClick:()=>v(b,x,w),children:b.text?b.text:_.jsx("i",{className:y(b.class||"")})},N))})]}),_.jsx(VM,{$isEditable:i,contentEditable:i,suppressContentEditableWarning:!0,onBlur:b=>C(w,b.currentTarget.textContent||""),children:x.lines.join(`
`)})]},x.id)})})},BM=he.memo(zM);L.button`
  padding: 0.5rem 1rem;
  background: ${t=>{var e;return((e=t.theme)==null?void 0:e.surfaceColor)||"#f5f5f5"}};
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColor)||"#333"}};
  border: 1px solid ${t=>{var e;return((e=t.theme)==null?void 0:e.borderColor)||"#ccc"}};
  border-radius: ${t=>{var e;return((e=t.theme)==null?void 0:e.borderRadius)||"4px"}};
  cursor: pointer;
  font-family: ${t=>{var e;return((e=t.theme)==null?void 0:e.fontFamily)||"inherit"}};
  font-size: ${t=>{var e;return((e=t.theme)==null?void 0:e.fontSize)||"14px"}};
  font-weight: 500;
  transition: all 0.15s ease;

  &:hover:not(:disabled) {
    background: ${t=>{var e;return((e=t.theme)==null?void 0:e.inputBackground)||"#3d3d3d"}};
    border-color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColorMuted)||"#999"}};
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px ${t=>{var e;return((e=t.theme)==null?void 0:e.inputFocusBorder)||"#007bff"}}44;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`;function WM(){const[t,e]=T.useState("hh:mm:ss.uuu");return{timeFormat:t,setTimeFormat:e,formatTime:n=>HA(n,t),parseTime:n=>GA(n,t)}}const UM=[256,512,1024,2048,4096,8192];function qM({initialSamplesPerPixel:t,zoomLevels:e=UM}){const[n,r]=T.useState(()=>{const c=e.indexOf(t);return c!==-1?c:Math.floor(e.length/2)}),s=e[n],i=n>0,o=n<e.length-1,a=T.useCallback(()=>{r(c=>Math.max(0,c-1))},[]),l=T.useCallback(()=>{r(c=>Math.min(e.length-1,c+1))},[e.length]);return{samplesPerPixel:s,zoomIn:a,zoomOut:l,canZoomIn:i,canZoomOut:o}}function HM({playoutRef:t,initialVolume:e=1,onVolumeChange:n}){const[r,s]=T.useState(e),i=T.useCallback(o=>{s(o),t.current&&t.current.setMasterGain(o),n==null||n(o)},[t,n]);return{masterVolume:r,setMasterVolume:i}}function rh(t){const{audioBuffer:e,startSample:n,offsetSamples:r=0,gain:s=1,name:i,color:o,fadeIn:a,fadeOut:l,waveformData:c}=t,u=(e==null?void 0:e.sampleRate)??t.sampleRate??(c==null?void 0:c.sample_rate),d=(e==null?void 0:e.length)??t.sourceDurationSamples??(c&&u?Math.ceil(c.duration*u):void 0);if(u===void 0)throw new Error("createClip: sampleRate is required when audioBuffer is not provided (can use waveformData.sample_rate)");if(d===void 0)throw new Error("createClip: sourceDurationSamples is required when audioBuffer is not provided (can use waveformData.duration)");e&&c&&e.sampleRate!==c.sample_rate&&console.warn(`Sample rate mismatch: audioBuffer (${e.sampleRate}) vs waveformData (${c.sample_rate}). Using audioBuffer sample rate. Waveform visualization may be slightly off.`);const h=t.durationSamples??d;return{id:ew(),audioBuffer:e,startSample:n,durationSamples:h,offsetSamples:r,sampleRate:u,sourceDurationSamples:d,gain:s,name:i,color:o,fadeIn:a,fadeOut:l,waveformData:c}}function GM(t){const{audioBuffer:e,startTime:n,offset:r=0,gain:s=1,name:i,color:o,fadeIn:a,fadeOut:l,waveformData:c}=t,u=(e==null?void 0:e.sampleRate)??t.sampleRate??(c==null?void 0:c.sample_rate);if(u===void 0)throw new Error("createClipFromSeconds: sampleRate is required when audioBuffer is not provided (can use waveformData.sample_rate)");const d=(e==null?void 0:e.duration)??t.sourceDuration??(c==null?void 0:c.duration);if(d===void 0)throw new Error("createClipFromSeconds: sourceDuration is required when audioBuffer is not provided (can use waveformData.duration)");e&&c&&e.sampleRate!==c.sample_rate&&console.warn(`Sample rate mismatch: audioBuffer (${e.sampleRate}) vs waveformData (${c.sample_rate}). Using audioBuffer sample rate. Waveform visualization may be slightly off.`);const h=t.duration??d;return rh({audioBuffer:e,startSample:Math.round(n*u),durationSamples:Math.round(h*u),offsetSamples:Math.round(r*u),sampleRate:u,sourceDurationSamples:Math.ceil(d*u),gain:s,name:i,color:o,fadeIn:a,fadeOut:l,waveformData:c})}function ZM(t){const{name:e,clips:n=[],muted:r=!1,soloed:s=!1,volume:i=1,pan:o=0,color:a,height:l}=t;return{id:ew(),name:e,clips:n,muted:r,soloed:s,volume:i,pan:o,color:a,height:l}}function ew(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function tw(t,e={}){const{progressive:n=!1}=e,[r,s]=T.useState([]),[i,o]=T.useState(!0),[a,l]=T.useState(null),[c,u]=T.useState(0),d=t.length;return T.useEffect(()=>{if(t.length===0){s([]),o(!1),u(0);return}let h=!1;const p=new Map,m=(g,C,f)=>{var w;const v=f??g.audioBuffer;if(!v&&!g.waveformData)throw new Error(`Track ${C+1}: Must provide src, audioBuffer, or waveformData`);const y=(v==null?void 0:v.duration)??((w=g.waveformData)==null?void 0:w.duration),x=GM({audioBuffer:v,startTime:g.startTime??0,duration:g.duration??y,offset:g.offset??0,name:g.name||`Track ${C+1}`,fadeIn:g.fadeIn,fadeOut:g.fadeOut,waveformData:g.waveformData});if(isNaN(x.startSample)||isNaN(x.durationSamples)||isNaN(x.offsetSamples))throw console.error("Invalid clip values:",x),new Error(`Invalid clip values for track ${C+1}`);return{...ZM({name:g.name||`Track ${C+1}`,clips:[x],muted:g.muted??!1,soloed:g.soloed??!1,volume:g.volume??1,pan:g.pan??0,color:g.color}),effects:g.effects}};return(async()=>{try{o(!0),l(null),u(0);const g=Me().rawContext,C=t.map(async(v,y)=>{if(v.audioBuffer){const b=m(v,y,v.audioBuffer);return n&&!h&&(p.set(y,b),u(N=>N+1),s(Array.from({length:t.length},(N,E)=>p.get(E)).filter(N=>N!==void 0))),b}if(!v.src&&v.waveformData){const b=m(v,y);return n&&!h&&(p.set(y,b),u(N=>N+1),s(Array.from({length:t.length},(N,E)=>p.get(E)).filter(N=>N!==void 0))),b}if(!v.src)throw new Error(`Track ${y+1}: Must provide src, audioBuffer, or waveformData`);const x=await fetch(v.src);if(!x.ok)throw new Error(`Failed to fetch ${v.src}: ${x.statusText}`);const w=await x.arrayBuffer(),S=await g.decodeAudioData(w);if(!S||!S.sampleRate||!S.duration)throw new Error(`Invalid audio buffer for ${v.src}`);const k=m(v,y,S);return n&&!h&&(p.set(y,k),u(b=>b+1),s(Array.from({length:t.length},(b,N)=>p.get(N)).filter(b=>b!==void 0))),k}),f=await Promise.all(C);h||(n||(s(f),u(f.length)),o(!1))}catch(g){if(!h){const C=g instanceof Error?g.message:"Unknown error loading audio";l(C),o(!1),console.error("Error loading audio tracks:",g)}}})(),()=>{h=!0}},[t,n]),{tracks:r,loading:i,error:a,loadedCount:c,totalCount:d}}function XM({tracks:t,onTracksChange:e,samplesPerPixel:n,sampleRate:r}){const s=he.useRef(null),i=he.useCallback(c=>{var E;const{transform:u,active:d}=c;if(!((E=d==null?void 0:d.data)!=null&&E.current))return{...u,scaleX:1,scaleY:1};const{trackIndex:h,clipIndex:p,boundary:m}=d.data.current;if(m)return{...u,scaleX:1,scaleY:1};const g=t[h];if(!g)return{...u,scaleX:1,scaleY:1};const C=g.clips[p];if(!C)return{...u,scaleX:1,scaleY:1};const f=C.startSample/r,v=C.durationSamples/r,y=u.x*n/r;let x=f+y;const w=[...g.clips].sort((A,M)=>A.startSample-M.startSample),S=w.findIndex(A=>A===C);x=Math.max(0,x);const k=S>0?w[S-1]:null;if(k){const A=(k.startSample+k.durationSamples)/r;x=Math.max(x,A)}const b=S<w.length-1?w[S+1]:null;if(b){const A=x+v,M=b.startSample/r;A>M&&(x=M-v)}const N=(x-f)*r/n;return{...u,x:N,scaleX:1,scaleY:1}},[t,n,r]),o=he.useCallback(c=>{var g;const{active:u}=c,{boundary:d}=u.data.current;if(!d){s.current=null;return}const{trackIndex:h,clipIndex:p}=u.data.current,m=(g=t[h])==null?void 0:g.clips[p];m&&(s.current={offsetSamples:m.offsetSamples,durationSamples:m.durationSamples,startSample:m.startSample})},[t]),a=he.useCallback(c=>{const{active:u,delta:d}=c,{boundary:h}=u.data.current;if(!h||!s.current)return;const{trackIndex:p,clipIndex:m}=u.data.current,g=d.x*n,C=Math.floor(.1*r),f=s.current,v=t.map((y,x)=>{if(x!==p)return y;const w=[...y.clips].sort((b,N)=>b.startSample-N.startSample),S=w.findIndex(b=>b===y.clips[m]),k=y.clips.map((b,N)=>{if(N!==m)return b;const E=b.sourceDurationSamples;if(h==="left"){let A=Math.floor(g);const M=-f.startSample;A<M&&(A=M);const j=-f.offsetSamples;A<j&&(A=j);const D=S>0?w[S-1]:null;if(D){const O=D.startSample+D.durationSamples-f.startSample;A<O&&(A=O)}const P=f.durationSamples-C;A>P&&(A=P);const $=f.offsetSamples+A,F=f.durationSamples-A,R=f.startSample+A;return{...b,offsetSamples:$,durationSamples:F,startSample:R}}else{let A=Math.floor(f.durationSamples+g);A=Math.max(C,A),f.offsetSamples+A>E&&(A=E-f.offsetSamples);const M=S<w.length-1?w[S+1]:null;return M&&f.startSample+A>M.startSample&&(A=M.startSample-f.startSample,A=Math.max(C,A)),{...b,durationSamples:A}}});return{...y,clips:k}});e(v)},[t,e,n,r]),l=he.useCallback(c=>{const{active:u,delta:d}=c,{trackIndex:h,clipIndex:p,boundary:m}=u.data.current,g=d.x*n;if(m){s.current=null;return}const C=t.map((f,v)=>{if(v!==h)return f;const y=[...f.clips].sort((S,k)=>S.startSample-k.startSample),x=y.findIndex(S=>S===f.clips[p]),w=f.clips.map((S,k)=>{if(k!==p)return S;let b=Math.floor(S.startSample+g);b=Math.max(0,b);const N=x>0?y[x-1]:null;if(N){const A=N.startSample+N.durationSamples;b=Math.max(b,A)}const E=x<y.length-1?y[x+1]:null;return E&&b+S.durationSamples>E.startSample&&(b=E.startSample-S.durationSamples),{...S,startSample:b}});return{...f,clips:w}});e(C)},[t,e,n,r]);return{onDragStart:o,onDragMove:a,onDragEnd:l,collisionModifier:i}}function YM(t={}){const{touchOptimized:e=!1,touchDelay:n=250,touchTolerance:r=5,mouseDistance:s=1}=t,i=ju(P1,{activationConstraint:{distance:s}}),o=ju($1,{activationConstraint:e?{delay:n,tolerance:r}:{distance:s}}),a=ju(Hf,{activationConstraint:{distance:s}});return oN(...e?[i,o]:[a])}const QM=t=>{const{tracks:e,onTracksChange:n,sampleRate:r}=t,{currentTimeRef:s}=Tn(),{selectedTrackId:i}=Jf(),o=T.useCallback((a,l,c)=>{const{sampleRate:u,samplesPerPixel:d}=t,h=e[a];if(!h)return!1;const p=h.clips[l];if(!p)return!1;const m=p.startSample/u,g=(p.startSample+p.durationSamples)/u;if(c<=m||c>=g)return console.warn("Split time is outside clip bounds"),!1;const C=Math.round(c*u),f=Math.floor(C/d),v=p.startSample+p.durationSamples,y=f*d,x=p.startSample,w=y-x,S=y,k=v-S,b=y-p.startSample,N=rh({audioBuffer:p.audioBuffer,startSample:x,durationSamples:w,offsetSamples:p.offsetSamples,sampleRate:p.sampleRate,sourceDurationSamples:p.sourceDurationSamples,gain:p.gain,name:p.name?`${p.name} (1)`:void 0,color:p.color,fadeIn:p.fadeIn,waveformData:p.waveformData}),E=rh({audioBuffer:p.audioBuffer,startSample:S,durationSamples:k,offsetSamples:p.offsetSamples+b,sampleRate:p.sampleRate,sourceDurationSamples:p.sourceDurationSamples,gain:p.gain,name:p.name?`${p.name} (2)`:void 0,color:p.color,waveformData:p.waveformData,fadeOut:p.fadeOut}),A=[...h.clips];A.splice(l,1,N,E);const M=[...e];return M[a]={...h,clips:A},n(M),!0},[e,n,t]);return{splitClipAtPlayhead:T.useCallback(()=>{if(!i)return console.log("No track selected - click a clip to select a track first"),!1;const a=e.findIndex(u=>u.id===i);if(a===-1)return console.warn("Selected track not found"),!1;const l=e[a],c=s.current??0;for(let u=0;u<l.clips.length;u++){const d=l.clips[u],h=d.startSample/r,p=(d.startSample+d.durationSamples)/r;if(c>h&&c<p)return console.log(`Splitting clip on track "${l.name}" at ${c}s`),o(a,u,c)}return console.log(`No clip found at playhead position on track "${l.name}"`),!1},[e,s,i,o,r]),splitClipAt:o}};L.button`
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  border: none;
  border-radius: 0.25rem;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  background: ${t=>t.$isRecording?"#dc3545":"#e74c3c"};
  color: white;

  &:hover:not(:disabled) {
    background: ${t=>t.$isRecording?"#c82333":"#c0392b"};
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.3);
  }
`;L.span`
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: white;
  margin-right: 0.5rem;
  animation: pulse 1.5s ease-in-out infinite;

  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.3;
    }
  }
`;L(W1)`
  min-width: 200px;
`;L(B1)`
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
`;L.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.5rem 0.75rem;
  background: ${t=>t.$isRecording?"#fff3cd":"transparent"};
  border-radius: 0.25rem;
  transition: background 0.2s ease-in-out;
`;L.div`
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: ${t=>t.$isPaused?"#ffc107":"#dc3545"};
  opacity: ${t=>t.$isRecording?1:0};
  transition: opacity 0.2s ease-in-out;

  ${t=>t.$isRecording&&!t.$isPaused&&`
    animation: blink 1.5s ease-in-out infinite;

    @keyframes blink {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.3;
      }
    }
  `}
`;L.span`
  font-family: 'Courier New', Monaco, monospace;
  font-size: 1rem;
  font-weight: 600;
  color: #495057;
  min-width: 70px;
`;L.span`
  font-size: 0.75rem;
  font-weight: 500;
  color: ${t=>t.$isPaused?"#ffc107":"#dc3545"};
  text-transform: uppercase;
`;var KM=L.div`
  position: relative;
  width: ${t=>t.$width}px;
  height: ${t=>t.$height}px;
  background: #2c3e50;
  border-radius: 4px;
  overflow: hidden;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
`,JM=t=>t<.6?"linear-gradient(90deg, #27ae60, #2ecc71)":t<.85?"linear-gradient(90deg, #f39c12, #f1c40f)":"linear-gradient(90deg, #c0392b, #e74c3c)",eR=L.div.attrs(t=>({style:{width:`${t.$level*100}%`,height:`${t.$height}px`,background:JM(t.$level),boxShadow:t.$level>.01?"0 0 8px rgba(255, 255, 255, 0.3)":"none"}}))`
  position: absolute;
  left: 0;
  top: 0;
  transition: width 0.05s ease-out, background 0.1s ease-out;
`,tR=L.div.attrs(t=>({style:{left:`${t.$peakLevel*100}%`,height:`${t.$height}px`}}))`
  position: absolute;
  top: 0;
  width: 2px;
  background: #ecf0f1;
  box-shadow: 0 0 4px rgba(236, 240, 241, 0.8);
  transition: left 0.1s ease-out;
`,nR=L.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: ${t=>t.$height}px;
  pointer-events: none;
`,kg=L.div`
  position: absolute;
  left: ${t=>t.$position}%;
  top: 0;
  width: 1px;
  height: ${t=>t.$height}px;
  background: rgba(255, 255, 255, 0.2);
`,rR=({level:t,peakLevel:e,width:n=200,height:r=20,className:s})=>{const i=Math.max(0,Math.min(1,t)),o=e!==void 0?Math.max(0,Math.min(1,e)):0;return _.jsxs(KM,{$width:n,$height:r,className:s,children:[_.jsx(eR,{$level:i,$height:r}),e!==void 0&&o>0&&_.jsx(tR,{$peakLevel:o,$height:r}),_.jsxs(nR,{$height:r,children:[_.jsx(kg,{$position:60,$height:r}),_.jsx(kg,{$position:85,$height:r})]})]})};he.memo(rR);function sR(t,e={}){const{bitDepth:n=16}=e,r=t.numberOfChannels,s=t.sampleRate,i=t.length,o=n/8,a=r*o,l=s*a,c=i*a,u=44,d=u+c,h=new ArrayBuffer(d),p=new DataView(h);nl(p,0,"RIFF"),p.setUint32(4,d-8,!0),nl(p,8,"WAVE"),nl(p,12,"fmt "),p.setUint32(16,16,!0),p.setUint16(20,n===32?3:1,!0),p.setUint16(22,r,!0),p.setUint32(24,s,!0),p.setUint32(28,l,!0),p.setUint16(32,a,!0),p.setUint16(34,n,!0),nl(p,36,"data"),p.setUint32(40,c,!0);const m=[];for(let C=0;C<r;C++)m.push(t.getChannelData(C));let g=u;if(n===16)for(let C=0;C<i;C++)for(let f=0;f<r;f++){const v=m[f][C],y=Math.max(-1,Math.min(1,v)),x=y<0?y*32768:y*32767;p.setInt16(g,x,!0),g+=2}else for(let C=0;C<i;C++)for(let f=0;f<r;f++)p.setFloat32(g,m[f][C],!0),g+=4;return new Blob([h],{type:"audio/wav"})}function nl(t,e,n){for(let r=0;r<n.length;r++)t.setUint8(e+r,n.charCodeAt(r))}function iR(t,e){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function oR(){const[t,e]=T.useState(!1),[n,r]=T.useState(0),[s,i]=T.useState(null);return{exportWav:T.useCallback(async(o,a,l={})=>{var v;const{filename:c="export",mode:u="master",trackIndex:d,autoDownload:h=!0,applyEffects:p=!0,effectsFunction:m,createOfflineTrackEffects:g,bitDepth:C=16,onProgress:f}=l;e(!0),r(0),i(null);try{if(o.length===0)throw new Error("No tracks to export");if(u==="individual"&&(d===void 0||d<0||d>=o.length))throw new Error("Invalid track index for individual export");const y=((v=o[0].clips[0])==null?void 0:v.sampleRate)||44100;let x=0;for(const A of o)for(const M of A.clips){const j=M.startSample+M.durationSamples;x=Math.max(x,j)}x+=Math.round(y*.1);const w=x/y,S=u==="individual"?[{track:o[d],state:a[d],index:d}]:o.map((A,M)=>({track:A,state:a[M],index:M})),k=a.some(A=>A.soloed),b=!!g;let N;if((m||b)&&p)N=await aR(S,a,k,w,y,m,g,A=>{r(A),f==null||f(A)});else{const A=new OfflineAudioContext(2,x,y);let M=0;const j=S.reduce((D,{track:P})=>D+P.clips.length,0);for(const{track:D,state:P}of S)if(!(P.muted&&!P.soloed)&&!(k&&!P.soloed))for(const $ of D.clips){await cR(A,$,P,y,p),M++;const F=M/j*.5;r(F),f==null||f(F)}r(.5),f==null||f(.5),N=await A.startRendering()}r(.9),f==null||f(.9);const E=sR(N,{bitDepth:C});if(r(1),f==null||f(1),h){const A=u==="individual"?`${c}_${o[d].name}`:c;iR(E,`${A}.wav`)}return{audioBuffer:N,blob:E,duration:w}}catch(y){const x=y instanceof Error?y.message:"Export failed";throw i(x),y}finally{e(!1)}},[]),isExporting:t,progress:n,error:s}}async function aR(t,e,n,r,s,i,o,a){const{Offline:l,Volume:c,Gain:u,Panner:d,Player:h,ToneAudioBuffer:p}=await iS(async()=>{const{Offline:g,Volume:C,Gain:f,Panner:v,Player:y,ToneAudioBuffer:x}=await Promise.resolve().then(()=>WE);return{Offline:g,Volume:C,Gain:f,Panner:v,Player:y,ToneAudioBuffer:x}},void 0);a(.1);let m;try{m=await l(async({transport:g,destination:C})=>{const f=new c(0);let v;i?v=i(f,C,!0):f.connect(C);for(const{track:y,state:x}of t){if(x.muted&&!x.soloed||n&&!x.soloed)continue;const w=new c(lR(x.volume)),S=new d(x.pan),k=new u(x.muted?0:1),b=o==null?void 0:o(y.id);b?b(k,f,!0):k.connect(f),S.connect(k),w.connect(S);for(const N of y.clips){const{audioBuffer:E,startSample:A,durationSamples:M,offsetSamples:j,gain:D,fadeIn:P,fadeOut:$}=N,F=A/s,R=M/s,O=j/s,I=new p(E),V=new h(I),B=new u(D);if(V.connect(B),B.connect(w),P){const J=F,te=F+P.duration,Z=B.gain._param;Z.setValueAtTime(0,J),Z.linearRampToValueAtTime(D,te)}if($){const J=F+R-$.duration,te=F+R,Z=B.gain._param;Z.setValueAtTime(D,J),Z.linearRampToValueAtTime(0,te)}V.start(F,O,R)}}g.start(0)},r,2,s)}catch(g){throw g instanceof Error?g:new Error(`Tone.Offline rendering failed: ${String(g)}`)}return a(.9),m.get()}function lR(t){return 20*Math.log10(Math.max(t,1e-4))}async function cR(t,e,n,r,s){const{audioBuffer:i,startSample:o,durationSamples:a,offsetSamples:l,gain:c,fadeIn:u,fadeOut:d}=e;if(!i){console.warn(`Skipping clip "${e.name||e.id}" - no audioBuffer for export`);return}const h=o/r,p=a/r,m=l/r,g=t.createBufferSource();g.buffer=i;const C=t.createGain(),f=c*n.volume,v=t.createStereoPanner();if(v.pan.value=n.pan,g.connect(C),C.connect(v),v.connect(t.destination),s){if(u?C.gain.setValueAtTime(0,h):C.gain.setValueAtTime(f,h),u){const y=h,x=h+u.duration;Cg(C.gain,y,x,0,f,u.type||"linear")}if(d){const y=h+p-d.duration,x=h+p;(!u||u.duration<p-d.duration)&&C.gain.setValueAtTime(f,y),Cg(C.gain,y,x,f,0,d.type||"linear")}}else C.gain.setValueAtTime(f,h);g.start(h,m,p)}function Cg(t,e,n,r,s,i){const o=n-e;if(!(o<=0))switch(i){case"linear":t.setValueAtTime(r,e),t.linearRampToValueAtTime(s,n);break;case"exponential":const a=Math.max(r,1e-4),l=Math.max(s,1e-4);t.setValueAtTime(a,e),t.exponentialRampToValueAtTime(l,n),s===0&&t.setValueAtTime(0,n);break;case"logarithmic":const c=bg(r,s,256,"logarithmic");t.setValueCurveAtTime(c,e,o);break;case"sCurve":const u=bg(r,s,256,"sCurve");t.setValueCurveAtTime(u,e,o);break;default:t.setValueAtTime(r,e),t.linearRampToValueAtTime(s,n)}}function bg(t,e,n,r){const s=new Float32Array(n),i=e-t;for(let o=0;o<n;o++){const a=o/(n-1);let l;r==="logarithmic"?i>0?l=Math.log10(1+a*9)/Math.log10(10):l=1-Math.log10(1+(1-a)*9)/Math.log10(10):l=a*a*(3-2*a),s[o]=t+i*l}return s}const nw=T.createContext(null),rw=T.createContext(null),sw=T.createContext(null),iw=T.createContext(null),uR=T.createContext(null),ow=({tracks:t,timescale:e=!1,mono:n=!1,waveHeight:r=80,samplesPerPixel:s=1024,zoomLevels:i,automaticScroll:o=!1,theme:a,controls:l={show:!1,width:0},annotationList:c,effects:u,onReady:d,onAnnotationUpdate:h,barWidth:p=1,barGap:m=0,progressBarWidth:g,children:C})=>{var ip;const f=g??p+m,[v,y]=T.useState([]),[x,w]=T.useState(null),[S,k]=T.useState(!1),[b,N]=T.useState(0),[E,A]=T.useState(0),[M,j]=T.useState([]),[D,P]=T.useState([]),[$,F]=T.useState([]),[R,O]=T.useState(0),[I,V]=T.useState(0),[B,J]=T.useState(null),[te,Z]=T.useState(o),[Q,xe]=T.useState((c==null?void 0:c.isContinuousPlay)??!1),[H,Re]=T.useState((c==null?void 0:c.linkEndpoints)??!0),[Ee,Le]=T.useState((c==null?void 0:c.editable)??!1),[Ne,Se]=T.useState(!1),[ye,W]=T.useState(0),[X,ne]=T.useState(0),[me,le]=T.useState(!1),U=T.useRef(null),Oe=T.useRef(0),fe=T.useRef(0),Ie=T.useRef(null),dn=T.useRef($),Y=T.useRef(0),ee=T.useRef(0),se=T.useRef(null),ke=T.useRef(null),we=T.useRef(!1),Ve=T.useRef((c==null?void 0:c.isContinuousPlay)??!1),Ce=T.useRef(null),Jt=T.useRef(s),K=T.useRef(!1),oe=T.useRef(0),Ae=T.useRef(0),be=T.useRef(0),ht=T.useRef(0),{timeFormat:Ut,setTimeFormat:Ke,formatTime:En}=WM(),en=qM({initialSamplesPerPixel:s,zoomLevels:i}),Pe=en.samplesPerPixel,{masterVolume:it,setMasterVolume:Ct}=HM({playoutRef:U,initialVolume:1}),rr=T.useCallback(q=>{Ve.current=q,xe(q)},[]),gt=T.useCallback(q=>{Ce.current=q,w(q)},[]),qt=T.useCallback(q=>{K.current=q,Se(q)},[]),jt=T.useCallback((q,re)=>{be.current=q,ht.current=re,W(q),ne(re)},[]),jr=T.useCallback(()=>{const q=oe.current,re=Ae.current;q!==re&&re>q&&jt(q,re)},[jt]),vt=T.useCallback(()=>{jt(0,0)},[jt]);T.useEffect(()=>{we.current=te},[te]),T.useEffect(()=>{dn.current=$},[$]),T.useEffect(()=>{oe.current=R,Ae.current=I},[R,I]),T.useEffect(()=>{if(!ke.current||!M.length)return;const q=ke.current,re=Jt.current,ae=Pe;if(re===ae)return;const ie=l.show?l.width:0,Rt=q.clientWidth,ir=q.scrollLeft+Rt/2-ie,Ot=M[0].sampleRate,ze=ir*re/Ot*Ot/ae,ft=Math.max(0,ze+ie-Rt/2);q.scrollLeft=ft,Jt.current=ae},[Pe,M,l]);const hn=T.useRef(null);T.useEffect(()=>{if(le(!1),t.length===0){j([]),A(0),F([]),P([]),U.current&&(U.current.dispose(),U.current=null);return}const q=S,re=fe.current;return U.current&&q&&(U.current.stop(),Ie.current&&(cancelAnimationFrame(Ie.current),Ie.current=null),hn.current={position:re}),(async()=>{try{const ae=[];t.forEach(ze=>{ze.clips.length>0&&ze.clips[0].audioBuffer&&ae.push(ze.clips[0].audioBuffer)});let ie=0;t.forEach(ze=>{ze.clips.forEach(ft=>{const Vn=ft.sampleRate,Fr=(ft.startSample+ft.durationSamples)/Vn;ie=Math.max(ie,Fr)})}),j(ae),A(ie),F(ze=>ze.length===t.length?ze.map((ft,Vn)=>({...ft,name:t[Vn].name})):t.map(ft=>({name:ft.name,muted:ft.muted,soloed:ft.soloed,volume:ft.volume,pan:ft.pan}))),U.current&&U.current.dispose();const Rt=new pA({effects:u}),ir=dn.current;t.forEach((ze,ft)=>{const Vn=ze.clips.filter(Fr=>Fr.audioBuffer);if(Vn.length>0){const Fr=Vn[0].sampleRate,$a=Math.min(...Vn.map(fn=>fn.startSample/Fr)),ru=Math.max(...Vn.map(fn=>(fn.startSample+fn.durationSamples)/Fr)),Nn=ir[ft],Aw={id:`track-${ft}`,name:ze.name,gain:(Nn==null?void 0:Nn.volume)??ze.volume,muted:(Nn==null?void 0:Nn.muted)??ze.muted,soloed:(Nn==null?void 0:Nn.soloed)??ze.soloed,stereoPan:(Nn==null?void 0:Nn.pan)??ze.pan,startTime:$a,endTime:ru},Mw=Vn.map(fn=>{const su=fn.sampleRate;return{buffer:fn.audioBuffer,startTime:fn.startSample/su-$a,duration:fn.durationSamples/su,offset:fn.offsetSamples/su,fadeIn:fn.fadeIn,fadeOut:fn.fadeOut,gain:fn.gain}});Rt.addTrack({clips:Mw,track:Aw,effects:ze.effects})}}),Rt.applyInitialSoloState(),U.current=Rt,le(!0);const Ot=new CustomEvent("waveform-playlist:ready",{detail:{trackCount:t.length,duration:ie}});window.dispatchEvent(Ot),d==null||d()}catch(ae){console.error("Error loading audio:",ae)}})(),()=>{Ie.current&&cancelAnimationFrame(Ie.current),U.current&&U.current.dispose()}},[t,d,S]),T.useEffect(()=>{if(t.length===0)return;const q=16,re=t.map(ae=>ae.clips.map(ie=>{if(ie.waveformData){const ir=SM(ie.waveformData,Pe,0,ie.offsetSamples,ie.durationSamples);return{clipId:ie.id,trackName:ae.name,peaks:{length:ir.length,data:[ir.data],bits:ir.bits},startSample:ie.startSample,durationSamples:ie.durationSamples,fadeIn:ie.fadeIn,fadeOut:ie.fadeOut}}if(!ie.audioBuffer)return console.warn(`Clip "${ie.name||ie.id}" has neither waveformData nor audioBuffer - rendering empty`),{clipId:ie.id,trackName:ae.name,peaks:{length:0,data:[],bits:q},startSample:ie.startSample,durationSamples:ie.durationSamples,fadeIn:ie.fadeIn,fadeOut:ie.fadeOut};const Rt=xM(ie.audioBuffer,Pe,n,q,ie.offsetSamples,ie.durationSamples);return{clipId:ie.id,trackName:ae.name,peaks:Rt,startSample:ie.startSample,durationSamples:ie.durationSamples,fadeIn:ie.fadeIn,fadeOut:ie.fadeOut}}));P(re)},[t,Pe,n]),T.useEffect(()=>{if(c!=null&&c.annotations){const q=c.annotations.map(re=>typeof re.start=="number"?re:kM(re));y(q)}},[c]);const bt=T.useCallback(()=>{Ie.current&&(cancelAnimationFrame(Ie.current),Ie.current=null);const q=()=>{var Rt,ir;const re=Me().currentTime-Y.current,ae=ee.current+re;if(fe.current=ae,N(ae),v.length>0){const Ot=v.find(ze=>ae>=ze.start&&ae<ze.end);if(Ve.current)Ot&&Ot.id!==Ce.current?gt(Ot.id):!Ot&&Ce.current!==null&&gt(null);else if(Ce.current){const ze=v.find(ft=>ft.id===Ce.current);if(ze&&ae>=ze.end){U.current&&U.current.stop(),k(!1),fe.current=Oe.current,N(Oe.current);return}}else Ot&&gt(Ot.id)}if(we.current&&ke.current&&M.length>0){const Ot=ke.current,ze=M[0].sampleRate,ft=ae*ze/Jt.current,Vn=Ot.clientWidth,Fr=l.show?l.width:0,$a=ft+Fr,ru=Math.max(0,$a-Vn/2);Ot.scrollLeft=ru}if(se.current!==null&&ae>=se.current){U.current&&U.current.stop(),k(!1),fe.current=se.current,N(se.current),se.current=null;return}const ie=be.current!==ht.current&&ht.current>be.current;if(K.current&&ie&&ae>=ht.current){(Rt=U.current)==null||Rt.stop();const Ot=Me().currentTime;Y.current=Ot,ee.current=be.current,fe.current=be.current,(ir=U.current)==null||ir.play(Ot,be.current),Ie.current=requestAnimationFrame(q);return}if(ae>=E){U.current&&U.current.stop(),k(!1),fe.current=Oe.current,N(Oe.current),gt(null);return}Ie.current=requestAnimationFrame(q)};Ie.current=requestAnimationFrame(q)},[E,M,Pe,v,Q]),ot=T.useCallback(()=>{Ie.current&&(cancelAnimationFrame(Ie.current),Ie.current=null)},[]);T.useEffect(()=>{(async()=>{if(S&&Ie.current&&U.current)if(Q){const q=fe.current;U.current.stop(),ot(),await U.current.init(),U.current.setOnPlaybackComplete(()=>{});const re=Me().currentTime;Y.current=re,ee.current=q,U.current.play(re,q),bt()}else ot(),bt()})()},[Q,S,bt,ot]),T.useEffect(()=>{(async()=>{if(hn.current&&U.current){const{position:q}=hn.current;hn.current=null,await U.current.init(),U.current.setOnPlaybackComplete(()=>{});const re=Me().currentTime;Y.current=re,ee.current=q,U.current.play(re,q),k(!0),bt()}})()},[t,bt]);const gr=T.useCallback(async(q,re)=>{if(!U.current||M.length===0)return;await U.current.init(),await xf();const ae=q??fe.current;Oe.current=ae,fe.current=ae,U.current.setOnPlaybackComplete(()=>{}),U.current.stop(),ot();const ie=Me().currentTime;Y.current=ie,ee.current=ae,se.current=re!==void 0?ae+re:null,U.current.play(ie,ae,re),k(!0),bt()},[M.length,bt,ot]),ws=T.useCallback(()=>{if(!U.current)return;const q=Me().currentTime-Y.current,re=ee.current+q;U.current.pause(),k(!1),ot(),fe.current=re,N(re)},[ot]),sr=T.useCallback(()=>{U.current&&(U.current.stop(),k(!1),ot(),fe.current=Oe.current,N(Oe.current),gt(null))},[ot]),_s=T.useCallback(q=>{const re=Math.max(0,Math.min(q,E));fe.current=re,N(re),S&&U.current&&(U.current.stop(),ot(),gr(re))},[E,S,gr,ot]),io=T.useCallback((q,re)=>{const ae=[...$];if(ae[q]={...ae[q],muted:re},F(ae),U.current){const ie=`track-${q}`;U.current.setMute(ie,re)}},[$]),_w=T.useCallback((q,re)=>{const ae=[...$];if(ae[q]={...ae[q],soloed:re},F(ae),U.current){const ie=`track-${q}`;U.current.setSolo(ie,re)}},[$]),xw=T.useCallback((q,re)=>{const ae=[...$];if(ae[q]={...ae[q],volume:re},F(ae),U.current){const ie=`track-${q}`,Rt=U.current.getTrack(ie);Rt&&Rt.setVolume(re)}},[$]),Sw=T.useCallback((q,re)=>{const ae=[...$];if(ae[q]={...ae[q],pan:re},F(ae),U.current){const ie=`track-${q}`,Rt=U.current.getTrack(ie);Rt&&Rt.setPan(re)}},[$]),kw=T.useCallback((q,re)=>{O(q),V(re),fe.current=q,N(q),S&&U.current&&(U.current.stop(),U.current.play(Me().currentTime,q))},[S]),Cw=T.useCallback(q=>{ke.current=q},[]),bw=((ip=M[0])==null?void 0:ip.sampleRate)||44100,ep=e?30:0,Tw=t.length*r+ep,tp={isPlaying:S,currentTime:b,currentTimeRef:fe,playbackStartTimeRef:Y,audioStartPositionRef:ee},np={continuousPlay:Q,linkEndpoints:H,annotationsEditable:Ee,isAutomaticScroll:te,isLoopEnabled:Ne,annotations:v,activeAnnotationId:x,selectionStart:R,selectionEnd:I,selectedTrackId:B,loopStart:ye,loopEnd:X},rp={play:gr,pause:ws,stop:sr,seekTo:_s,setCurrentTime:q=>{fe.current=q,N(q)},setTrackMute:io,setTrackSolo:_w,setTrackVolume:xw,setTrackPan:Sw,setSelection:kw,setSelectedTrackId:J,setTimeFormat:Ke,formatTime:En,zoomIn:en.zoomIn,zoomOut:en.zoomOut,setMasterVolume:Ct,setAutomaticScroll:q=>{Z(q)},setScrollContainer:Cw,scrollContainerRef:ke,setContinuousPlay:rr,setLinkEndpoints:Re,setAnnotationsEditable:Le,setAnnotations:y,setActiveAnnotationId:gt,setLoopEnabled:qt,setLoopRegion:jt,setLoopRegionFromSelection:jr,clearLoopRegion:vt},sp={duration:E,audioBuffers:M,peaksDataArray:D,trackStates:$,tracks:t,sampleRate:bw,waveHeight:r,timeScaleHeight:ep,minimumPlaylistHeight:Tw,controls:l,playoutRef:U,samplesPerPixel:Pe,timeFormat:Ut,masterVolume:it,canZoomIn:en.canZoomIn,canZoomOut:en.canZoomOut,barWidth:p,barGap:m,progressBarWidth:f,isReady:me},Ew={...tp,...np,...rp,...sp},Nw={...wA,...a};return _.jsx(U2,{theme:Nw,children:_.jsx(nw.Provider,{value:tp,children:_.jsx(rw.Provider,{value:np,children:_.jsx(sw.Provider,{value:rp,children:_.jsx(iw.Provider,{value:sp,children:_.jsx(uR.Provider,{value:Ew,children:C})})})})})})},Tn=()=>{const t=T.useContext(nw);if(!t)throw new Error("usePlaybackAnimation must be used within WaveformPlaylistProvider");return t},Jf=()=>{const t=T.useContext(rw);if(!t)throw new Error("usePlaylistState must be used within WaveformPlaylistProvider");return t},Ln=()=>{const t=T.useContext(sw);if(!t)throw new Error("usePlaylistControls must be used within WaveformPlaylistProvider");return t},nr=()=>{const t=T.useContext(iw);if(!t)throw new Error("usePlaylistData must be used within WaveformPlaylistProvider");return t};T.createContext(null);T.createContext(null);T.createContext(null);T.createContext(null);const aw=({className:t})=>{const{isPlaying:e,currentTimeRef:n}=Tn(),{selectionStart:r,selectionEnd:s,isLoopEnabled:i}=Jf(),{play:o}=Ln();return _.jsx(Dr,{onClick:async()=>{if(r!==s&&s>r)if(i)await o(r);else{const a=s-r;await o(r,a)}else await o(n.current??0)},disabled:e,className:t,children:"Play"})},lw=({className:t})=>{const{isPlaying:e}=Tn(),{pause:n}=Ln();return _.jsx(Dr,{onClick:n,disabled:!e,className:t,children:"Pause"})},cw=({className:t})=>{const{isPlaying:e}=Tn(),{stop:n}=Ln();return _.jsx(Dr,{onClick:n,disabled:!e,className:t,children:"Stop"})},uw=({className:t})=>{const{isPlaying:e}=Tn(),{play:n,setCurrentTime:r}=Ln(),{playoutRef:s}=nr();return _.jsx(Dr,{onClick:()=>{r(0),e&&s.current&&(s.current.stop(),n(0))},className:t,children:"Rewind"})},dw=({className:t})=>{const{isPlaying:e}=Tn(),{play:n,setCurrentTime:r}=Ln(),{duration:s,playoutRef:i}=nr();return _.jsx(Dr,{onClick:()=>{r(s),e&&i.current&&(i.current.stop(),n(s))},className:t,children:"Fast Forward"})},hw=({skipAmount:t=5,className:e})=>{const{currentTimeRef:n,isPlaying:r}=Tn(),{play:s,setCurrentTime:i}=Ln(),{playoutRef:o}=nr();return _.jsx(Dr,{onClick:()=>{const a=Math.max(0,(n.current??0)-t);i(a),r&&o.current&&(o.current.stop(),s(a))},className:e,children:"Skip Backward"})},fw=({skipAmount:t=5,className:e})=>{const{currentTimeRef:n,isPlaying:r}=Tn(),{play:s,setCurrentTime:i}=Ln(),{duration:o,playoutRef:a}=nr();return _.jsx(Dr,{onClick:()=>{const l=Math.min(o,(n.current??0)+t);i(l),r&&a.current&&(a.current.stop(),s(l))},className:e,children:"Skip Forward"})},pw=({className:t,disabled:e})=>{const{zoomIn:n}=Ln(),{canZoomIn:r}=nr();return _.jsx(Dr,{variant:"success",onClick:n,disabled:e||!r,className:t,children:"Zoom In"})},mw=({className:t,disabled:e})=>{const{zoomOut:n}=Ln(),{canZoomOut:r}=nr();return _.jsx(Dr,{variant:"success",onClick:n,disabled:e||!r,className:t,children:"Zoom Out"})};L.span`
  font-family: 'Courier New', Monaco, monospace;
  font-size: 1rem;
  font-weight: 600;
  color: ${t=>{var e;return((e=t.theme)==null?void 0:e.textColor)||"#333"}};
  user-select: none;
`;const dR=L.div`
  position: absolute;
  top: 0;
  left: 0;
  width: ${t=>t.$width}px;
  background: ${t=>t.$color};
  height: 100%;
  z-index: 100; /* Below sticky controls (z-index: 101) so playhead is hidden when scrolled behind controls */
  pointer-events: none;
  will-change: transform;
`,hR=({color:t="#ff0000",controlsOffset:e=0})=>{const n=T.useRef(null),r=T.useRef(null),{isPlaying:s,currentTimeRef:i,playbackStartTimeRef:o,audioStartPositionRef:a}=Tn(),{samplesPerPixel:l,sampleRate:c,progressBarWidth:u}=nr();return T.useEffect(()=>{const d=()=>{if(n.current){let h;if(s){const m=Me().currentTime-(o.current??0);h=(a.current??0)+m}else h=i.current??0;const p=h*c/l+e;n.current.style.transform=`translate3d(${p}px, 0, 0)`}s&&(r.current=requestAnimationFrame(d))};return s?r.current=requestAnimationFrame(d):d(),()=>{r.current&&(cancelAnimationFrame(r.current),r.current=null)}},[s,c,l,e,i,o,a]),T.useEffect(()=>{if(!s&&n.current){const d=(i.current??0)*c/l+e;n.current.style.transform=`translate3d(${d}px, 0, 0)`}}),_.jsx(dR,{ref:n,$color:t,$width:u,"data-playhead":!0})},fR=L.div`
  position: relative;
`,pR=L.div`
  position: absolute;
  top: ${t=>t.$top}px;
  left: 0;
  width: ${t=>t.$width}px;
  height: ${t=>t.$height}px;
  background: ${t=>t.$color};
  z-index: 0;
  /* Force GPU compositing layer to prevent gradient flickering during scroll */
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform;
`,mR=L.div`
  position: absolute;
  top: ${t=>t.$top}px;
  left: 0;
  height: ${t=>t.$height}px;
  background: ${t=>t.$color};
  pointer-events: none;
  z-index: 1;
  will-change: width;
`,gR=L.div`
  position: relative;
  z-index: 2;
`,Tg=({clipStartSample:t,clipDurationSamples:e,...n})=>{const r=T.useRef(null),s=T.useRef(null),i=Kf(),{waveHeight:o}=nu(),{isPlaying:a,currentTimeRef:l,playbackStartTimeRef:c,audioStartPositionRef:u}=Tn(),{samplesPerPixel:d,sampleRate:h}=nr(),p=(i==null?void 0:i.waveProgressColor)||"rgba(0, 0, 0, 0.1)";T.useEffect(()=>{const f=()=>{if(r.current){let v;if(a){const S=Me().currentTime-(c.current??0);v=(u.current??0)+S}else v=l.current??0;const y=v*h,x=t+e;let w=0;if(y<=t)w=0;else if(y>=x)w=n.length;else{const S=y-t;w=Math.floor(S/d)}r.current.style.width=`${w}px`}a&&(s.current=requestAnimationFrame(f))};return a?s.current=requestAnimationFrame(f):f(),()=>{s.current&&(cancelAnimationFrame(s.current),s.current=null)}},[a,h,d,t,e,n.length,l,c,u]),T.useEffect(()=>{if(!a&&r.current){const f=(l.current??0)*h,v=t+e;let y=0;if(f<=t)y=0;else if(f>=v)y=n.length;else{const x=f-t;y=Math.floor(x/d)}r.current.style.width=`${y}px`}});const m=(i==null?void 0:i.waveformDrawMode)||"inverted";let g;m==="inverted"?g=n.isSelected&&i?i.selectedWaveFillColor:(i==null?void 0:i.waveFillColor)||"white":g=n.isSelected&&i?i.selectedWaveOutlineColor:(i==null?void 0:i.waveOutlineColor)||"grey";const C=mc(g);return _.jsxs(fR,{children:[_.jsx(pR,{$color:C,$height:o,$top:n.index*o,$width:n.length}),_.jsx(mR,{ref:r,$color:p,$height:o,$top:n.index*o}),_.jsx(gR,{children:_.jsx(tM,{...n,transparentBackground:!0})})]})},vR=60,gw=({renderTrackControls:t,renderTimestamp:e,renderPlayhead:n,annotationControls:r,annotationListConfig:s,annotationTextHeight:i,renderAnnotationItem:o,getAnnotationBoxLabel:a,scrollActivePosition:l="center",scrollActiveContainer:c="nearest",className:u,showClipHeaders:d=!1,interactiveClips:h=!1,showFades:p=!1,touchOptimized:m=!1,recordingState:g})=>{const C=Kf(),{isPlaying:f,currentTimeRef:v,playbackStartTimeRef:y,audioStartPositionRef:x}=Tn(),{selectionStart:w,selectionEnd:S,annotations:k,activeAnnotationId:b,annotationsEditable:N,linkEndpoints:E,continuousPlay:A,selectedTrackId:M,loopStart:j,loopEnd:D,isLoopEnabled:P}=Jf(),{setAnnotations:$,setActiveAnnotationId:F,setTrackMute:R,setTrackSolo:O,setTrackVolume:I,setTrackPan:V,setSelection:B,play:J,setScrollContainer:te,setSelectedTrackId:Z,setCurrentTime:Q,setLoopRegion:xe}=Ln(),{audioBuffers:H,peaksDataArray:Re,trackStates:Ee,tracks:Le,duration:Ne,samplesPerPixel:Se,sampleRate:ye,waveHeight:W,timeScaleHeight:X,controls:ne,playoutRef:me,barWidth:le,barGap:U,isReady:Oe}=nr(),[fe,Ie]=T.useState(!1),dn=T.useRef(null),Y=T.useCallback(K=>{dn.current=K,te(K)},[te]);let ee=H.length>0?Ne:vR;if(g!=null&&g.isRecording){const K=(g.startSample+g.durationSamples)/ye;ee=Math.max(ee,K+10)}const se=Math.floor(ee*ye/Se),ke=async K=>{console.log("Annotation clicked:",K.id),F(K.id);const oe=A?void 0:K.end-K.start;await J(K.start,oe)},we=T.useCallback(K=>{if(K>=0&&K<Le.length){const oe=Le[K];Z(oe.id)}},[Le,Z]),Ve=K=>{const oe=K.currentTarget.getBoundingClientRect(),Ae=ne.show?ne.width:0,be=(K.clientX-oe.left-Ae)*Se/ye,ht=K.clientY-oe.top;let Ut=0,Ke=-1;for(let En=0;En<Re.length;En++){const en=Re[En],Pe=(en.length>0?Math.max(...en.map(it=>it.peaks.data.length)):1)*W+(d?22:0);if(ht>=Ut&&ht<Ut+Pe){Ke=En;break}Ut+=Pe}Ke!==-1&&we(Ke),Ie(!0),Q(be),B(be,be)},Ce=K=>{if(!fe)return;const oe=K.currentTarget.getBoundingClientRect(),Ae=ne.show?ne.width:0,be=(K.clientX-oe.left-Ae)*Se/ye,ht=Math.min(w,be),Ut=Math.max(w,be);B(ht,Ut)},Jt=K=>{if(!fe)return;Ie(!1);const oe=K.currentTarget.getBoundingClientRect(),Ae=ne.show?ne.width:0,be=(K.clientX-oe.left-Ae)*Se/ye,ht=Math.min(w,be),Ut=Math.max(w,be);Math.abs(Ut-ht)<.1?(Q(ht),f&&me.current?(me.current.stop(),J(ht)):me.current&&me.current.stop()):B(ht,Ut)};return Le.some(K=>K.clips.length>0)&&(H.length===0||Re.length===0)?_.jsx("div",{className:u,children:"Loading waveform..."}):_.jsx(ZA,{children:_.jsxs(Qf.Provider,{value:{samplesPerPixel:Se,sampleRate:ye,zoomLevels:[Se],waveHeight:W,timeScaleHeight:X,duration:ee,controls:ne,barWidth:le,barGap:U},children:[_.jsx(X1,{theme:C,backgroundColor:mc(C.waveOutlineColor),timescaleBackgroundColor:C.timescaleBackgroundColor,scrollContainerWidth:se+(ne.show?ne.width:0),timescaleWidth:se,tracksWidth:se,controlsWidth:ne.show?ne.width:0,onTracksMouseDown:Ve,onTracksMouseMove:Ce,onTracksMouseUp:Jt,scrollContainerRef:Y,isSelecting:fe,"data-playlist-state":Oe?"ready":"loading",timescale:X>0?_.jsxs(_.Fragment,{children:[_.jsx(lM,{duration:ee*1e3,marker:1e4,bigStep:5e3,secondStep:1e3,renderTimestamp:e}),P&&_.jsx(qA,{startPosition:Math.min(j,D)*ye/Se,endPosition:Math.max(j,D)*ye/Se,markerColor:C.loopMarkerColor,regionColor:C.loopRegionColor,minPosition:0,maxPosition:se,controlsOffset:ne.show?ne.width:0,onLoopRegionChange:(K,oe)=>{const Ae=K*Se/ye,be=oe*Se/ye;xe(Ae,be)}})]}):void 0,children:_.jsxs(_.Fragment,{children:[Re.map((K,oe)=>{const Ae=Le[oe];if(!Ae)return null;const be=Ee[oe]||{name:`Track ${oe+1}`,muted:!1,soloed:!1,volume:1,pan:0},ht=t?t(oe):_.jsxs(pM,{onClick:()=>we(oe),children:[_.jsx(mM,{style:{justifyContent:"center"},children:be.name||`Track ${oe+1}`}),_.jsxs(fM,{children:[_.jsx(vg,{$variant:be.muted?"danger":"outline",onClick:()=>R(oe,!be.muted),children:"Mute"}),_.jsx(vg,{$variant:be.soloed?"info":"outline",onClick:()=>O(oe,!be.soloed),children:"Solo"})]}),_.jsxs(wg,{children:[_.jsx(gM,{}),_.jsx(yg,{min:"0",max:"1",step:"0.01",value:be.volume,onChange:Ke=>I(oe,parseFloat(Ke.target.value))}),_.jsx(vM,{})]}),_.jsxs(wg,{children:[_.jsx("span",{children:"L"}),_.jsx(yg,{min:"-1",max:"1",step:"0.01",value:be.pan,onChange:Ke=>V(oe,parseFloat(Ke.target.value))}),_.jsx("span",{children:"R"})]})]}),Ut=K.length>0?Math.max(...K.map(Ke=>Ke.peaks.data.length)):1;return _.jsx(K1.Provider,{value:ht,children:_.jsxs(hM,{numChannels:Ut,backgroundColor:mc(C.waveOutlineColor),offset:0,width:se,hasClipHeaders:d,trackId:Ae.id,isSelected:Ae.id===M,children:[K.map((Ke,En)=>{const en=Ke.peaks,Pe=en.length;return _.jsx(mg,{clipId:Ke.clipId,trackIndex:oe,clipIndex:En,trackName:Ke.trackName,startSample:Ke.startSample,durationSamples:Ke.durationSamples,samplesPerPixel:Se,showHeader:d,disableHeaderDrag:!h,isSelected:Ae.id===M,trackId:Ae.id,fadeIn:Ke.fadeIn,fadeOut:Ke.fadeOut,sampleRate:ye,showFades:p,touchOptimized:m,onMouseDown:it=>{it.target.closest('[role="button"][aria-roledescription="draggable"]')||we(oe)},children:en.data.map((it,Ct)=>_.jsx(Tg,{index:Ct,data:it,bits:en.bits,length:Pe,isSelected:Ae.id===M,clipStartSample:Ke.startSample,clipDurationSamples:Ke.durationSamples},`${oe}-${En}-${Ct}`))},`${oe}-${En}`)}),(g==null?void 0:g.isRecording)&&g.trackId===Ae.id&&g.peaks.length>0&&_.jsx(mg,{clipId:"recording-preview",trackIndex:oe,clipIndex:K.length,trackName:"Recording...",startSample:g.startSample,durationSamples:g.durationSamples,samplesPerPixel:Se,showHeader:d,disableHeaderDrag:!0,isSelected:Ae.id===M,trackId:Ae.id,children:_.jsx(Tg,{index:0,data:g.peaks,bits:16,length:Math.floor(g.peaks.length/2),isSelected:Ae.id===M,clipStartSample:g.startSample,clipDurationSamples:g.durationSamples},`${oe}-recording-0`)},`${oe}-recording`)]})},Ae.id)}),k.length>0&&_.jsx(RM,{height:30,width:se,children:k.map((K,oe)=>{const Ae=K.start*ye/Se,be=K.end*ye/Se,ht=a?a(K,oe):K.id;return _.jsx(EM,{annotationId:K.id,annotationIndex:oe,startPosition:Ae,endPosition:be,label:ht,color:"#ff9800",isActive:K.id===b,onClick:()=>ke(K),editable:N},K.id)})}),w!==S&&_.jsx(zA,{startPosition:Math.min(w,S)*ye/Se+(ne.show?ne.width:0),endPosition:Math.max(w,S)*ye/Se+(ne.show?ne.width:0),color:C.selectionColor}),(f||w===S)&&(n?n({position:(v.current??0)*ye/Se+(ne.show?ne.width:0),color:C.playheadColor,isPlaying:f,currentTimeRef:v,playbackStartTimeRef:y,audioStartPositionRef:x,samplesPerPixel:Se,sampleRate:ye,controlsOffset:ne.show?ne.width:0,getAudioContextTime:()=>Me().currentTime}):_.jsx(hR,{color:C.playheadColor,controlsOffset:ne.show?ne.width:0}))]})}),k.length>0&&_.jsx(BM,{annotations:k,activeAnnotationId:b??void 0,shouldScrollToActive:!0,scrollActivePosition:l,scrollActiveContainer:c,editable:N,controls:N?r:void 0,annotationListConfig:{linkEndpoints:E,continuousPlay:A},height:i,renderAnnotationItem:o,onAnnotationUpdate:K=>{$(K)}})]})})};L.div`
  position: absolute;
  top: 0;
  left: 0;
  width: ${t=>t.$width}px;
  background: ${t=>t.$color};
  height: 100%;
  z-index: 100;
  pointer-events: none;
  will-change: transform;
`;L.div`
  position: relative;
`;L.div`
  position: absolute;
  top: ${t=>t.$top}px;
  left: 0;
  width: ${t=>t.$width}px;
  height: ${t=>t.$height}px;
  background: ${t=>t.$color};
  z-index: 0;
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform;
`;L.div`
  position: absolute;
  top: ${t=>t.$top}px;
  left: 0;
  height: ${t=>t.$height}px;
  background: ${t=>t.$color};
  pointer-events: none;
  z-index: 1;
  will-change: width;
`;L.div`
  position: relative;
  z-index: 2;
`;const yR=({syncData:t,isOpen:e,onClose:n,loading:r,error:s,isCorrectedMode:i,onCorrectedModeChange:o})=>{const{play:a,stop:l,seekTo:c,formatTime:u,setTrackVolume:d,setTrackMute:h,setTrackSolo:p,setMasterVolume:m}=Ln(),g=nr(),C=Tn(),[f,v]=T.useState(.8),[y,x]=T.useState({}),[w,S]=T.useState({}),[k,b]=T.useState({});T.useEffect(()=>{e||l()},[e,l]);const N=g.trackStates||[];T.useEffect(()=>{if(!g.isReady||!g.tracks)return;const P={},$={},F={};g.tracks.forEach((R,O)=>{var I,V,B;P[O]=((I=N[O])==null?void 0:I.volume)??.8,$[O]=((V=N[O])==null?void 0:V.muted)??!1,F[O]=((B=N[O])==null?void 0:B.soloed)??!1}),x(P),S($),b(F)},[g.isReady,g.tracks,N]),T.useEffect(()=>{g.isReady&&Object.entries(y).forEach(([P,$])=>{d(parseInt(P),$)})},[y,d,g.isReady]),T.useEffect(()=>{g.isReady&&Object.entries(w).forEach(([P,$])=>{h(parseInt(P),$)})},[w,h,g.isReady]),T.useEffect(()=>{g.isReady&&Object.entries(k).forEach(([P,$])=>{p(parseInt(P),$)})},[k,p,g.isReady]);const E=T.useCallback(P=>{r||i!==P&&(o(P),l())},[o,l,r,i]),A=T.useCallback(()=>{i&&o(!1),l(),setTimeout(()=>{c(0),a()},100)},[i,o,l,c,a]),M=T.useCallback(()=>{i||o(!0),l(),setTimeout(()=>{c(0),a()},100)},[i,o,l,c,a]);if(!e)return null;const j=t.detectedOffset||0,D=t.confidence||0;return _.jsx("div",{className:"qc-modal-overlay",onClick:n,children:_.jsxs("div",{className:"qc-modal-content",onClick:P=>P.stopPropagation(),children:[_.jsxs("div",{className:"qc-header",children:[_.jsxs("h3",{children:[_.jsx("i",{className:"fas fa-microscope"})," Quality Control Review"]}),_.jsx("button",{className:"qc-close-btn",onClick:n,children:_.jsx("i",{className:"fas fa-times"})})]}),_.jsxs("div",{className:"qc-file-info",children:[_.jsxs("div",{className:"qc-file-pair",children:[_.jsxs("div",{className:"qc-file-item master-file",children:[_.jsx("label",{children:"Master File:"}),_.jsx("span",{children:t.masterFile||"No file selected"})]}),_.jsxs("div",{className:"qc-file-item dub-file",children:[_.jsx("label",{children:"Dub File:"}),_.jsx("span",{children:t.dubFile||"No file selected"})]})]}),_.jsxs("div",{className:"qc-sync-info",children:[_.jsxs("div",{className:"qc-offset-display",children:[_.jsx("label",{children:"Detected Offset:"}),_.jsx("span",{children:wR(j,t.frameRate||23.976)})]}),_.jsxs("div",{className:"qc-confidence-display",children:[_.jsx("label",{children:"Confidence:"}),_.jsxs("span",{children:[Math.round(D*100),"%"]})]})]})]}),_.jsxs("div",{className:"qc-waveform-container",children:[_.jsxs("div",{className:"qc-waveform-header",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-chart-area"})," Waveform Comparison"]}),_.jsxs("div",{className:"qc-view-controls",children:[_.jsxs("div",{className:"qc-zoom-controls",children:[_.jsx(mw,{className:"qc-zoom-btn",disabled:!g.canZoomOut}),_.jsx(pw,{className:"qc-zoom-btn",disabled:!g.canZoomIn})]}),_.jsxs("div",{className:"qc-view-toggle",children:[_.jsxs("button",{className:`qc-toggle-btn ${i?"":"active"}`,onClick:()=>E(!1),disabled:r,title:r?"Please wait for tracks to finish loading":"View before fix",children:[_.jsx("i",{className:"fas fa-exclamation-triangle"})," Before Fix"]}),_.jsxs("button",{className:`qc-toggle-btn ${i?"active":""}`,onClick:()=>E(!0),disabled:r,title:r?"Please wait for tracks to finish loading":"View after fix",children:[_.jsx("i",{className:"fas fa-check-circle"})," After Fix"]})]})]})]}),_.jsxs("div",{className:"qc-waveform-display",children:[r&&_.jsx("div",{className:"qc-loading",children:"Loading waveforms..."}),s&&_.jsxs("div",{className:"qc-error",children:[_.jsx("div",{className:"qc-error-title",children:"Error Loading Audio"}),_.jsx("div",{className:"qc-error-message",children:s.message.includes("Rate limit")||s.message.includes("429")?_.jsxs(_.Fragment,{children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Rate limit exceeded."})," Please wait a moment and try again."]}),_.jsx("p",{className:"qc-error-hint",children:"The server is temporarily limiting requests. Wait a few seconds before switching modes or reloading."})]}):s.message})]}),!r&&!s&&_.jsx(gw,{renderTrackControls:P=>{var B;const $=N[P]||{volume:.8,muted:!1,soloed:!1},F=y[P]??$.volume??.8,R=w[P]??$.muted??!1,O=k[P]??$.soloed??!1,I=(B=g.tracks)==null?void 0:B[P],V=P===0;return _.jsxs("div",{className:`qc-track-controls-panel ${V?"master-track":"dub-track"}`,children:[_.jsx("div",{className:`qc-track-label ${V?"master-track":"dub-track"}`,title:(I==null?void 0:I.name)||`Track ${P+1}`,children:(I==null?void 0:I.name)||`Track ${P+1}`}),_.jsxs("div",{className:"qc-track-controls-grid",children:[_.jsxs("div",{className:"qc-track-buttons-row",children:[_.jsx("button",{className:`qc-track-btn qc-mute-btn ${R?"active":""}`,onClick:()=>{const J=!R;S(te=>({...te,[P]:J})),h(P,J)},title:"Mute",children:"M"}),_.jsx("button",{className:`qc-track-btn qc-solo-btn ${O?"active":""}`,onClick:()=>{const J=!O;b(te=>({...te,[P]:J})),p(P,J)},title:"Solo",children:"S"})]}),_.jsx("div",{className:"qc-track-control-group",children:_.jsxs("div",{className:"qc-track-slider-row",children:[_.jsx("input",{type:"range",className:"qc-track-control-slider",min:"0",max:"1",step:"0.01",value:F,onChange:J=>{const te=parseFloat(J.target.value);x(Z=>({...Z,[P]:te})),d(P,te)}}),_.jsxs("span",{className:"qc-track-control-value",children:[Math.round(F*100),"%"]})]})})]})]})}})]})]}),_.jsxs("div",{className:"qc-transport-controls",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-play"})," Transport Controls"]}),_.jsxs("div",{className:"qc-transport-row",children:[_.jsxs("div",{className:"qc-transport-buttons",children:[_.jsx(uw,{className:"qc-transport-btn"}),_.jsx(hw,{className:"qc-transport-btn"}),C.isPlaying?_.jsx(lw,{className:"qc-transport-btn qc-transport-btn-primary"}):_.jsx(aw,{className:"qc-transport-btn qc-transport-btn-primary"}),_.jsx(cw,{className:"qc-transport-btn"}),_.jsx(fw,{className:"qc-transport-btn"}),_.jsx(dw,{className:"qc-transport-btn"})]}),_.jsxs("div",{className:"qc-mode-buttons",children:[_.jsxs("button",{className:`qc-mode-btn primary ${!i&&C.isPlaying?"active":""}`,onClick:A,disabled:r,title:"Play Before Fix (with offset problem)",children:[_.jsx("i",{className:"fas fa-exclamation-triangle"})," Play Problem"]}),_.jsxs("button",{className:`qc-mode-btn success ${i&&C.isPlaying?"active":""}`,onClick:M,disabled:r,title:"Play After Fix (with offset correction)",children:[_.jsx("i",{className:"fas fa-check-circle"})," Play Fixed"]})]})]}),_.jsxs("div",{className:"qc-playback-info",children:[_.jsxs("div",{className:"qc-time-display",children:[_.jsx("span",{children:C.currentTime!==void 0?u(C.currentTime):"0:00"})," / ",_.jsx("span",{children:g.duration!==void 0?u(g.duration):"0:00"})]}),_.jsx("div",{className:"qc-playback-status",children:_.jsx("span",{children:C.isPlaying?"Playing":r?"Loading...":"Stopped"})})]})]}),_.jsxs("div",{className:"qc-master-volume",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-volume-up"})," Master Volume"]}),_.jsxs("div",{className:"qc-master-volume-control",children:[_.jsx("input",{type:"range",className:"qc-volume-slider",min:"0",max:"1",step:"0.01",value:f,onChange:P=>{const $=parseFloat(P.target.value);v($),m($)}}),_.jsxs("span",{className:"qc-volume-value",children:[Math.round(f*100),"%"]})]})]}),_.jsxs("div",{className:"qc-actions",children:[_.jsxs("button",{className:"qc-action-btn success",children:[_.jsx("i",{className:"fas fa-thumbs-up"})," Approve Sync"]}),_.jsxs("button",{className:"qc-action-btn warning",children:[_.jsx("i",{className:"fas fa-flag"})," Flag for Review"]}),_.jsxs("button",{className:"qc-action-btn danger",children:[_.jsx("i",{className:"fas fa-thumbs-down"})," Reject Sync"]}),_.jsxs("button",{className:"qc-action-btn",children:[_.jsx("i",{className:"fas fa-download"})," Export Results"]})]})]})})};function wR(t,e=23.976){const n=t<0?"-":"",r=Math.abs(t),s=Math.floor(r/3600),i=Math.floor(r%3600/60),o=Math.floor(r%60),a=Math.floor(r%1*e);return`${n}${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}const _R=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(null),[s,i]=T.useState(!1);T.useEffect(()=>{const p=m=>{r(m.detail),e(!0),i(!1)};return window.addEventListener("openQCInterface",p),()=>{window.removeEventListener("openQCInterface",p)}},[]),T.useEffect(()=>{const p=()=>{e(!1),r(null),i(!1)};return window.addEventListener("closeQCInterface",p),()=>{window.removeEventListener("closeQCInterface",p)}},[]);const o=T.useMemo(()=>n?xR(n,s):[],[n,s]),{tracks:a,loading:l,error:c}=tw(o),u=c&&typeof c=="object"&&"message"in c?c:c?new Error(String(c)):null,d=T.useCallback(()=>{e(!1),r(null),i(!1),window.dispatchEvent(new Event("closeQCInterface"))},[]);if(!t||!n)return null;const h={waveformDrawMode:"normal",waveOutlineColor:"#22272e",waveFillColor:"#58a6ff",waveProgressColor:"#3fb950",selectedWaveOutlineColor:"#2d333b",selectedWaveFillColor:"#79c0ff",selectedTrackControlsBackground:"#2d333b",timeColor:"#adbac7",timescaleBackgroundColor:"#2d333b",playheadColor:"#f85149",selectionColor:"rgba(88, 166, 255, 0.3)",loopRegionColor:"rgba(63, 185, 80, 0.2)",loopMarkerColor:"#3fb950",clipHeaderBackgroundColor:"#2d333b",clipHeaderBorderColor:"#373e47",clipHeaderTextColor:"#adbac7",clipHeaderFontFamily:"Inter, -apple-system, sans-serif",selectedClipHeaderBackgroundColor:"#373e47",fadeOverlayColor:"rgba(0, 0, 0, 0.4)",backgroundColor:"#1c2128",surfaceColor:"#22272e",borderColor:"#373e47",textColor:"#adbac7",textColorMuted:"#768390",inputBackground:"#22272e",inputBorder:"#373e47",inputText:"#adbac7",inputPlaceholder:"#768390",inputFocusBorder:"#58a6ff",buttonBackground:"#2d333b"};return _.jsx(ow,{tracks:a,controls:{show:!0,width:200},waveHeight:80,theme:h,children:_.jsx(yR,{syncData:n,isOpen:t,onClose:d,loading:l,error:u,isCorrectedMode:s,onCorrectedModeChange:i})},`qc-${s?"corrected":"before"}-${(n==null?void 0:n.analysisId)||(n==null?void 0:n.analysis_id)||"default"}`)};function xR(t,e){var i,o;const n=[],r=t.detectedOffset||0;t.masterUrl&&n.push({src:t.masterUrl,name:((i=t.masterFile)==null?void 0:i.split("/").pop())||"Master",startTime:0,volume:.8,color:"#ef4444"});const s=t.components||t.componentResults||[];return s.length>0?s.forEach((a,l)=>{var h;const c=a.dubUrl||a.dub_url||a.audioUrl,u=a.name||((h=a.dubFile)==null?void 0:h.split("/").pop())||`Component ${l+1}`,d=a.detectedOffset||a.detected_offset||r;c&&n.push({src:c,name:u,startTime:e?Math.max(0,d):0,volume:.8,color:"#58a6ff"})}):t.dubUrl&&n.push({src:t.dubUrl,name:((o=t.dubFile)==null?void 0:o.split("/").pop())||"Dub",startTime:e?Math.max(0,r):0,volume:.8,color:"#58a6ff"}),n}const vw="/api/v1";async function SR(t,e,n,r=!0){const s={file_path:t,offset_seconds:e,output_path:n,keep_duration:r};try{const i=await fetch(`${vw}/repair/standard`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.detail||`Repair failed: ${i.status}`)}return await i.json()}catch(i){throw console.error("Standard repair error:",i),i}}async function kR(t,e,n,r=!0){const s={file_path:t,per_channel_results:e,output_path:n,keep_duration:r};try{const i=await fetch(`${vw}/repair/per-channel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.detail||`Per-channel repair failed: ${i.status}`)}return await i.json()}catch(i){throw console.error("Per-channel repair error:",i),i}}function CR(t,e,n=0){const r={};return t.forEach((s,i)=>{var u,d;if(i===0)return;const o=s.name,l=((d=(u=s.clips)==null?void 0:u[0])==null?void 0:d.startTime)||0,c=bR(o);r[c]={offset_seconds:l,confidence:1}}),r}function bR(t){const e=t.match(/[_\-\s](a\d+)/i);if(e)return e[1].toLowerCase();const n=t.match(/[_\-\s]?S(\d+)/i);if(n)return`S${n[1]}`;const r=t.match(/\b(FL|FR|FC|LFE|SL|SR|BL|BR|c\d+)\b/i);return r?r[1].toUpperCase():t.replace(/[^a-zA-Z0-9]/g,"_").substring(0,20)}function TR(t,e="_repaired"){const n=t.lastIndexOf("."),r=n>0?t.substring(0,n):t,s=n>0?t.substring(n):"";return`${r}${e}${s}`}function zu(t){return!!(t.components&&t.components.length>0||t.componentResults&&t.componentResults.length>0||t.perChannel)}const ER=({syncData:t,isOpen:e,onClose:n,loading:r,error:s,tracks:i,onTracksChange:o})=>{const{play:a,stop:l,formatTime:c,setTrackVolume:u,setTrackMute:d,setTrackSolo:h,setMasterVolume:p}=Ln(),m=nr(),g=Tn(),[C,f]=T.useState(.8),[v,y]=T.useState({}),[x,w]=T.useState({}),[S,k]=T.useState({}),[b,N]=T.useState([]),E=50,[A,M]=T.useState(!1),[j,D]=T.useState(""),[P,$]=T.useState(null),[F,R]=T.useState(null),[O,I]=T.useState(!1),[V,B]=T.useState(""),[J,te]=T.useState(!0),{exportWav:Z,isExporting:Q,progress:xe}=oR(),H=m.samplesPerPixel||1e3,Re=m.sampleRate||44100,Ee=YM(),{onDragStart:Le,onDragMove:Ne,onDragEnd:Se,collisionModifier:ye}=XM({tracks:i,onTracksChange:X,samplesPerPixel:H,sampleRate:Re}),{splitClipAtPlayhead:W}=QM({tracks:i,onTracksChange:X,sampleRate:Re,samplesPerPixel:H});function X(Y){N(ee=>{const se=[...ee,i];return se.length>E?se.slice(-E):se}),o(Y)}const ne=T.useCallback(()=>{if(b.length>0){const Y=b[b.length-1];N(ee=>ee.slice(0,-1)),o(Y)}},[b,o]),me=T.useCallback(()=>{m.isReady&&W()&&console.log("Split clip at playhead")},[W,m.isReady]),le=T.useCallback(async()=>{var Y,ee;if(m.isReady)try{const se=m.trackStates||[],ke=`repaired-${((ee=(Y=t.dubFile)==null?void 0:Y.split("/").pop())==null?void 0:ee.replace(/\.[^/.]+$/,""))||"audio"}`,we=await Z(i,se,{filename:ke,mode:"master"});if(we.blob){console.log("Export successful, duration:",we.duration);const Ve=URL.createObjectURL(we.blob),Ce=document.createElement("a");Ce.href=Ve,Ce.download=`${ke}.wav`,document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),URL.revokeObjectURL(Ve),window.dispatchEvent(new CustomEvent("repairExported",{detail:{filename:`${ke}.wav`,blob:we.blob,duration:we.duration}}))}}catch(se){console.error("Export error:",se)}},[Z,i,m.trackStates,m.isReady,t.dubFile]);T.useEffect(()=>{O&&t.dubPath&&B(TR(t.dubPath,"_repaired"))},[O,t.dubPath]);const U=T.useCallback(()=>{if(!t.dubPath){R("No dub file path available for repair");return}R(null),$(null),I(!0)},[t.dubPath]),Oe=T.useCallback(async()=>{var Y,ee;if(!t.dubPath){R("No dub file path available for repair");return}M(!0),D("Preparing repair..."),R(null),$(null);try{let se;if(zu(t)){D("Calculating adjusted offsets from track positions...");const ke=i.map(Ve=>({name:Ve.name,clips:Ve.clips.map(Ce=>({startTime:Ce.startSample/(Ce.sampleRate||Re||48e3)}))})),we=CR(ke,t.perChannel||null,t.detectedOffset||0);console.log("Applying per-channel repair with offsets:",we),D("Applying per-channel offsets via FFmpeg..."),se=await kR(t.dubPath,we,V||void 0,J)}else{const ke=i[1],we=(Y=ke==null?void 0:ke.clips)==null?void 0:Y[0],Ve=we?we.startSample/(we.sampleRate||Re||48e3):t.detectedOffset||0;console.log("Applying standard repair with offset:",Ve),D("Applying offset correction via FFmpeg..."),se=await SR(t.dubPath,Ve,V||void 0,J)}$(se),D(""),I(!1),window.dispatchEvent(new CustomEvent("repairApplied",{detail:{success:se.success,outputFile:se.output_file,outputSize:se.output_size}})),(ee=window.app)!=null&&ee.showToast&&window.app.showToast("success",`Repair completed: ${se.output_file}`,"FFmpeg Repair")}catch(se){const ke=se instanceof Error?se.message:"Unknown error during repair";R(ke),D(""),console.error("Repair error:",se)}finally{M(!1)}},[t,i,V,J]);T.useEffect(()=>{const Y=ee=>{if(!(ee.target instanceof HTMLInputElement||ee.target instanceof HTMLTextAreaElement))switch(ee.key.toLowerCase()){case"s":!ee.ctrlKey&&!ee.metaKey&&(ee.preventDefault(),me());break;case"z":(ee.ctrlKey||ee.metaKey)&&(ee.preventDefault(),ne());break;case" ":ee.preventDefault(),g.isPlaying?l():a();break}};return e&&window.addEventListener("keydown",Y),()=>{window.removeEventListener("keydown",Y)}},[e,me,ne,a,l,g.isPlaying]),T.useEffect(()=>{e||l()},[e,l]);const fe=m.trackStates||[];if(T.useEffect(()=>{if(!m.isReady||!m.tracks)return;const Y={},ee={},se={};m.tracks.forEach((ke,we)=>{var Ve,Ce,Jt;Y[we]=((Ve=fe[we])==null?void 0:Ve.volume)??.8,ee[we]=((Ce=fe[we])==null?void 0:Ce.muted)??!1,se[we]=((Jt=fe[we])==null?void 0:Jt.soloed)??!1}),y(Y),w(ee),k(se)},[m.isReady,m.tracks,fe]),T.useEffect(()=>{m.isReady&&Object.entries(v).forEach(([Y,ee])=>{u(parseInt(Y),ee)})},[v,u,m.isReady]),T.useEffect(()=>{m.isReady&&Object.entries(x).forEach(([Y,ee])=>{d(parseInt(Y),ee)})},[x,d,m.isReady]),T.useEffect(()=>{m.isReady&&Object.entries(S).forEach(([Y,ee])=>{h(parseInt(Y),ee)})},[S,h,m.isReady]),!e)return null;const Ie=t.detectedOffset||0,dn=t.confidence||0;return _.jsx("div",{className:"repair-modal-overlay",onClick:n,children:_.jsxs("div",{className:"repair-modal-content",onClick:Y=>Y.stopPropagation(),children:[_.jsxs("div",{className:"repair-header",children:[_.jsxs("h3",{children:[_.jsx("i",{className:"fas fa-wrench"})," Repair Editor"]}),_.jsx("button",{className:"repair-close-btn",onClick:n,children:_.jsx("i",{className:"fas fa-times"})})]}),_.jsxs("div",{className:"repair-file-info",children:[_.jsxs("div",{className:"repair-file-pair",children:[_.jsxs("div",{className:"repair-file-item master-file",children:[_.jsx("label",{children:"Master File:"}),_.jsx("span",{children:t.masterFile||"No file selected"})]}),_.jsxs("div",{className:"repair-file-item dub-file",children:[_.jsx("label",{children:"Dub File:"}),_.jsx("span",{children:t.dubFile||"No file selected"})]})]}),_.jsxs("div",{className:"repair-sync-info",children:[_.jsxs("div",{className:"repair-offset-display",children:[_.jsx("label",{children:"Applied Offset:"}),_.jsx("span",{children:NR(Ie,t.frameRate||23.976)})]}),_.jsxs("div",{className:"repair-confidence-display",children:[_.jsx("label",{children:"Confidence:"}),_.jsxs("span",{children:[Math.round(dn*100),"%"]})]})]})]}),_.jsxs("div",{className:"repair-editing-toolbar",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-edit"})," Editing Tools"]}),_.jsxs("div",{className:"repair-toolbar-buttons",children:[_.jsxs("button",{className:"repair-toolbar-btn",onClick:me,disabled:!m.isReady,title:"Split clip at playhead (S)",children:[_.jsx("i",{className:"fas fa-cut"})," Split (S)"]}),_.jsxs("button",{className:"repair-toolbar-btn",onClick:ne,disabled:b.length===0,title:"Undo last edit (Ctrl+Z)",children:[_.jsx("i",{className:"fas fa-undo"})," Undo (",b.length,")"]}),_.jsx("div",{className:"repair-toolbar-separator"}),_.jsx("button",{className:"repair-toolbar-btn export-btn",onClick:le,disabled:!m.isReady||Q,title:"Export repaired audio to WAV",children:Q?_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"fas fa-spinner fa-spin"})," Exporting (",Math.round(xe*100),"%)"]}):_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"fas fa-download"})," Export WAV"]})})]}),_.jsxs("div",{className:"repair-toolbar-hints",children:[_.jsxs("span",{children:[_.jsx("kbd",{children:"Drag"})," clips to move"]}),_.jsxs("span",{children:[_.jsx("kbd",{children:"Drag edges"})," to trim"]}),_.jsxs("span",{children:[_.jsx("kbd",{children:"Space"})," play/pause"]})]})]}),_.jsxs("div",{className:"repair-waveform-container",children:[_.jsxs("div",{className:"repair-waveform-header",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-chart-area"})," Waveform Editor"]}),_.jsx("div",{className:"repair-view-controls",children:_.jsxs("div",{className:"repair-zoom-controls",children:[_.jsx(mw,{className:"repair-zoom-btn",disabled:!m.canZoomOut}),_.jsx(pw,{className:"repair-zoom-btn",disabled:!m.canZoomIn})]})})]}),_.jsxs("div",{className:"repair-waveform-display",children:[r&&_.jsx("div",{className:"repair-loading",children:"Loading waveforms..."}),s&&_.jsxs("div",{className:"repair-error",children:[_.jsx("div",{className:"repair-error-title",children:"Error Loading Audio"}),_.jsx("div",{className:"repair-error-message",children:s.message.includes("Rate limit")||s.message.includes("429")?_.jsxs(_.Fragment,{children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Rate limit exceeded."})," Please wait a moment and try again."]}),_.jsx("p",{className:"repair-error-hint",children:"The server is temporarily limiting requests."})]}):s.message})]}),!r&&!s&&_.jsx(oA,{sensors:Ee,onDragStart:Le,onDragMove:Ne,onDragEnd:Se,modifiers:[cA,ye],children:_.jsx(gw,{showClipHeaders:!0,interactiveClips:!0,renderTrackControls:Y=>{var Jt;const ee=fe[Y]||{volume:.8,muted:!1,soloed:!1},se=v[Y]??ee.volume??.8,ke=x[Y]??ee.muted??!1,we=S[Y]??ee.soloed??!1,Ve=(Jt=m.tracks)==null?void 0:Jt[Y],Ce=Y===0;return _.jsxs("div",{className:`repair-track-controls-panel ${Ce?"master-track":"dub-track"}`,children:[_.jsx("div",{className:`repair-track-label ${Ce?"master-track":"dub-track"}`,title:(Ve==null?void 0:Ve.name)||`Track ${Y+1}`,children:(Ve==null?void 0:Ve.name)||`Track ${Y+1}`}),_.jsxs("div",{className:"repair-track-controls-grid",children:[_.jsxs("div",{className:"repair-track-buttons-row",children:[_.jsx("button",{className:`repair-track-btn repair-mute-btn ${ke?"active":""}`,onClick:()=>{const K=!ke;w(oe=>({...oe,[Y]:K})),d(Y,K)},title:"Mute",children:"M"}),_.jsx("button",{className:`repair-track-btn repair-solo-btn ${we?"active":""}`,onClick:()=>{const K=!we;k(oe=>({...oe,[Y]:K})),h(Y,K)},title:"Solo",children:"S"})]}),_.jsx("div",{className:"repair-track-control-group",children:_.jsxs("div",{className:"repair-track-slider-row",children:[_.jsx("input",{type:"range",className:"repair-track-control-slider",min:"0",max:"1",step:"0.01",value:se,onChange:K=>{const oe=parseFloat(K.target.value);y(Ae=>({...Ae,[Y]:oe})),u(Y,oe)}}),_.jsxs("span",{className:"repair-track-control-value",children:[Math.round(se*100),"%"]})]})})]})]})}})})]})]}),_.jsxs("div",{className:"repair-transport-controls",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-play"})," Transport Controls"]}),_.jsx("div",{className:"repair-transport-row",children:_.jsxs("div",{className:"repair-transport-buttons",children:[_.jsx(uw,{className:"repair-transport-btn"}),_.jsx(hw,{className:"repair-transport-btn"}),g.isPlaying?_.jsx(lw,{className:"repair-transport-btn repair-transport-btn-primary"}):_.jsx(aw,{className:"repair-transport-btn repair-transport-btn-primary"}),_.jsx(cw,{className:"repair-transport-btn"}),_.jsx(fw,{className:"repair-transport-btn"}),_.jsx(dw,{className:"repair-transport-btn"})]})}),_.jsxs("div",{className:"repair-playback-info",children:[_.jsxs("div",{className:"repair-time-display",children:[_.jsx("span",{children:g.currentTime!==void 0?c(g.currentTime):"0:00"})," / ",_.jsx("span",{children:m.duration!==void 0?c(m.duration):"0:00"})]}),_.jsx("div",{className:"repair-playback-status",children:_.jsx("span",{children:g.isPlaying?"Playing":r?"Loading...":"Stopped"})})]})]}),_.jsxs("div",{className:"repair-master-volume",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-volume-up"})," Master Volume"]}),_.jsxs("div",{className:"repair-master-volume-control",children:[_.jsx("input",{type:"range",className:"repair-volume-slider",min:"0",max:"1",step:"0.01",value:C,onChange:Y=>{const ee=parseFloat(Y.target.value);f(ee),p(ee)}}),_.jsxs("span",{className:"repair-volume-value",children:[Math.round(C*100),"%"]})]})]}),_.jsxs("div",{className:"repair-actions",children:[_.jsxs("button",{className:"repair-action-btn primary",onClick:U,disabled:A||!m.isReady||!t.dubPath,title:t.dubPath?"Apply repair via FFmpeg":"No dub file path available",children:[_.jsx("i",{className:"fas fa-magic"})," Apply Repair (FFmpeg)"]}),_.jsxs("button",{className:"repair-action-btn success",onClick:le,disabled:Q||!m.isReady,title:"Export mixed audio as WAV (preview)",children:[_.jsx("i",{className:"fas fa-download"})," Export WAV Preview"]}),_.jsxs("button",{className:"repair-action-btn",onClick:n,children:[_.jsx("i",{className:"fas fa-times"})," Close"]})]}),(P||F)&&_.jsx("div",{className:`repair-status ${F?"error":"success"}`,children:F?_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"fas fa-exclamation-triangle"}),_.jsxs("span",{children:["Repair failed: ",F]}),_.jsx("button",{onClick:()=>R(null),className:"repair-status-close",children:_.jsx("i",{className:"fas fa-times"})})]}):P?_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"fas fa-check-circle"}),_.jsxs("span",{children:["Repair completed! Output: ",P.output_file,P.output_size&&` (${(P.output_size/1024/1024).toFixed(1)} MB)`]}),_.jsx("button",{onClick:()=>$(null),className:"repair-status-close",children:_.jsx("i",{className:"fas fa-times"})})]}):null}),O&&_.jsx("div",{className:"repair-dialog-overlay",onClick:()=>I(!1),children:_.jsxs("div",{className:"repair-dialog",onClick:Y=>Y.stopPropagation(),children:[_.jsxs("div",{className:"repair-dialog-header",children:[_.jsxs("h4",{children:[_.jsx("i",{className:"fas fa-cog"})," FFmpeg Repair Settings"]}),_.jsx("button",{onClick:()=>I(!1),className:"repair-dialog-close",children:_.jsx("i",{className:"fas fa-times"})})]}),_.jsxs("div",{className:"repair-dialog-content",children:[_.jsxs("div",{className:"repair-dialog-info",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Mode:"})," ",zu(t)?"Per-Channel (Componentized)":"Standard (Single Offset)"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Source:"})," ",t.dubPath]}),zu(t)?_.jsxs("p",{className:"repair-dialog-hint",children:[_.jsx("i",{className:"fas fa-info-circle"}),"Each channel will be adjusted based on its track position in the editor."]}):_.jsxs("p",{className:"repair-dialog-hint",children:[_.jsx("i",{className:"fas fa-info-circle"}),"The dub track offset will be applied to the entire file."]})]}),_.jsxs("div",{className:"repair-dialog-field",children:[_.jsx("label",{htmlFor:"outputPath",children:"Output Path:"}),_.jsx("input",{type:"text",id:"outputPath",value:V,onChange:Y=>B(Y.target.value),placeholder:"Leave empty for default (_repaired suffix)"})]}),_.jsx("div",{className:"repair-dialog-field",children:_.jsxs("label",{className:"repair-dialog-checkbox",children:[_.jsx("input",{type:"checkbox",checked:J,onChange:Y=>te(Y.target.checked)}),"Keep original duration (pad/trim to match)"]})}),j&&_.jsxs("div",{className:"repair-dialog-progress",children:[_.jsx("i",{className:"fas fa-spinner fa-spin"})," ",j]})]}),_.jsxs("div",{className:"repair-dialog-actions",children:[_.jsx("button",{className:"repair-dialog-btn cancel",onClick:()=>I(!1),disabled:A,children:"Cancel"}),_.jsx("button",{className:"repair-dialog-btn primary",onClick:Oe,disabled:A,children:A?_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"fas fa-spinner fa-spin"})," Repairing..."]}):_.jsxs(_.Fragment,{children:[_.jsx("i",{className:"fas fa-check"})," Apply Repair"]})})]})]})})]})})};function NR(t,e=23.976){const n=t<0?"-":"+",r=Math.abs(t),s=Math.floor(r/3600),i=Math.floor(r%3600/60),o=Math.floor(r%60),a=Math.floor(r%1*e);return`${n}${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}const AR=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(null),[s,i]=T.useState([]),[o,a]=T.useState(!1);T.useEffect(()=>{const f=v=>{r(v.detail),e(!0),a(!1),i([])};return window.addEventListener("openRepairInterface",f),()=>{window.removeEventListener("openRepairInterface",f)}},[]),T.useEffect(()=>{const f=()=>{e(!1),r(null),i([]),a(!1)};return window.addEventListener("closeRepairInterface",f),()=>{window.removeEventListener("closeRepairInterface",f)}},[]);const l=T.useMemo(()=>n?MR(n):[],[n]),{tracks:c,loading:u,error:d}=tw(l);T.useEffect(()=>{c.length>0&&!o&&!u&&(i(c),a(!0))},[c,u,o]);const h=d&&typeof d=="object"&&"message"in d?d:d?new Error(String(d)):null,p=T.useCallback(()=>{e(!1),r(null),i([]),a(!1),window.dispatchEvent(new Event("closeRepairInterface"))},[]),m=T.useCallback(f=>{i(f)},[]);if(!t||!n)return null;const g=o?s:c,C={waveformDrawMode:"normal",waveOutlineColor:"#22272e",waveFillColor:"#58a6ff",waveProgressColor:"#3fb950",selectedWaveOutlineColor:"#2d333b",selectedWaveFillColor:"#79c0ff",selectedTrackControlsBackground:"#2d333b",timeColor:"#adbac7",timescaleBackgroundColor:"#2d333b",playheadColor:"#f85149",selectionColor:"rgba(88, 166, 255, 0.3)",loopRegionColor:"rgba(63, 185, 80, 0.2)",loopMarkerColor:"#3fb950",clipHeaderBackgroundColor:"#2d333b",clipHeaderBorderColor:"#373e47",clipHeaderTextColor:"#adbac7",clipHeaderFontFamily:"Inter, -apple-system, sans-serif",selectedClipHeaderBackgroundColor:"#58a6ff",fadeOverlayColor:"rgba(0, 0, 0, 0.4)",backgroundColor:"#1c2128",surfaceColor:"#22272e",borderColor:"#373e47",textColor:"#adbac7",textColorMuted:"#768390",inputBackground:"#22272e",inputBorder:"#373e47",inputText:"#adbac7",inputPlaceholder:"#768390",inputFocusBorder:"#58a6ff",buttonBackground:"#2d333b"};return _.jsx(ow,{tracks:g,controls:{show:!0,width:200},waveHeight:80,theme:C,children:_.jsx(ER,{syncData:n,isOpen:t,onClose:p,loading:u,error:h,tracks:s,onTracksChange:m})},`repair-${(n==null?void 0:n.analysisId)||(n==null?void 0:n.analysis_id)||"default"}-${o?"edit":"load"}`)};function MR(t){var s,i;const e=[],n=t.detectedOffset||0;t.masterUrl&&e.push({src:t.masterUrl,name:((s=t.masterFile)==null?void 0:s.split("/").pop())||"Master",startTime:0,volume:.8,color:"#ef4444"});const r=t.components||t.componentResults||[];return r.length>0?r.forEach((o,a)=>{var d;const l=o.dubUrl||o.dub_url||o.audioUrl,c=o.name||((d=o.dubFile)==null?void 0:d.split("/").pop())||`Component ${a+1}`,u=o.detectedOffset||o.detected_offset||n;l&&e.push({src:l,name:c,startTime:Math.max(0,u),volume:.8,color:"#58a6ff"})}):t.dubUrl&&e.push({src:t.dubUrl,name:((i=t.dubFile)==null?void 0:i.split("/").pop())||"Dub",startTime:Math.max(0,n),volume:.8,color:"#58a6ff"}),e}function RR(t){const e=new CustomEvent("openQCInterface",{detail:t});window.dispatchEvent(e);const n=document.getElementById("qc-react-root");n&&(n.style.display="block")}function OR(){window.dispatchEvent(new Event("closeQCInterface"));const t=document.getElementById("qc-react-root");t&&(t.style.display="none")}typeof window<"u"&&(window.openQCInterface=RR,window.closeQCInterface=OR);function IR(t){const e=new CustomEvent("openRepairInterface",{detail:t});window.dispatchEvent(e);const n=document.getElementById("repair-react-root");n&&(n.style.display="block")}function PR(){window.dispatchEvent(new Event("closeRepairInterface"));const t=document.getElementById("repair-react-root");t&&(t.style.display="none")}typeof window<"u"&&(window.openRepairInterface=IR,window.closeRepairInterface=PR);const yw=()=>{let t=document.getElementById("qc-react-root");t||(t=document.createElement("div"),t.id="qc-react-root",t.style.display="none",document.body.appendChild(t)),Cl.createRoot(t).render(_.jsx(he.StrictMode,{children:_.jsx(_R,{})}))},ww=()=>{let t=document.getElementById("repair-react-root");t||(t=document.createElement("div"),t.id="repair-react-root",t.style.display="none",document.body.appendChild(t)),Cl.createRoot(t).render(_.jsx(he.StrictMode,{children:_.jsx(AR,{})}))},Eg=()=>{yw(),ww()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Eg):Eg();window.mountQCInterface=yw;window.mountRepairInterface=ww;
